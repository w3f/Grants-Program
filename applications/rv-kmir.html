<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-applications/rv-kmir">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">KMIR: the K semantics of MIR | Web3 Foundation Grants</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://w3f.github.io/Grants-Program/applications/rv-kmir"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="KMIR: the K semantics of MIR | Web3 Foundation Grants"><meta data-rh="true" name="description" content="- Team Name: Runtime Verification, Inc."><meta data-rh="true" property="og:description" content="- Team Name: Runtime Verification, Inc."><link data-rh="true" rel="icon" href="/Grants-Program/img/Web3Foundation.png"><link data-rh="true" rel="canonical" href="https://w3f.github.io/Grants-Program/applications/rv-kmir"><link data-rh="true" rel="alternate" href="https://w3f.github.io/Grants-Program/applications/rv-kmir" hreflang="en"><link data-rh="true" rel="alternate" href="https://w3f.github.io/Grants-Program/applications/rv-kmir" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://9VKKGZO0U1-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Web3 Foundation Grants" href="/Grants-Program/opensearch.xml"><link rel="stylesheet" href="/Grants-Program/assets/css/styles.d8e07fe7.css">
<link rel="preload" href="/Grants-Program/assets/js/runtime~main.79d7e877.js" as="script">
<link rel="preload" href="/Grants-Program/assets/js/main.a276941c.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#000;color:#ffffff" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">Check out <a target="_blank" rel="noopener noreferrer" href="https://web3.bamboohr.com/jobs/">our current job openings</a>!</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Grants-Program/"><div class="navbar__logo"><img src="/Grants-Program/img/Web3Foundation.png" alt="W3F Grants Program" class="themedImage_ToTc themedImage--light_HNdA"><img src="/Grants-Program/img/Web3Foundation.png" alt="W3F Grants Program" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">W3F Grants Program</b></a><a class="navbar__item navbar__link" href="/Grants-Program/introduction">Introduction</a><a class="navbar__item navbar__link" href="/Grants-Program/applications">List of Grants</a><a class="navbar__item navbar__link" href="/Grants-Program/faq">FAQ</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/Grants-Program/Process/how-to-apply">Apply</a><a class="navbar__item navbar__link" href="/Grants-Program/contribute">Contribute</a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>KMIR: the K semantics of MIR</h1><ul><li><strong>Team Name:</strong> Runtime Verification, Inc.</li><li><strong>Payment Address:</strong> 0xA3250Ab6292F2aAe7DE2DE5dC46Ba0D24dcf699E (USDC or DAI)</li><li><strong><a href="https://github.com/w3f/Grants-Program/tree/master#level_slider-levels" target="_blank" rel="noopener noreferrer">Level</a>:</strong> 3</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="project-overview-">Project Overview üìÑ<a href="#project-overview-" class="hash-link" aria-label="Direct link to Project Overview üìÑ" title="Direct link to Project Overview üìÑ">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">‚Äã</a></h3><p><em>Overview:</em></p><p>There are many approaches towards (property) testing of Rust programs, such as <a href="https://docs.rs/proptest/latest/proptest/" target="_blank" rel="noopener noreferrer">proptest</a> or <a href="https://docs.rs/quickcheck/latest/quickcheck/" target="_blank" rel="noopener noreferrer">quickcheck</a> or <a href="https://docs.rs/arbitrary/latest/arbitrary/" target="_blank" rel="noopener noreferrer">arbitrary</a>.
They are quite effective, and most likely sound, but certainly not complete due to the very notion of a test as opposed to a formal proof.
We would like to build out formal verification capabilities for Rust developers.</p><p>The <a href="https://kframework.org/" target="_blank" rel="noopener noreferrer">K Framework</a> is a language-agnostic semantic framework, quite suitable for the definition of programming language semantics, from which many compiler and verification related tools can be automatically generated.</p><p>We seek to develop <strong>KMIR: the <a href="http://github.com/kframework" target="_blank" rel="noopener noreferrer">K</a> semantics of the <a href="https://rustc-dev-guide.rust-lang.org/mir/index.html" target="_blank" rel="noopener noreferrer">MIR language</a></strong>, which is an <a href="https://blog.rust-lang.org/2016/04/19/MIR.html" target="_blank" rel="noopener noreferrer">internal representation for the Rust compiler</a>.
This will enable more scalable verification for the Rust programming language.
A robust commitment to security and assurance does not end with a completed security audit (which we have experience doing for various Rust-based projects).
Rather, it requires that all available tools and techniques are used, including rigorous proof-based formal verification (among others).
Supporting the development of the KMIR semantics will enable verification at scale for smart contract developers targeting the Polkadot (and related) ecosystem.</p><p><em>Background:</em></p><p>Runtime Verification <a href="https://github.com/runtimeverification/polkadot-verification" target="_blank" rel="noopener noreferrer">has attempted verification of Rust programs</a> in the past.
Our past approach relied on compiling to WebAssembly and then using our KWasm semantics for verification.
This suffered from two problems:</p><ul><li>The generated WebAssembly was large, making verification less tractable, and</li><li>We could not handle Rust code compiled to a non-WebAssembly target.</li></ul><p>In the WebAssembly setting, even simple Rust programs (just a few hundred lines) were compiled to WebAssembly programs that were ~100 kLOC.
Much of the generated code is boilerplate inserted by the compiler, which is uninteresting when verifying program correctness, but slows the verification process down significantly.</p><p>KMIR solves both problems.
The Rust compiler goes through MIR before compiling to any target language, and MIR is much closer to Rust than (the generated) WebAssembly.
Because of this, verification of MIR should be more tractable as we‚Äôll be dealing with code-sizes that are closer to the original Rust source code size.
This allows the difficulty of verification to be bounded by the complexity of the application rather than the complexity of the compiler toolchain.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="project-details">Project Details<a href="#project-details" class="hash-link" aria-label="Direct link to Project Details" title="Direct link to Project Details">‚Äã</a></h3><p><em>Goals:</em></p><ul><li>Develop the KMIR semantics.</li><li>Understand and document how to use KMIR to do verification.</li><li>Initial integration of KMIR into Rust development workflow.</li></ul><p><em>Deliverables:</em></p><ul><li>A first draft of the MIR semantics in K.</li><li>Corpus of tests which exercise the feature set of MIR.</li><li>Timeboxed initial KMIR semantics, which makes progress towards passing the tests.</li><li>The <strong>kmir</strong> command-line tool, which allows users to try out the initial semantics on the test-suite and other examples.</li><li>Integration with the <a href="https://github.com/runtimeverification/kup/" target="_blank" rel="noopener noreferrer"><strong>kup</strong> tool</a>, for one-command installation of K semantics and tooling.</li><li>Blog post describing the progress made, and instructing people how they can try out the semantics themselves.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ecosystem-fit">Ecosystem Fit<a href="#ecosystem-fit" class="hash-link" aria-label="Direct link to Ecosystem Fit" title="Direct link to Ecosystem Fit">‚Äã</a></h3><p>Our project fits into the ecosystem as <strong>developer tooling</strong>.
This tool will help Rust smart contract developers to improve their quality assurance pipeline and to move towards formal verification on their own.</p><p>The initial version delivered in this workplan will be focused on providing <strong>expert developer tooling</strong>.
In particular, only developers who spend extra time learning K will be able to be effective with the tool.
The next version delivered (seeking funding elsewhere) will be focused on providing <strong>developer tooling</strong>; typical Rust smart contract developers should be able to use it.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="team-">Team üë•<a href="#team-" class="hash-link" aria-label="Direct link to Team üë•" title="Direct link to Team üë•">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-members">Team members<a href="#team-members" class="hash-link" aria-label="Direct link to Team members" title="Direct link to Team members">‚Äã</a></h3><ul><li>Team Lead: Yan Liu</li><li>Team Members: Christiano Braga, Everett Hildenbrandt</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="contact">Contact<a href="#contact" class="hash-link" aria-label="Direct link to Contact" title="Direct link to Contact">‚Äã</a></h3><ul><li><strong>Contact Name:</strong> Patrick MacKay</li><li><strong>Contact Email:</strong> <a href="mailto:patrick.mackay@runtimeverification.com" target="_blank" rel="noopener noreferrer">patrick.mackay@runtimeverification.com</a></li><li><strong>Website:</strong> <a href="https://runtimeverification.com" target="_blank" rel="noopener noreferrer">https://runtimeverification.com</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="legal-structure">Legal Structure<a href="#legal-structure" class="hash-link" aria-label="Direct link to Legal Structure" title="Direct link to Legal Structure">‚Äã</a></h3><ul><li><strong>Registered Address:</strong> 1807 South Neil Street, Champaign, IL 61820</li><li><strong>Registered Legal Entity:</strong> Runtime Verification, Inc.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="teams-experience">Team&#x27;s experience<a href="#teams-experience" class="hash-link" aria-label="Direct link to Team&#x27;s experience" title="Direct link to Team&#x27;s experience">‚Äã</a></h3><p>Runtime Verification has significant past experience doing program verification for a variety of programming languages.
In particular, KEVM has been used for verifying Ethereum smart contracts, and KPlutus has been used for verifying Plutus smart contracts.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-code-repos">Team Code Repos<a href="#team-code-repos" class="hash-link" aria-label="Direct link to Team Code Repos" title="Direct link to Team Code Repos">‚Äã</a></h3><ul><li><a href="https://github.com/runtimeverification" target="_blank" rel="noopener noreferrer">https://github.com/runtimeverification</a></li><li><a href="https://github.com/runtimeverification/evm-semantics" target="_blank" rel="noopener noreferrer">https://github.com/runtimeverification/evm-semantics</a></li><li><a href="https://github.com/runtimeverification/beacon-chain-verification" target="_blank" rel="noopener noreferrer">https://github.com/runtimeverification/beacon-chain-verification</a></li><li><a href="https://github.com/runtimeverification/deposit-contract-verification" target="_blank" rel="noopener noreferrer">https://github.com/runtimeverification/deposit-contract-verification</a></li><li><a href="https://github.com/runtimeverification/deposit-contract-verification" target="_blank" rel="noopener noreferrer">https://github.com/runtimeverification/deposit-contract-verification</a></li><li><a href="https://github.com/runtimeverification/plutus-core-semantics" target="_blank" rel="noopener noreferrer">https://github.com/runtimeverification/plutus-core-semantics</a></li><li><a href="https://github.com/runtimeverification/avm-semantics" target="_blank" rel="noopener noreferrer">https://github.com/runtimeverification/avm-semantics</a></li></ul><p>Please also provide the GitHub accounts of all team members. If they contain no activity, references to projects hosted elsewhere or live are also fine.</p><ul><li><a href="https://github.com/yanliu18" target="_blank" rel="noopener noreferrer">https://github.com/yanliu18</a></li><li><a href="https://github.com/ChristianoBraga" target="_blank" rel="noopener noreferrer">https://github.com/ChristianoBraga</a></li><li><a href="https://github.com/ehildenb" target="_blank" rel="noopener noreferrer">https://github.com/ehildenb</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-linkedin-profiles-if-available">Team LinkedIn Profiles (if available)<a href="#team-linkedin-profiles-if-available" class="hash-link" aria-label="Direct link to Team LinkedIn Profiles (if available)" title="Direct link to Team LinkedIn Profiles (if available)">‚Äã</a></h3><p><em>N/A</em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="development-status-">Development Status üìñ<a href="#development-status-" class="hash-link" aria-label="Direct link to Development Status üìñ" title="Direct link to Development Status üìñ">‚Äã</a></h2><p>Work scheduled to start January 2023.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="development-roadmap-">Development Roadmap üî©<a href="#development-roadmap-" class="hash-link" aria-label="Direct link to Development Roadmap üî©" title="Direct link to Development Roadmap üî©">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview-1">Overview<a href="#overview-1" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">‚Äã</a></h3><ul><li><strong>Total Estimated Duration:</strong>: 14 weeks</li><li><strong>Full-Time Equivalent (FTE):</strong> 1.5</li><li><strong>Total Costs:</strong> 100000 USD</li><li><strong>*License:</strong> BSD-3</li></ul><p>This is the workplan submitted for the Web3 Foundation‚Äôs consideration.
It is focused on delivering a prototype that can be easily installed, tested, and used by the community.
This prototype will not be a complete semantics for MIR given the proposed timeframe, but it will be thoroughly tested and have a clear path to completion.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-1---kmir-tests">Milestone 1 - KMIR Tests<a href="#milestone-1---kmir-tests" class="hash-link" aria-label="Direct link to Milestone 1 - KMIR Tests" title="Direct link to Milestone 1 - KMIR Tests">‚Äã</a></h3><ul><li><strong>Estimated duration:</strong> 3 weeks</li><li><strong>FTE:</strong>  1.5</li><li><strong>Costs:</strong> 21000 USD</li></ul><p>Developing a language semantics requires a test suite to exercise the semantics.
The tests should try to cover all of the language features, while being small and targeted for each individual language feature.
Note that to fit into the 100000 USD budget, the initial <strong>miri</strong> investigation phase has been cut, which may cause delays in this phase as we have to investigate this tool.</p><table><thead><tr><th align="right">Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td align="right"><strong>0a.</strong></td><td>License</td><td>BSD-3</td></tr><tr><td align="right"><strong>0b.</strong></td><td>Documentation</td><td>A short README will be provided describing how to interperet the tests.</td></tr><tr><td align="right"><strong>0c.</strong></td><td>Testing and Testing Guide</td><td>CI will be set up with K and <strong>miri</strong> pre-installed.</td></tr><tr><td align="right"><strong>0d.</strong></td><td>Docker</td><td>Our CI setup relies on Dockerfiles for reproducibility, so a Dockerfile will be supplied.</td></tr><tr><td align="right">1.</td><td>MIR code snippets</td><td>For each syntactic/semantic feature of MIR language, write a targeted test and the expected execution result.</td></tr><tr><td align="right">2.</td><td>Generate output from <strong>miri</strong></td><td>Use <strong>miri</strong> (or another suitable tool, if this proves to not work), to confirm the expected output for each test.</td></tr><tr><td align="right">3.</td><td><strong>kmir</strong> executable stub</td><td>Initial no-op <strong>kmir</strong> executable which fails all the input test, but can be called on CI in parallel to <strong>miri</strong> for conformance testing.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-2---kmir-syntax">Milestone 2 - KMIR Syntax<a href="#milestone-2---kmir-syntax" class="hash-link" aria-label="Direct link to Milestone 2 - KMIR Syntax" title="Direct link to Milestone 2 - KMIR Syntax">‚Äã</a></h3><ul><li><strong>Estimated duration:</strong> 3 weeks</li><li><strong>FTE:</strong>  1.5</li><li><strong>Costs:</strong> 22000 USD</li></ul><p>Specify the syntax of MIR programs in K.
Ensure we can parse all the conformance tests developed in the previous step.</p><table><thead><tr><th align="right">Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td align="right"><strong>0a.</strong></td><td>License</td><td>BSD-3</td></tr><tr><td align="right"><strong>0b.</strong></td><td>Documentation</td><td>The README will be augmented with instructions on calling the parser.</td></tr><tr><td align="right"><strong>0c.</strong></td><td>Testing and Testing Guide</td><td>Tests from the previous step will be parsed on CI to ensure we can parse valid MIR programs.</td></tr><tr><td align="right"><strong>0d.</strong></td><td>Docker</td><td>Our CI setup relies on Dockerfiles for reproducibility, so a Dockerfile will be supplied.</td></tr><tr><td align="right">1.</td><td>KMIR syntax</td><td>Develop the syntactic constructs of KMIR needed to parse the supplied conformance tests.</td></tr><tr><td align="right">2.</td><td><strong>kmir</strong> executable extension</td><td>Provide subcommand <strong>kmir parse</strong> which can be used on CI or on CLI to parse MIR programs.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-3---kmir-semantics">Milestone 3 - KMIR Semantics<a href="#milestone-3---kmir-semantics" class="hash-link" aria-label="Direct link to Milestone 3 - KMIR Semantics" title="Direct link to Milestone 3 - KMIR Semantics">‚Äã</a></h3><ul><li><strong>Estimated duration:</strong> 6 weeks (timeboxed)</li><li><strong>FTE:</strong>  1.5</li><li><strong>Costs:</strong> 50000 USD</li></ul><p>Specify the semantics of MIR programs in K.
Progressively pass more of the conformance test-suite developed prior.
This step is timeboxed because finishing the semantics is unlikely given the timeframe.
We expect significant progress will be made in this timeframe.</p><table><thead><tr><th align="right">Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td align="right"><strong>0a.</strong></td><td>License</td><td>BSD-3</td></tr><tr><td align="right"><strong>0b.</strong></td><td>Documentation</td><td>The README will be augmented with instructions on calling the interpreter.</td></tr><tr><td align="right"><strong>0c.</strong></td><td>Testing and Testing Guide</td><td>Tests from the previous step will be executed on CI to ensure conformance with <strong>miri</strong>.</td></tr><tr><td align="right"><strong>0d.</strong></td><td>Docker</td><td>Our CI setup relies on Dockerfiles for reproducibility, so a Dockerfile will be supplied.</td></tr><tr><td align="right">1.</td><td>KMIR semantics</td><td>Develop the semantic constructs of KMIR needed to execute the supplied conformance tests (timeboxed to 8 weeks).</td></tr><tr><td align="right">2.</td><td><strong>kmir</strong> executable extension</td><td>Provide subcommand <strong>kmir run</strong> which can be used on CI or on CLI to run MIR programs.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-4---documentationpackagingannouncement">Milestone 4 - Documentation/Packaging/Announcement<a href="#milestone-4---documentationpackagingannouncement" class="hash-link" aria-label="Direct link to Milestone 4 - Documentation/Packaging/Announcement" title="Direct link to Milestone 4 - Documentation/Packaging/Announcement">‚Äã</a></h3><ul><li><strong>Estimated duration:</strong> 2 weeks</li><li><strong>FTE:</strong>  1.5</li><li><strong>Costs:</strong> 6000 USD</li></ul><p>Write a blog post which outlines:</p><ul><li>Progress on the semantics,</li><li>How to install <strong>kmir</strong> and try it, and</li><li>Future plans for <strong>kmir</strong>.</li></ul><table><thead><tr><th align="right">Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td align="right"><strong>0a.</strong></td><td>License</td><td>BSD-3</td></tr><tr><td align="right"><strong>0b.</strong></td><td>Documentation</td><td>README augmented with more instructions on using the developed interpreter.</td></tr><tr><td align="right"><strong>0c.</strong></td><td>Testing and Testing Guide</td><td>Tests from the previous step will be executed on CI to ensure conformance with <strong>miri</strong>.</td></tr><tr><td align="right"><strong>0d.</strong></td><td>Docker</td><td>Our CI setup relies on Dockerfiles for reproducibility, so a Dockerfile will be supplied.</td></tr><tr><td align="right">1.</td><td>KMIR documentation</td><td>Ensure that new users can follow instructions in the README to build the project from source.</td></tr><tr><td align="right">2.</td><td><strong>kup</strong> integration</td><td>Ensure that <a href="https://github.com/runtimeverification/kup" target="_blank" rel="noopener noreferrer"><strong>kup</strong>, the K package manager</a>, can be used to install the semantics and run MIR programs.</td></tr><tr><td align="right">2.</td><td>Blog post</td><td>A short annuoncement of the progress on the project, including instructions on how to install and use it via <strong>kup</strong>.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="future-plans">Future Plans<a href="#future-plans" class="hash-link" aria-label="Direct link to Future Plans" title="Direct link to Future Plans">‚Äã</a></h2><p>Given the target scope of the project, these tasks have been pushed to future work.
These can be funded in whole or part by the Web3 Foundation at the conclusion of the first phase.</p><p>Future Deliverables (to be submitted as part of future proposal to Web3 Foundation or to additional funding entity):</p><ul><li>Completion of the KMIR semantics, together with measurement of semantic coverage of the developed conformance test suite.</li><li>Low-level ‚Äúexpert-mode‚Äù verification capabilities added to the kmir tool.</li><li>High-level ‚Äúdeveloper-mode‚Äù verification capabilities added to the kmir tool, via connection to Rust property testing.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="finish-semantics">Finish Semantics<a href="#finish-semantics" class="hash-link" aria-label="Direct link to Finish Semantics" title="Direct link to Finish Semantics">‚Äã</a></h3><p>At the end of this step, we should have high confidence that we have an accurate model of the MIR language which can be used to faithfully execute Rust programs using our semantics-derived interpreter.
This groundwork ensures that the verification capabilities developed later will actually be relevant to real Rust programs.</p><ul><li><em>Finish existing tests</em>:
Make sure that there are no existing tests in the developed conformance test-suite that are not parsing or passing.</li><li><em>Testing coverage</em>:
Set up semantics coverage measurement on CI.<ul><li>Automate measuring semantic (rule and branch) coverage of the K definition of the conformance test-suite.</li><li>Publish the coverage reports on CI.</li><li>Extend the test-suite to reach 100% (or close to) coverage.</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="expert-mode-verification-capabilities">‚ÄúExpert-mode‚Äù Verification Capabilities<a href="#expert-mode-verification-capabilities" class="hash-link" aria-label="Direct link to ‚ÄúExpert-mode‚Äù Verification Capabilities" title="Direct link to ‚ÄúExpert-mode‚Äù Verification Capabilities">‚Äã</a></h3><p>First, we develop the K expert verification tool, because developer-level tools will build directly on this foundation.
This is similar to how our Foundry integration builds on KEVM which allows programmers to write property tests in Solidity that are discharged via symbolic execution with K with no extra manual steps.</p><ul><li><em>Simple verification challenges</em>:
Try out simple hand-written MIR verification on this semantics.
Common verification challenges for this step are functional correctness of simple arithmetic functions (integer maximum, fixed point multiplication, sum of list, sum to N, etc‚Ä¶).</li><li><em>Manual real-world verification</em>:
Timeboxed verification of chosen real-world Rust smart contract.
This first verification will uncover many inefficiencies we can address in the semantics, as well as giving people a sense of the scale/difficulty of attempting verification using this tool.
Blog post describing:<ul><li>How much progress was made on the verification in the given timeframe.</li><li>How the verification was accomplished (for reproducibility).</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="developer-mode-verification-capabilities">‚ÄúDeveloper-mode‚Äù Verification Capabilities<a href="#developer-mode-verification-capabilities" class="hash-link" aria-label="Direct link to ‚ÄúDeveloper-mode‚Äù Verification Capabilities" title="Direct link to ‚ÄúDeveloper-mode‚Äù Verification Capabilities">‚Äã</a></h3><p>The goal for this part is to provide an interface to KMIR-based verification that is intuitive to Rust developers.
This requires bridging the gap between KMIR and the Rust source language, and property testing has proven to be an effective way to do that.
Here we‚Äôll follow the same approach as KEVM‚Äôs Foundry integration mentioned above:</p><ul><li><em>Write Rust property tests</em>:
Develop a corpus of Rust property tests in one of the frameworks mentioned above which attempts to encompass a wide range of the Rust language.
They should be small tests focused on exploring each of Rust‚Äôs features as independently as possible.</li><li><em>Rust-level verification</em>:
Develop the needed infrastructure so that users can write property tests in Rust and discharge them using KMIR symbolic execution (instead of fuzzing or other testing methods for Rust programs).
Start by manually doing so for several simple property tests from the previous step and documenting the steps.
This will involve compiling the property test to MIR, and constructing the appropriate K prover query using the MIR as input.</li><li><em>Real-world verification</em>:
Select a project to attempt verification on (a DeFi app).
We‚Äôll develop (or extend) the property testing for that app.
We‚Äôll also do a best-effort (timeboxed) attempt to discharge the generated verification conditions, improving the semantics (and adding lemmas) to make it possible.
Write blog post describing the outcome, including answers to the following questions:<ul><li>How much progress was made in the given timeframe?</li><li>How was the verification accomplished (how to reproduce our work)?</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="additional-information-">Additional Information ‚ûï<a href="#additional-information-" class="hash-link" aria-label="Direct link to Additional Information ‚ûï" title="Direct link to Additional Information ‚ûï">‚Äã</a></h2><p><strong>How did you hear about the Grants Program?</strong> Direct contact with grants committee.</p><p>There is a large body of testing tools for Rust, e.g. proptest, quickcheck, arbitrary, or creusot, to name a few.
These lack the completeness that &quot;ships for free&quot; with program verification tools such as the K Framework.
Runtime Verification has successfully applied the techniques presented in this proposal to several projects, including other blockchain language semantics such as EVM, Plutus, and AVM.
We are confident that the tooling resulting from this project, should it be financed, will be an important contribution to the Rust community, being a sound, complete and effective approach to Rust program verification.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/w3f/Grants-Program/edit/master/docs/applications/rv-kmir.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#project-overview-" class="table-of-contents__link toc-highlight">Project Overview üìÑ</a><ul><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#project-details" class="table-of-contents__link toc-highlight">Project Details</a></li><li><a href="#ecosystem-fit" class="table-of-contents__link toc-highlight">Ecosystem Fit</a></li></ul></li><li><a href="#team-" class="table-of-contents__link toc-highlight">Team üë•</a><ul><li><a href="#team-members" class="table-of-contents__link toc-highlight">Team members</a></li><li><a href="#contact" class="table-of-contents__link toc-highlight">Contact</a></li><li><a href="#legal-structure" class="table-of-contents__link toc-highlight">Legal Structure</a></li><li><a href="#teams-experience" class="table-of-contents__link toc-highlight">Team&#39;s experience</a></li><li><a href="#team-code-repos" class="table-of-contents__link toc-highlight">Team Code Repos</a></li><li><a href="#team-linkedin-profiles-if-available" class="table-of-contents__link toc-highlight">Team LinkedIn Profiles (if available)</a></li></ul></li><li><a href="#development-status-" class="table-of-contents__link toc-highlight">Development Status üìñ</a></li><li><a href="#development-roadmap-" class="table-of-contents__link toc-highlight">Development Roadmap üî©</a><ul><li><a href="#overview-1" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#milestone-1---kmir-tests" class="table-of-contents__link toc-highlight">Milestone 1 - KMIR Tests</a></li><li><a href="#milestone-2---kmir-syntax" class="table-of-contents__link toc-highlight">Milestone 2 - KMIR Syntax</a></li><li><a href="#milestone-3---kmir-semantics" class="table-of-contents__link toc-highlight">Milestone 3 - KMIR Semantics</a></li><li><a href="#milestone-4---documentationpackagingannouncement" class="table-of-contents__link toc-highlight">Milestone 4 - Documentation/Packaging/Announcement</a></li></ul></li><li><a href="#future-plans" class="table-of-contents__link toc-highlight">Future Plans</a><ul><li><a href="#finish-semantics" class="table-of-contents__link toc-highlight">Finish Semantics</a></li><li><a href="#expert-mode-verification-capabilities" class="table-of-contents__link toc-highlight">‚ÄúExpert-mode‚Äù Verification Capabilities</a></li><li><a href="#developer-mode-verification-capabilities" class="table-of-contents__link toc-highlight">‚ÄúDeveloper-mode‚Äù Verification Capabilities</a></li></ul></li><li><a href="#additional-information-" class="table-of-contents__link toc-highlight">Additional Information ‚ûï</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More Info</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/w3f/Grants-Program" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://web3.foundation/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/Grants-Program/applications/Support Docs/privacy_policy">Privacy Policy</a></li></ul></div><div class="col footer__col"><div class="footer__title">Connect</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/Web3foundation" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://matrix.to/#/!XpynPDLusWUWfDpaqr:matrix.org?via=web3.foundation&amp;via=matrix.org&amp;via=matrix.parity.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Grants Community Matrix Channel<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">¬© 2023 Web3 Foundation</div></div></div></footer></div>
<script src="/Grants-Program/assets/js/runtime~main.79d7e877.js"></script>
<script src="/Grants-Program/assets/js/main.a276941c.js"></script>
</body>
</html>