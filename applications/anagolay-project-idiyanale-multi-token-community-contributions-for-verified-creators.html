<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-applications/anagolay-project-idiyanale-multi-token-community-contributions-for-verified-creators">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Project Idiyanale - Multi-token community contributions for verified creators | Web3 Foundation Grants</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://grants.web3.foundation/applications/anagolay-project-idiyanale-multi-token-community-contributions-for-verified-creators"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Project Idiyanale - Multi-token community contributions for verified creators | Web3 Foundation Grants"><meta data-rh="true" name="description" content="- Team Name: Anagolay"><meta data-rh="true" property="og:description" content="- Team Name: Anagolay"><link data-rh="true" rel="icon" href="/img/favicon-32x32.png"><link data-rh="true" rel="canonical" href="https://grants.web3.foundation/applications/anagolay-project-idiyanale-multi-token-community-contributions-for-verified-creators"><link data-rh="true" rel="alternate" href="https://grants.web3.foundation/applications/anagolay-project-idiyanale-multi-token-community-contributions-for-verified-creators" hreflang="en"><link data-rh="true" rel="alternate" href="https://grants.web3.foundation/applications/anagolay-project-idiyanale-multi-token-community-contributions-for-verified-creators" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://9VKKGZO0U1-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Web3 Foundation Grants" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.a3a64ba7.css">
<link rel="preload" href="/assets/js/runtime~main.20aac49d.js" as="script">
<link rel="preload" href="/assets/js/main.eab5eeb4.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#000;color:#ffffff" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">Check out our <a target="_blank" rel="noopener noreferrer" href="https://medium.com/web3foundation/web3-foundation-grants-program-reaches-500-projects-milestone-bf314727b2f9">500 GRANTS blogpost</a>!</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/w3f_logo.svg" alt="W3F Grants Program" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/w3f_logo.svg" alt="W3F Grants Program" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Grants Program</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/introduction">Introduction</a><a class="navbar__item navbar__link" href="/applications">List of Grants</a><a class="navbar__item navbar__link" href="/docs/faq">FAQ</a><a class="navbar__item navbar__link" href="/docs/Process/how-to-apply">Apply</a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Project Idiyanale - Multi-token community contributions for verified creators</h1><ul><li><strong>Team Name:</strong> Anagolay</li><li><strong>Payment Address:</strong> <code>0x3da76bca7ccc8f92dc9c3bc000ea5fc64d7f76b8</code> (USDT-erc20)</li><li><strong><a href="https://github.com/w3f/Grants-Program/tree/master#level_slider-levels" target="_blank" rel="noopener noreferrer">Level</a>:</strong> 2</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="project-overview-">Project Overview ðŸ“„<a href="#project-overview-" class="hash-link" aria-label="Direct link to Project Overview ðŸ“„" title="Direct link to Project Overview ðŸ“„">â€‹</a></h2><p>This application is a continuation of the previously successfully delivered grant called <code>Project Idiyanale - Phase 1</code> approved on this <a href="https://github.com/w3f/Grants-Program/pull/719" target="_blank" rel="noopener noreferrer">PR-719</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">â€‹</a></h3><p>As you already know, Anagolay is a peer-to-peerÂ framework for storing and transferring records of Rights (such as Ownership, Copyright &amp; Licenses), based on verified proofs for any digital content. Previously we have worked on building the base for the deterministic and transparent processes we call Workflows, and the on-chain permanent storage for the verifiable Statements. In this grant, we will combine it all and add two more pallets to accomplish truly decentralized community-powered contributions for all verified creators.</p><p>From Idiyanale&#x27;s point of view, verified creators are the users that have verified their online identity like a domain, subdomain, social account, or repository on Idiyanale. This approach was partially pioneered by Keybase and became a trusted way to determine that a specific user or an organization has correct rights to the given resource. Keybases&#x27; approach doesn&#x27;t include the feature where the community can support the creators in a monetary way. Such a feature was pioneered by Brave when they created theÂ <em>Brave publishers&#x27; program</em>Â and issued their cryptocurrency called BAT. The creators would claim ownership of their internet identities similarly as with Keybase, with a big difference: users could support (tip) the creators. This approach didn&#x27;t gain much traction because it required the use of Brave browser, which most users still don&#x27;t know about.</p><p>We have identified why the above projects did not succeed in enabling community contributions for verified creators and mitigated them. Keybase is centralized, and people must trust that it will not go down, shut down, or get sold (as it was). Brave&#x27;s currency is available only within the Brave browser, which limits its usage on other browsers; its verification process is centralized and not transparent.</p><p>Within the scope of this grant proposal, we are upgrading the idea of enabling community support for verified creators and combining it with the processes we built to support Anagolay that allow for transparency, decentralization, and interconnectivity.</p><p>We are creating a transparent and trusted process for verifying internet identities that will enable content creators and open-source developers to monetize the support from their communities without relying on a centralized solution.</p><p>The use case we work on expands the Polkadot and Kusama ecosystem to the whole new communities of creators previously using platforms like Patreon (content creators) and OpenCollective (open-source projects) and provides them with a sound decentralized alternative.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="project-details">Project Details<a href="#project-details" class="hash-link" aria-label="Direct link to Project Details" title="Direct link to Project Details">â€‹</a></h3><p>We expect the teams to already have a solid idea about your project&#x27;s expected final state. Therefore, we ask the teams to submit (where relevant):</p><ul><li>Mockups/designs of any UI components<ul><li>they are in the dedicated sections in the milestones</li></ul></li><li>Data models / API specifications of the core functionality<ul><li>they are in the dedicated sections in the milestones</li></ul></li><li>An overview of the technology stack to be used<ul><li>Substrate, Rust, Typescript, Svelte, Tailwind, Chrome extensions APIs</li></ul></li><li>Documentation of core components, protocols, architecture, etc. to be deployed<ul><li>After every milestone, we will deploy the deliverables on our infra for testing.</li></ul></li><li>PoC/MVP or other relevant prior work or research on the topic<ul><li>No PoC or MVP for the scope of this grant</li></ul></li><li>What your project is <em>not</em> or will <em>not</em> provide or implement<ul><li>NA</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ecosystem-fit">Ecosystem Fit<a href="#ecosystem-fit" class="hash-link" aria-label="Direct link to Ecosystem Fit" title="Direct link to Ecosystem Fit">â€‹</a></h3><p>Help us locate your project in the Polkadot/Substrate/Kusama landscape and what problems it tries to solve by answering each of these questions:</p><ul><li>Where and how does your project fit into the ecosystem?<ul><li>the creation of the functionality that are in this grant are intended to be used by the whole ecosystem, either via the Idiyanale and the Browser extension or standalone by integrating the <code>verification</code> and <code>tipping</code> pallets</li></ul></li><li>Who is your target audience (parachain/dapp/wallet/UI developers, designers, your own user base, some dapp&#x27;s userbase, yourself)?<ul><li>every person that has or will have any of the ecosystems tokens and that is willing to support creators</li><li>any substrate based chain/parachain</li></ul></li><li>What need(s) does your project meet?<ul><li>Enabling creators monetize community support: secure &amp; p2p</li><li>Enabling everybody to support individual projects and creators.</li><li>Expanding the Polkadot and Kusama ecosystem to digital creators domain ( non NFT )</li><li>Disrupting the platforms like Patreon ( creators ) and OpenCollective ( open-source projects )</li></ul></li><li>Are there any other projects similar to yours in the Substrate / Polkadot / Kusama ecosystem?<ul><li>None that we are aware of that are active</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="team-">Team ðŸ‘¥<a href="#team-" class="hash-link" aria-label="Direct link to Team ðŸ‘¥" title="Direct link to Team ðŸ‘¥">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-members">Team members<a href="#team-members" class="hash-link" aria-label="Direct link to Team members" title="Direct link to Team members">â€‹</a></h3><ul><li>Adriano Dalpane</li><li>Daniel Maricic</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="contact">Contact<a href="#contact" class="hash-link" aria-label="Direct link to Contact" title="Direct link to Contact">â€‹</a></h3><ul><li><strong>Contact Name:</strong> Daniel Maricic</li><li><strong>Contact Email:</strong> <a href="mailto:daniel@woss.io" target="_blank" rel="noopener noreferrer">daniel@woss.io</a></li><li><strong>Website:</strong> <a href="https://anagolay.network" target="_blank" rel="noopener noreferrer">https://anagolay.network</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="legal-structure">Legal Structure<a href="#legal-structure" class="hash-link" aria-label="Direct link to Legal Structure" title="Direct link to Legal Structure">â€‹</a></h3><ul><li><strong>Registered Address:</strong> Harju maakond, Tallinn, Kesklinna linnaosa, Viru vÃ¤ljak 2, 10111</li><li><strong>Registered Legal Entity:</strong> KELP DIGITAL OÃœ</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="teams-experience">Team&#x27;s experience<a href="#teams-experience" class="hash-link" aria-label="Direct link to Team&#x27;s experience" title="Direct link to Team&#x27;s experience">â€‹</a></h3><p>Both of the team members have been involved in the <a href="https://github.com/w3f/Grants-Program/pull/719" target="_blank" rel="noopener noreferrer">successfully delivered grant</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-code-repos">Team Code Repos<a href="#team-code-repos" class="hash-link" aria-label="Direct link to Team Code Repos" title="Direct link to Team Code Repos">â€‹</a></h3><ul><li><a href="https://gitlab.com/anagolay/docs" target="_blank" rel="noopener noreferrer">https://gitlab.com/anagolay/docs</a></li><li><a href="https://github.com/anagolay/anagolay-chain" target="_blank" rel="noopener noreferrer">https://github.com/anagolay/anagolay-chain</a></li><li><a href="https://github.com/anagolay/anagolay-js-sdk" target="_blank" rel="noopener noreferrer">https://github.com/anagolay/anagolay-js-sdk</a></li></ul><p>Please also provide the GitHub accounts of all team members. If they contain no activity, references to projects hosted elsewhere or live are also fine.</p><ul><li><a href="https://github.com/digitalillusion" target="_blank" rel="noopener noreferrer">https://github.com/digitalillusion</a></li><li><a href="https://github.com/woss" target="_blank" rel="noopener noreferrer">https://github.com/woss</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-linkedin-profiles-if-available">Team LinkedIn Profiles (if available)<a href="#team-linkedin-profiles-if-available" class="hash-link" aria-label="Direct link to Team LinkedIn Profiles (if available)" title="Direct link to Team LinkedIn Profiles (if available)">â€‹</a></h3><ul><li><a href="https://www.linkedin.com/in/adriano-dalpane/" target="_blank" rel="noopener noreferrer">https://www.linkedin.com/in/adriano-dalpane/</a></li><li><a href="https://www.linkedin.com/in/danielmaricic/" target="_blank" rel="noopener noreferrer">https://www.linkedin.com/in/danielmaricic/</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="development-status-">Development Status ðŸ“–<a href="#development-status-" class="hash-link" aria-label="Direct link to Development Status ðŸ“–" title="Direct link to Development Status ðŸ“–">â€‹</a></h2><p>The ongoing development happens on <a href="https://github.com/anagolay" target="_blank" rel="noopener noreferrer">https://github.com/anagolay</a> and its repos.</p><h1>Development Roadmap ðŸ”©</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview-1">Overview<a href="#overview-1" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">â€‹</a></h2><ul><li><strong>Total Estimated Duration:</strong> 2 months</li><li><strong>Full-Time Equivalent (FTE):</strong> 2 FTE</li><li><strong>Total Costs:</strong> 24000 USDT</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-1">Milestone 1<a href="#milestone-1" class="hash-link" aria-label="Direct link to Milestone 1" title="Direct link to Milestone 1">â€‹</a></h2><ul><li><strong>Estimated duration:</strong> 1 month</li><li><strong>FTE:</strong> 2</li><li><strong>Costs:</strong> 12,000 USD</li></ul><table><thead><tr><th>Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td>0a.</td><td>License</td><td>Apache 2.0</td></tr><tr><td>0b.</td><td>Documentation</td><td>We will provide both inline documentation of the code and a basic tutorial that explains how a user can perform verification of ownership of a domain through DNS TXT record</td></tr><tr><td>0c.</td><td>Testing and Testing Guide</td><td>Comprehensive unit tests will fully cover core functions to ensure functionality and robustness. In the guide, we will describe how to run these tests.</td></tr><tr><td>0d.</td><td>Docker</td><td>We will provide a Dockerfile(s) that can be used to test all the functionality delivered with this milestone</td></tr><tr><td>0e.</td><td>Demo video tutorial</td><td>We will publish a video showing the implemented functionality.</td></tr><tr><td>1.</td><td>Substrate module: verification</td><td>We will create a Substrate module that will 1) request a domain verification, 2) perform a domain verification, and 3) list all verified domains. This module requires an off-chain worker and is independent of Anagolay</td></tr><tr><td>2.</td><td>Statement pallet update</td><td>Update the existing Statements pallet to be able to store the rights and connection to the Verification pallet</td></tr><tr><td>3.</td><td>UI for claiming domain ownership</td><td>A new page in the Anagolay App where people can claim the ownership of a domain</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pallet-verification">Pallet <code>verification</code><a href="#pallet-verification" class="hash-link" aria-label="Direct link to pallet-verification" title="Direct link to pallet-verification">â€‹</a></h3><p>This palletâ€™s responsibility is to keep records of the verified items and their proofs and to know how to handle different types of verification processes and how to store them. There can be any number of Strategies implemented to handle one or more different verification scenarios. In this grant, we will implement the base code needed to run all Strategies and a <code>DNSVerificationStrategy</code>, which will verify domains and subdomains using the DNS TXT record.</p><p>In the following description, weâ€™ll speak of DNS verification, but the same procedure applies similarly to other verification strategies as well. Alice, the client, requests the verification providing the appropriate context (domain, subdomainâ€¦), and the request is stored on the chain with <code>Waiting</code> status. At the subsequent execution of the off-chain worker, such requests which are in <code>Waiting</code> status are ignored. Meanwhile, Alice has received a <code>VerificationRequested</code> event with the instructions for the verification challenge, putting a specific key in a DNS TXT record.</p><p>At this stage, the client can halt the process and perform the DoH queries before the <code>perform_verification</code> extrinsic call because this will incur the transaction fee if it fails.</p><p>The call to perform verification will update the state of the request to <code>Pending</code>, signaling to the off-chain worker that, on the next execution, the challenge must be verified. A registration fee is also deducted from Alice&#x27;s account during this transition from <code>Waiting</code> or <code>Failed</code> to <code>Pending</code>: this will be the bounty that other users can claim if, at any point in time, they verify that Aliceâ€™s domain no longer contains the correct DNS TXT and she neglected to update the verification status herself.</p><p>At execution, the appropriate verification strategy is instantiated, <code>DNSVerificationStrategy</code> in this case. It performs a call to the DNS resolve provider. The request is then updated on the chain with the call to a local unsigned extrinsic to store the verification with the appropriate status <code>Success</code> or <code>Failure</code>. If the verification fails, the registration fee is attributed to the account which is the origin of the call to perform verification, in appreciation of the behavior of external actors that validate that <code>VerificationRequest</code> validity is not expired.</p><div class="mermaid" data-mermaid-src="sequenceDiagram
  title Verification

  participant Alice

  participant OnChain

  participant OffChainWorker

  participant ExternalSystem

  Alice-&gt;&gt;OnChain: request_verification()
  activate OnChain
  OnChain-&gt;&gt;OnChain: VerificationRequest=Waiting
  OnChain-&gt;&gt;OnChain: pay registration fee

  activate OffChainWorker
  OffChainWorker-&gt;&gt;OffChainWorker: check VerificationRequest=Pending
  deactivate OffChainWorker

  OnChain--&gt;&gt;Alice: VerificationRequested
  activate Alice

  deactivate OnChain
  Alice-&gt;&gt;ExternalSystem: key
  Alice-&gt;&gt;OnChain: perform_verification()
  activate OnChain

  deactivate Alice
  OnChain-&gt;&gt;OnChain: VerificationRequest=Pending
  OnChain--&gt;&gt;Alice: VerificationRequested
  deactivate OnChain

  activate OffChainWorker
  OffChainWorker-&gt;&gt;OffChainWorker:check VerificationRequest=Pending
  OffChainWorker-&gt;&gt;ExternalSystem:check key
  ExternalSystem--&gt;&gt;OffChainWorker:(VerificationStatus)
  OffChainWorker-&gt;&gt;OnChain:store_verification()
  deactivate OffChainWorker

  activate OnChain
  OnChain-&gt;&gt;OnChain: VerificationRequest=(VerificationStatus)
  OnChain-&gt;&gt;OnChain: if VerificationRequest=Failed then claim registration fee
  OnChain--&gt;&gt;Alice: VerificationSuccessful or VerificationFailed
  deactivate OnChain">sequenceDiagram
  title Verification

  participant Alice

  participant OnChain

  participant OffChainWorker

  participant ExternalSystem

  Alice-&gt;&gt;OnChain: request_verification()
  activate OnChain
  OnChain-&gt;&gt;OnChain: VerificationRequest=Waiting
  OnChain-&gt;&gt;OnChain: pay registration fee

  activate OffChainWorker
  OffChainWorker-&gt;&gt;OffChainWorker: check VerificationRequest=Pending
  deactivate OffChainWorker

  OnChain--&gt;&gt;Alice: VerificationRequested
  activate Alice

  deactivate OnChain
  Alice-&gt;&gt;ExternalSystem: key
  Alice-&gt;&gt;OnChain: perform_verification()
  activate OnChain

  deactivate Alice
  OnChain-&gt;&gt;OnChain: VerificationRequest=Pending
  OnChain--&gt;&gt;Alice: VerificationRequested
  deactivate OnChain

  activate OffChainWorker
  OffChainWorker-&gt;&gt;OffChainWorker:check VerificationRequest=Pending
  OffChainWorker-&gt;&gt;ExternalSystem:check key
  ExternalSystem--&gt;&gt;OffChainWorker:(VerificationStatus)
  OffChainWorker-&gt;&gt;OnChain:store_verification()
  deactivate OffChainWorker

  activate OnChain
  OnChain-&gt;&gt;OnChain: VerificationRequest=(VerificationStatus)
  OnChain-&gt;&gt;OnChain: if VerificationRequest=Failed then claim registration fee
  OnChain--&gt;&gt;Alice: VerificationSuccessful or VerificationFailed
  deactivate OnChain</div><p><strong>Storage</strong></p><ul><li><code>VerificationRequestByAccountIdVerificationContext</code> provides the <code>VerificationRequest</code>s indexed by their holder <code>AccountId</code> and <code>VerificationContext</code></li></ul><p><strong>Types</strong></p><ul><li><code>Bytes</code> is an alias for <code>BoundedVec&lt;u8, Get&lt;u32&gt;&gt;</code></li><li><code>DomainVerificationContext</code> is an enumeration providing the switch to verify (full URL + breakdown) and implements the <code>VerificationContext</code> trait<ul><li>a domain (ex: anagolay.dev)</li><li>a domain with a username (ex: github.com/anagolay)</li><li>a domain with a subdomain (ex: adriano.anagolay.network)</li><li>a domain with a username and a repository (ex: github.com/woss/git-gpg-remote-sign)</li></ul></li><li><code>VerificationStrategy</code> is a trait that mimics the behavior of verification strategies on a <code>VerificationContext</code> trait, providing the following methods:<ul><li><code>supports(VerificationContext) -&gt; bool</code> : defines whether a <code>VerificationContext</code> is supported or not</li><li><code>verify() -&gt; VerificationStatus</code>: performs an HTTP call to check the required criterion to pass the verification</li></ul></li><li><code>VerificationStatus</code> is an enumeration representing the status of the verification:<ul><li><code>Waiting</code></li><li><code>Pending</code></li><li><code>Failure</code></li><li><code>Success</code></li></ul></li><li><code>VerificationRequest</code> a structure representing the request to verify:<ul><li><code>context</code>: one of the supported <code>VerificationContext</code>s</li><li><code>status</code>: the <code>VerificationStatus</code></li><li><code>holder</code>: the <code>AccountId</code> issuing the request</li><li><code>action</code>: an indication of the action that the holder must perform to pass verification, which is the verification strategy</li><li><code>key</code>: a <code>Bytes</code> field containing a challenge string. This is in complete control of the invoked Strategy</li><li><code>id</code>: an <code>Option&lt;Bytes&gt;</code> the feedback from the holder pointing at the exact place where the verification should happen (TweetId, etcâ€¦)</li></ul></li></ul><p><strong>Events</strong></p><ul><li><code>VerificationRequested(AccountId, VerificationRequest)</code> produced upon newly requested verification to communicate to the holder the expected action to take</li><li><code>VerificationSuccessful</code> produced upon successful verification</li><li><code>VerificationFailed(Bytes)</code> produced upon failed verification provides a textual explanation of what went wrong.</li></ul><p><strong>Errors</strong></p><ul><li><code>VerificationAlreadyIssued</code> whether the <code>VerificationContext</code> is submitted twice, no matter the <code>VerificationStatus</code></li></ul><p><strong>Extrinsics</strong></p><ol><li><code>request_verification()</code> accepts a <code>VerificationContext</code> and produces the information for the holder about the action to take in order for the verification to succeed. A <code>VerificationRequest</code> is initialized, iterating through all known <code>VerificationStrategy</code> in order to find the one that supports the <code>VerificationContext</code> The <code>VerificationRequest</code> is stored in <code>VerificationRequestByAccountIdAndVerificationContext </code> with the status <code>Waiting</code>, and a <code>VerificationRequested</code> event is emitted.</li><li><code>perform_verification()</code> accepts a <code>VerificationContext</code> and <code>id</code> and signals that the holder has taken the appropriate action in order for the verification to succeed. The respective <code>VerificationRequest</code> from <code>VerificationRequestByContext</code> is stored in the off-chain worker indexing database with the status <code>Pending</code> and the holder pays a certain amount as a registration fee for the first time only: it will be possible to claim this amount back later. As soon as the off-chain worker runs, it finds the pending request in the off-chain worker indexing database and instantiates the required strategy to perform the verification, which depends on the specific implementation. At this point, an unsigned local transaction is submitted to <code>store_verification()</code>, passing the <code>VerificationStatus</code>.</li><li><code>store_verification()</code> updates the <code>VerificationRequest</code> present in <code>VerificationRequestByAccountIdAndVerificationContext</code> storage with the <code>VerificationStatus</code> coming from the off-chain worker. This extrinsic accepts to be called only as an unsigned local transaction, thus not from the external world. One of the <code>VerificationSuccesful</code> or <code>VerificationFailed</code> events is raised according to the status.<ol><li>when the <code>VerificationRequest</code> <code>status</code> translates from <code>Success</code> to <code>Failure</code>, an economic incentive is attributed to the account that is the origin of the <code>perform_verification()</code>. The amount is initially paid by the <code>VerificationRequest</code> holder, who has either failed to notify the invalidation of the domain or is claiming the amount back.</li></ol></li></ol><p><strong>DNSVerificationStrategy</strong></p><p>This strategy depends on setting the correct TXT record that is checked in an off-chain worker using the HTTP call to a DoH (DNS over) service at the moment the verification is performed, so the TXT record must be in place for verification to succeed.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="statement-pallet-update---integration-with-anagolay">Statement pallet update - Integration with Anagolay<a href="#statement-pallet-update---integration-with-anagolay" class="hash-link" aria-label="Direct link to Statement pallet update - Integration with Anagolay" title="Direct link to Statement pallet update - Integration with Anagolay">â€‹</a></h3><p>The <code>verification</code> pallet is intended to be used by the substrate community; however, the <code>statements</code> pallet is modified to integrate these previous verification steps and to allow the holder of a successful verification request to produce a Statement of ownership out of the verification result.</p><div class="mermaid" data-mermaid-src="sequenceDiagram
  title Statement creation

  participant Alice

  participant OnChain

  activate OnChain
  OnChain--&gt;&gt;Alice:VerificationSuccessful
  activate Alice
  deactivate OnChain

  Alice-&gt;&gt;Alice: create and sign the Claim
  Alice-&gt;&gt;OnChain: create_ownership_for_verification()
  activate OnChain
  deactivate Alice

  OnChain--&gt;&gt;Alice: OwnershipCreated
  deactivate OnChain">sequenceDiagram
  title Statement creation

  participant Alice

  participant OnChain

  activate OnChain
  OnChain--&gt;&gt;Alice:VerificationSuccessful
  activate Alice
  deactivate OnChain

  Alice-&gt;&gt;Alice: create and sign the Claim
  Alice-&gt;&gt;OnChain: create_ownership_for_verification()
  activate OnChain
  deactivate Alice

  OnChain--&gt;&gt;Alice: OwnershipCreated
  deactivate OnChain</div><p><strong>Storage</strong></p><ul><li><code>StatementIdByVerificationContext</code> provides the <code>StatementId</code> indexed by the respective <code>VerificationContext</code>, if some.</li></ul><p><strong>Types</strong></p><ul><li>Statement validity, expiration, and creation time must be expressed in block time and moved to the <code>extra</code> field of the <code>AnagolayStructure</code>. A validity <code>status</code> is also added so that the Statement is revoked when expiration is reached.</li></ul><p><strong>Extrinsics</strong></p><ol><li>The new extrinsic <code>create_ownership_for_verification()</code> will also create the <code>ProofData</code>, filling it with the signature holder, the <code>VerificationContext</code>, and checking that the respective <code>VerificationRequest</code> is successful. The data is also complemented with some data coming from the strategy, like <code>workflow_id</code>. A Proof is generated and associated with the Statement, while the link between verification and Statement is inserted into <code>StatementIdByVerificationContext</code> storage. An <code>OwnershipCreated</code> event is raised at the end</li><li>change the existing <code>create_ownership()</code> and <code>create_copyright()</code> extrinsic to accept the <code>ProofData</code>, then invoke the <code>proofs</code> pallet to create the Proof with an invariant proof_id</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ui-for-claiming-domain-ownership">UI for claiming domain ownership<a href="#ui-for-claiming-domain-ownership" class="hash-link" aria-label="Direct link to UI for claiming domain ownership" title="Direct link to UI for claiming domain ownership">â€‹</a></h3><p>We will create the new publicly available page in Anagolay DApp called <code>claim-domain-ownership</code>. On this page, users can go through the process of claiming domain ownership using the DNS verification strategy. The final goal is to store the Ownership Statement on-chain successfully.</p><p>Anagolay App is using the PolkadotJS browser extension and expects to be able to inject the accounts. We will not provide a tutorial on how to transfer the assets nor how to create the account in the extension. The verification will fail if the selected account doesnâ€™t have enough funds.</p><p>Mockup:</p><p><img loading="lazy" src="https://ipfs.anagolay.network/ipfs/bafybeigyprrq34caygzwkvpyewesvo3b2veot7awkjnc4mw6qb4xuvhrim?filename=Domain_Verification_Wireframe.jpg" alt="Domain_Verification_Wireframe.jpg" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-2">Milestone 2<a href="#milestone-2" class="hash-link" aria-label="Direct link to Milestone 2" title="Direct link to Milestone 2">â€‹</a></h2><ul><li><strong>Estimated Duration:</strong> 1 month</li><li><strong>FTE:</strong> 2</li><li><strong>Costs:</strong> 12,000 USD</li></ul><table><thead><tr><th>Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td>0a.</td><td>License</td><td>AGPLv3</td></tr><tr><td>0b.</td><td>Documentation</td><td>We will provide inline documentation of the code and a basic tutorial that explains how a user can perform tipping to a verified domain</td></tr><tr><td>0c.</td><td>Testing and Testing Guide</td><td>Comprehensive unit tests will fully cover core functions to ensure functionality and robustness. In the guide, we will describe how to run these tests.</td></tr><tr><td>0d.</td><td>Docker</td><td>We will provide a Dockerfile(s) that can be used to test all the functionality delivered with this milestone.</td></tr><tr><td>0e.</td><td>Demo video tutorial</td><td>We will publish a video showing the implemented functionality.</td></tr><tr><td>1.</td><td>Substrate module: tipping</td><td>We will create a Substrate module that will 1) allow sending tokens to the holder of the verification of a domain 2) list all the tips received</td></tr><tr><td>2.</td><td>Anagolay Extension</td><td>We will deliver a chrome browser extension that allows a substrate account to send tips using the chosen token</td></tr><tr><td>3.</td><td>UI: <code>my-domains</code> page</td><td>A new page in Anagolay App for enabling and setting up tipping</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pallet-tipping">Pallet <code>tipping</code><a href="#pallet-tipping" class="hash-link" aria-label="Direct link to pallet-tipping" title="Direct link to pallet-tipping">â€‹</a></h3><p>Tipping pallet is the core feature in our attempt to build the functionality and features to support creatorsâ€™ economy in a truly decentralized manner. Every creator can verify their revenue channels like websites, subdomains, or a username on commercial websites and accept payment from anybody in crypto. This pallet, together with the Anagolay Extension, can be used to support open-source projects per user and per repository. To prevent the misuse of the pallet and to make sure that the correct people are supported, the tipping pallet depends on the <code>verification</code> pallet to get the proofs of the domain, username or repository verification, and <code>statements</code> pallet for the ownership.</p><p><strong>Storage</strong></p><ul><li><code>TippingSettingsByReceiverAccountId</code> provides the <code>TippingSettings</code> indexed by their respective <code>ReceiverAccountId</code></li><li><code>TipsByReceiverAccountIdAndVerificationContext</code> provides a collection of <code>Tips</code> indexed by their respective <code>ReceiverAccountId</code> and <code>VerificationContext</code>.</li></ul><p><strong>Events</strong></p><ul><li><code>TipCreated(SenderAccountId, ReceiverAccountId, Tip)</code> produced upon the newly created tip</li></ul><p><strong>Types</strong></p><ul><li><code>TippingToken</code> enumeration of the supported tokens for tipping</li><li><code>TippingSettings</code> is a structure associated with every domain, providing the following fields:<ul><li><code>enabled</code>: specifies that the tipping is enabled or not</li><li><code>accounts</code>: a map having <code>TippingToken</code> key and <code>ReceiverAccountId</code> values, where each entry specifies to which wallet to send the tips given in some kind of token</li></ul></li><li><code>Tip</code> structure representing a tip, providing the following fields:<ul><li><code>index</code> the position of the tip in the collection of tips for the same <code>VerificationContext</code></li><li><code>amount</code> - quantity of tokens tipped</li><li><code>token</code> - <code>TippingToken</code> One of the TippingToken values</li><li><code>sender</code> - <code>AccountId</code> A user that is tipping</li><li><code>createdAt</code> UNIX timestamp of the tip</li></ul></li></ul><p><strong>Extrinsic</strong></p><ol><li><code>tip</code> accepts a <code>Tip</code> and a receiver <code>AccountId</code> along with a <code>VerificationContext</code> and stores them in the <code>TipsByAccountIdAndVerificationContext</code> then initiates the transfer of the required amount from the account of the sender to the account of the receiver.</li><li>custom RPC that allows retrieving the paginated list of <code>Tip</code>s</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="anagolay-browser-extension">Anagolay browser extension<a href="#anagolay-browser-extension" class="hash-link" aria-label="Direct link to Anagolay browser extension" title="Direct link to Anagolay browser extension">â€‹</a></h3><p>Anagolay Extension is the extension for chrome based browsers that is used as an entry point for the Tipping and community support of the verified creators. Users can tip other users in supported currencies or tokens in just a few clicks, completely secure and p2p. Idiyanale does not take any additional fees apart from the standard extrinsic fees. To prevent misuse, the extension will not allow tipping for the domains, usernames, and repositories that are not verified.</p><p>We donâ€™t want to write yet another browser-based wallet, and we are very strict about the user&#x27;s security and private keys; for that reason, we are using the PolkadotJs extension for all crypto and account-based actions like signing the transactions.</p><p>Here is the Sequence Diagram when the user selects the Idiyanale token.</p><div class="mermaid" data-mermaid-src="sequenceDiagram
    actor Alice
    Extension-&gt;&gt;IdiyanaleChain: Check for verification
    IdiyanaleChain-&gt;&gt;Extension: Domain verified
    Note over Extension: Enable tipping functionality
    Alice-&gt;&gt;+Extension: Select native token for tipping (IDI)
    Alice-&gt;&gt;+Extension: Select the amount
    Extension-&gt;&gt;+IdiyanaleChain: Check funds for the account
    IdiyanaleChain--&gt;&gt;Extension: Funds amount
    Note over Extension: Enable tipping button if Funds &gt; Tip amount
    Alice-&gt;&gt;+Extension: Send tip
    Extension-&gt;&gt;+IdiyanaleChain: Invoke the tip() extrinsic
    IdiyanaleChain--&gt;&gt;Extension: Success
    Extension--&gt;&gt;Alice: Tip successful
    Note over Alice,Extension: Confetti ðŸ¥³">sequenceDiagram
    actor Alice
    Extension-&gt;&gt;IdiyanaleChain: Check for verification
    IdiyanaleChain-&gt;&gt;Extension: Domain verified
    Note over Extension: Enable tipping functionality
    Alice-&gt;&gt;+Extension: Select native token for tipping (IDI)
    Alice-&gt;&gt;+Extension: Select the amount
    Extension-&gt;&gt;+IdiyanaleChain: Check funds for the account
    IdiyanaleChain--&gt;&gt;Extension: Funds amount
    Note over Extension: Enable tipping button if Funds &gt; Tip amount
    Alice-&gt;&gt;+Extension: Send tip
    Extension-&gt;&gt;+IdiyanaleChain: Invoke the tip() extrinsic
    IdiyanaleChain--&gt;&gt;Extension: Success
    Extension--&gt;&gt;Alice: Tip successful
    Note over Alice,Extension: Confetti ðŸ¥³</div><p>Anagolay Browser Extension Mockup:</p><p><img loading="lazy" src="https://ipfs.anagolay.network/ipfs/bafybeid6sjvds5ewqmkffcglglliqwbomp45mjd2xh5zor6onfvcad4zaq?filename=Tipping_Extension.png" alt="Tipping_Extension.png" class="img_ev3q"></p><h1>Future Plans</h1><p>As the members of the SBP we have already solid understanding what we are building in next 1 year. Next improvements that are related to this grant are building more Strategies, a UI for the creators similar to OpenCollective. We will also improve the Extension integrating a DEX, ( Polkadex is a possibility ), and much more. All this goes hand-in-hand with our Mission and Vision to bring the decentralized Rights management, protect the creators IPs.</p><h1>Additional Information âž•</h1><p><strong>How did you hear about the Grants Program?</strong></p><p>We had successfully delivered previous grant <a href="https://github.com/w3f/Grants-Program/pull/719" target="_blank" rel="noopener noreferrer">PR-719</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/w3f/Grants-Program/edit/master/applications/anagolay-project-idiyanale-multi-token-community-contributions-for-verified-creators.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#project-overview-" class="table-of-contents__link toc-highlight">Project Overview ðŸ“„</a><ul><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#project-details" class="table-of-contents__link toc-highlight">Project Details</a></li><li><a href="#ecosystem-fit" class="table-of-contents__link toc-highlight">Ecosystem Fit</a></li></ul></li><li><a href="#team-" class="table-of-contents__link toc-highlight">Team ðŸ‘¥</a><ul><li><a href="#team-members" class="table-of-contents__link toc-highlight">Team members</a></li><li><a href="#contact" class="table-of-contents__link toc-highlight">Contact</a></li><li><a href="#legal-structure" class="table-of-contents__link toc-highlight">Legal Structure</a></li><li><a href="#teams-experience" class="table-of-contents__link toc-highlight">Team&#39;s experience</a></li><li><a href="#team-code-repos" class="table-of-contents__link toc-highlight">Team Code Repos</a></li><li><a href="#team-linkedin-profiles-if-available" class="table-of-contents__link toc-highlight">Team LinkedIn Profiles (if available)</a></li></ul></li><li><a href="#development-status-" class="table-of-contents__link toc-highlight">Development Status ðŸ“–</a></li><li><a href="#overview-1" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#milestone-1" class="table-of-contents__link toc-highlight">Milestone 1</a><ul><li><a href="#pallet-verification" class="table-of-contents__link toc-highlight">Pallet <code>verification</code></a></li><li><a href="#statement-pallet-update---integration-with-anagolay" class="table-of-contents__link toc-highlight">Statement pallet update - Integration with Anagolay</a></li><li><a href="#ui-for-claiming-domain-ownership" class="table-of-contents__link toc-highlight">UI for claiming domain ownership</a></li></ul></li><li><a href="#milestone-2" class="table-of-contents__link toc-highlight">Milestone 2</a><ul><li><a href="#pallet-tipping" class="table-of-contents__link toc-highlight">Pallet <code>tipping</code></a></li><li><a href="#anagolay-browser-extension" class="table-of-contents__link toc-highlight">Anagolay browser extension</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More Info</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/w3f/Grants-Program" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://web3.foundation/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Support Docs/privacy_policy">Privacy Policy</a></li></ul></div><div class="col footer__col"><div class="footer__title">Connect</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/Web3foundation" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://matrix.to/#/!XpynPDLusWUWfDpaqr:matrix.org?via=web3.foundation&amp;via=matrix.org&amp;via=matrix.parity.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Grants Community Matrix Channel<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Â© 2023 Web3 Foundation</div></div></div></footer></div>
<script src="/assets/js/runtime~main.20aac49d.js"></script>
<script src="/assets/js/main.eab5eeb4.js"></script>
</body>
</html>