<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-applications/PrivaDEX_aggregator">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">PrivaDEX: Cross-Chain DEX Aggregator MVP | Web3 Foundation Grants</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://w3f.github.io/Grants-Program/applications/PrivaDEX_aggregator"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="PrivaDEX: Cross-Chain DEX Aggregator MVP | Web3 Foundation Grants"><meta data-rh="true" name="description" content="- Team Name: OCamlMyCaml"><meta data-rh="true" property="og:description" content="- Team Name: OCamlMyCaml"><link data-rh="true" rel="icon" href="/Grants-Program/img/Web3Foundation.png"><link data-rh="true" rel="canonical" href="https://w3f.github.io/Grants-Program/applications/PrivaDEX_aggregator"><link data-rh="true" rel="alternate" href="https://w3f.github.io/Grants-Program/applications/PrivaDEX_aggregator" hreflang="en"><link data-rh="true" rel="alternate" href="https://w3f.github.io/Grants-Program/applications/PrivaDEX_aggregator" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://9VKKGZO0U1-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Web3 Foundation Grants" href="/Grants-Program/opensearch.xml"><link rel="stylesheet" href="/Grants-Program/assets/css/styles.e66379ce.css">
<link rel="preload" href="/Grants-Program/assets/js/runtime~main.013c5ecd.js" as="script">
<link rel="preload" href="/Grants-Program/assets/js/main.bf00ec53.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#000;color:#ffffff" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">Check out <a target="_blank" rel="noopener noreferrer" href="https://web3.bamboohr.com/jobs/">our current job openings</a>!</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Grants-Program/"><div class="navbar__logo"><img src="/Grants-Program/img/Web3Foundation.png" alt="W3F Grants Program" class="themedImage_ToTc themedImage--light_HNdA"><img src="/Grants-Program/img/Web3Foundation.png" alt="W3F Grants Program" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">W3F Grants Program</b></a><a class="navbar__item navbar__link" href="/Grants-Program/introduction">Introduction</a><a class="navbar__item navbar__link" href="/Grants-Program/applications">List of Grants</a><a class="navbar__item navbar__link" href="/Grants-Program/faq">FAQ</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/Grants-Program/Process/how-to-apply">Apply</a><a class="navbar__item navbar__link" href="/Grants-Program/contribute">Contribute</a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>PrivaDEX: Cross-Chain DEX Aggregator MVP</h1><ul><li><strong>Team Name:</strong> OCamlMyCaml</li><li><strong>Payment Address:</strong> 13BpdtqDLM25KfCb5ttYy1opDP1sHmUNQka8QZi5DqQ3UGAV (Polkadot - USDT)</li><li><strong><a href="https://github.com/w3f/Grants-Program/tree/master#level_slider-levels" target="_blank" rel="noopener noreferrer">Level</a>:</strong> 3</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="project-overview-">Project Overview ðŸ“„<a class="hash-link" href="#project-overview-" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a class="hash-link" href="#overview" title="Direct link to heading">â€‹</a></h3><p>PrivaDEX is a cross-chain DEX aggregator that enables cross-chain trading and unifies Polkadot&#x27;s fragmented DeFi ecosystem.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="defi-in-polkadot-is-frustratingly-fragmented">DeFi in Polkadot is <em>frustratingly fragmented</em><a class="hash-link" href="#defi-in-polkadot-is-frustratingly-fragmented" title="Direct link to heading">â€‹</a></h4><p>There are currently five parachains that each hold 10-35% of Polkadot&#x27;s total DEX TVL, with four more parachains that plan to soon launch (or have recently launched) their flagship DEX. Despite having so many trading venues available, 80% of DEX users trade on a single parachain - and are thus limited to 10-35% of the available trading opportunities <!-- -->[1]<!-- -->.
<img loading="lazy" src="https://raw.githubusercontent.com/kapilsinha/privadex/main/media/dex_usage_pie_chart.png" alt="Pie chart" class="img_ev3q"></p><p>The reason is simple; cross-chain trading is far too cumbersome. Executing a cross-chain swap is a 5 minute endeavor that requires several DEX swaps, manually bridging tokens, and waiting for all the transactions to be processed <!-- -->[2]<!-- -->. In short, DeFi in Polkadot is frustratingly fragmented. </p><p>[1]<!-- --> Based on results from surveys like <a href="https://docs.google.com/forms/d/16p3ti-VbX_yrU74TqZlxNapYFsISAOJKaM0B6B6jT1M" target="_blank" rel="noopener noreferrer">this one</a>, collected from users of StellaSwap, BeamSwap, ArthSwap, and AcalaSwap.</p><p>[2]<!-- --> Coming from a trading background, Kapil developed and ran systematic trading strategies in the Polkadot ecosystem a few months ago. At the time, liquidity was particularly scarce in light of the Nomad bridge hack and the Acala hack, necessitating multi-venue trading. Nevertheless, he found it impossible to systematically trade cross-chain due to the lack of existing automation.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="privadex-defragments-defi">PrivaDEX defragments DeFi<a class="hash-link" href="#privadex-defragments-defi" title="Direct link to heading">â€‹</a></h4><p>PrivaDEX automates cross-chain messaging and smart order routing so that traders donâ€™t spend those 5 minutes manually executing one cross-chain trade. Now it&#x27;s one step.</p><p>By pooling liquidity from several DEXes across chains, PrivaDEX has access to more liquidity than any existing DEX. Further, it optimizes order splitting/routing to minimize price impact and achieve the best prices for users. PrivaDEX makes it 1-click-easy to efficiently trade across parachains.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="project-details">Project Details<a class="hash-link" href="#project-details" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="architecture">Architecture<a class="hash-link" href="#architecture" title="Direct link to heading">â€‹</a></h4><p><img loading="lazy" src="https://github.com/kapilsinha/privadex/blob/main/media/technical_flow.png?raw=true" alt="Technical flow" class="img_ev3q"></p><p>Moving left to right in the above diagram, the development stack consists of</p><ol><li>Typescript and GraphQL for the blockchain indexing to generate price feeds</li><li>Phat Contract Rust code, which looks like ink! smart contract code and acts like an AWS Lambda (off-chain stateless/serverless computing)</li><li>React for the swap UI</li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="proof-of-concept">Proof-of-Concept<a class="hash-link" href="#proof-of-concept" title="Direct link to heading">â€‹</a></h4><p>We have developed a proof-of-concept for the executor module <a href="https://drive.google.com/file/d/1jmPsCUfRWBJX6oRYvmAUGISYzbz2U0-9" target="_blank" rel="noopener noreferrer">here</a>. This PoC, implemented in a <a href="https://wiki.phala.network/en-us/general/phala-network/products/#phat-contract" target="_blank" rel="noopener noreferrer">Phat Contract</a> demonstrates the following steps:</p><ol><li>The user sends the <em>sourceToken</em> to the protocol.</li><li>The protocol XCM asset transfers this token amount to the <em>destinationChain</em>.</li><li>The protocol swaps <em>sourceToken</em> for <em>destinationToken</em> on the remote chain&#x27;s Uniswap-like DEX.</li><li>The protocol transfers <em>destinationToken</em> from its escrow account to the user&#x27;s wallet on <em>destinationChain</em>.</li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="existing-code-and-design-documents">Existing Code and Design Documents<a class="hash-link" href="#existing-code-and-design-documents" title="Direct link to heading">â€‹</a></h4><p>Please check out the <a href="https://github.com/kapilsinha/privadex" target="_blank" rel="noopener noreferrer">main repo</a>. It contains some of the source code we have already written as well as design documents (in <code>README</code> files) for the incomplete items.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ecosystem-fit">Ecosystem Fit<a class="hash-link" href="#ecosystem-fit" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="serving-dex-users-on-every-parachain">Serving DEX users on every parachain<a class="hash-link" href="#serving-dex-users-on-every-parachain" title="Direct link to heading">â€‹</a></h4><p>While Polkadot is designed for interoperability amongst chains, most XCM development efforts (e.g. X-Tokens/XTransfer pallets, bridges, remote execution) largely still serve developers, not lay end users.</p><p>PrivaDEX is intended for DEX users on every Polkadot parachain. It enables users to conveniently trade cross-chain and efficiently trade intra-chain.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="comparing-to-evm-dex-aggregators">Comparing to EVM DEX aggregators<a class="hash-link" href="#comparing-to-evm-dex-aggregators" title="Direct link to heading">â€‹</a></h4><p>There are <em>no</em> similar DEX aggregators in the Polkadot ecosystem. Other blockchains have DEX aggregators that generally fall under two categories:</p><ol><li>Intra-chain DEX aggregator like 1Inch: these find optimal routes by consolidating data from multiple DEXes on a single chain. There is no cross-chain component.</li><li>Multi-chain DEX aggregator like Rango Exchange: these have poor (1) support for non-EVM chains, (2) UX, and (3) quality of routing solutions. PrivaDEX addresses these three shortcomings:</li></ol><p>(1) PrivaDEX has built-in Substrate and EVM compatibility and thus can uniquely integrate with any parachain (and associated XCMP channels).</p><p>(2) PrivaDEX requires the user to sign just one transaction. Multi-chain aggregators like Rango require the user to sign a transaction each step of the way. This makes for a huge UX difference: users should be able to click a button and walk away, not need to stay on a webpage for minutes and sign multiple transactions along the way.</p><p>(3) PrivaDEX smart order router logic involves splitting the route to optimize for price impact (which becomes a significant consideration where liquidity is relatively low). Rango never splits routes to optimize for price impact. Note that this is not a simple add-on feature because it is also a result of their requirement that a user sign every transaction - they would have to ask the user to sign 2-3x as many transactions to account for these split routes!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="team-">Team ðŸ‘¥<a class="hash-link" href="#team-" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-members">Team members<a class="hash-link" href="#team-members" title="Direct link to heading">â€‹</a></h3><ul><li>Kapil Sinha</li><li>Ayan Bandyopadhyay</li><li>Bradley Justice</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="contact">Contact<a class="hash-link" href="#contact" title="Direct link to heading">â€‹</a></h3><ul><li><strong>Contact Name:</strong> Kapil Sinha</li><li><strong>Contact Email:</strong> <a href="mailto:ksinha1999@gmail.com" target="_blank" rel="noopener noreferrer">ksinha1999@gmail.com</a></li><li><strong>Website:</strong> Coming soon!</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="legal-structure">Legal Structure<a class="hash-link" href="#legal-structure" title="Direct link to heading">â€‹</a></h3><ul><li><strong>Registered Address:</strong> We do not have a registered address</li><li><strong>Registered Legal Entity:</strong> We do not have a registered legal entity</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="teams-experience">Team&#x27;s experience<a class="hash-link" href="#teams-experience" title="Direct link to heading">â€‹</a></h3><p>Kapil, Ayan, and Bradley had earlier built <a href="https://drive.google.com/file/d/13JahtsT2jWUqRIOJDOFduMairfOZd3dD" target="_blank" rel="noopener noreferrer">DealDex</a>, an investing platform for Web3 angel syndicates. Before that, they had built <a href="https://www.producthunt.com/products/rtcanary" target="_blank" rel="noopener noreferrer">RTCanary</a>, a video conferencing analytics platform.</p><p>Kapil developed trading systems for a large trading firm and later personally developed and ran systematic strategies on StellaSwap and BeamSwap.</p><p>Ayan improved security and developed UI for Robinhood and later at CoinTracker.</p><p>Bradley developed automation infrastructure, focusing on fault tolerance and failover scenarios, at Microsoft Power Automate.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-code-repos">Team Code Repos<a class="hash-link" href="#team-code-repos" title="Direct link to heading">â€‹</a></h3><p>The main source code repo (check out the progress thus far!) is at</p><ul><li><a href="https://github.com/kapilsinha/privadex" target="_blank" rel="noopener noreferrer">https://github.com/kapilsinha/privadex</a></li></ul><p>Team GitHub accounts:</p><ul><li><a href="https://github.com/kapilsinha" target="_blank" rel="noopener noreferrer">https://github.com/kapilsinha</a></li><li><a href="https://github.com/Ayan-Bandyopadhyay" target="_blank" rel="noopener noreferrer">https://github.com/Ayan-Bandyopadhyay</a></li><li><a href="https://github.com/bradjustice97" target="_blank" rel="noopener noreferrer">https://github.com/bradjustice97</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-linkedin-profiles">Team LinkedIn Profiles<a class="hash-link" href="#team-linkedin-profiles" title="Direct link to heading">â€‹</a></h3><ul><li><a href="https://www.linkedin.com/in/kapil-sinha/" target="_blank" rel="noopener noreferrer">https://www.linkedin.com/in/kapil-sinha/</a></li><li><a href="https://www.linkedin.com/in/ayan-bandyopadhyay-9a45b1103/" target="_blank" rel="noopener noreferrer">https://www.linkedin.com/in/ayan-bandyopadhyay-9a45b1103/</a></li><li><a href="https://www.linkedin.com/in/bradley-justice-568519195/" target="_blank" rel="noopener noreferrer">https://www.linkedin.com/in/bradley-justice-568519195/</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="development-status-">Development Status ðŸ“–<a class="hash-link" href="#development-status-" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="market-research--inspiration">Market Research &amp; Inspiration<a class="hash-link" href="#market-research--inspiration" title="Direct link to heading">â€‹</a></h3><p>Kapil personally felt the need for a user-friendly aggregator when he was systematically trading on Moonbeam&#x27;s DEXes from August to September 2022. Scaling any strategy on a single venue was impossible. Low liquidity meant high price impact, and diminishing marginal returns meant high opportunity cost. Manually swapping tokens and bridging them from various UIs took too much time and manual involvement.</p><p>Parity&#x27;s Rae Deng summarized the need for a DeFi aggregator in Polkadot in <a href="https://forum.polkadot.network/t/what-needs-to-happen-for-our-defi-ecosystem-asap/1092/10" target="_blank" rel="noopener noreferrer">this Polkadot forum post</a>:</p><blockquote><p>[There is a need for a]<!-- --> DeFi aggregator like 1inch or Matcha using XCM. Right now the liquidity is scattered on different parachains. It would be helpful to have a DeFi aggregator which can find the best route to swap assets by leveraging liquidity on different parachains.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="current-progress">Current Progress<a class="hash-link" href="#current-progress" title="Direct link to heading">â€‹</a></h3><p>We have developed a proof-of-concept <a href="https://drive.google.com/file/d/1jmPsCUfRWBJX6oRYvmAUGISYzbz2U0-9" target="_blank" rel="noopener noreferrer">here</a>.</p><p>The work-in-progress source code and design docs (in <code>README</code> files) are in the <a href="https://github.com/kapilsinha/privadex" target="_blank" rel="noopener noreferrer">main repo</a>. We have made good progress on the price feed, chain metadata store, and network graph generation. Together, these components allow us to auto-generate a network graph of the ecosystem with real-time prices.</p><p>You can find a snapshot of this token graph (comprising Polkadot, Moonbeam, and Astar; scraping data from StellaSwap, BeamSwap, and ArthSwap) that we auto-generated <a href="https://raw.githubusercontent.com/kapilsinha/privadex/main/privadex/routing/generated_graph.svg" target="_blank" rel="noopener noreferrer">here</a> (raw data is <a href="https://raw.githubusercontent.com/kapilsinha/privadex/main/privadex/routing/generated_graph.dot" target="_blank" rel="noopener noreferrer">here</a>).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="development-roadmap-">Development Roadmap ðŸ”©<a class="hash-link" href="#development-roadmap-" title="Direct link to heading">â€‹</a></h2><p>We had started development in the first week of October, so we have made good headway towards achieving the below milestones.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview-1">Overview<a class="hash-link" href="#overview-1" title="Direct link to heading">â€‹</a></h3><ul><li><strong>Total Estimated Duration:</strong> 5.5 months (~2.5 more months)</li><li><strong>Full-Time Equivalent (FTE):</strong> 2 FTE</li><li><strong>Total Costs:</strong> 55,000 USD</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-1--network-graph-generator-api">Milestone 1 â€” Network graph generator API<a class="hash-link" href="#milestone-1--network-graph-generator-api" title="Direct link to heading">â€‹</a></h3><p>Note: This milestone is largely completed. You can find a sample output snapshot of a graph comprising Polkadot, Moonbeam, and Astar <a href="https://raw.githubusercontent.com/kapilsinha/privadex/main/privadex/routing/generated_graph.svg" target="_blank" rel="noopener noreferrer">here</a> (raw data is <a href="https://raw.githubusercontent.com/kapilsinha/privadex/main/privadex/routing/generated_graph.dot" target="_blank" rel="noopener noreferrer">here</a>).</p><ul><li><strong>Estimated duration:</strong> 1.5 months</li><li><strong>FTE:</strong>  2</li><li><strong>Costs:</strong> 15,000 USD</li></ul><table><thead><tr><th align="right">Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td align="right"><strong>0a.</strong></td><td>License</td><td>GPLv3</td></tr><tr><td align="right"><strong>0b.</strong></td><td>Documentation</td><td>We will provide both <strong>inline documentation</strong> of the code and a basic <strong>tutorial</strong> that explains how a user can call the API to generate an execution plan.</td></tr><tr><td align="right"><strong>0c.</strong></td><td>Testing and Testing Guide</td><td>Core functions will be fully covered by comprehensive unit tests to ensure functionality and robustness. In the guide, we will describe how to run these tests. There will be a standalone example that calls the API and generates a graph dot file.</td></tr><tr><td align="right"><strong>0d.</strong></td><td>Docker</td><td>We will provide a Dockerfile(s) that can be used to test the API delivered in this milestone.</td></tr><tr><td align="right">1.</td><td>Price feed for ArthSwap</td><td>We will create a GraphQL API to scrape prices from ArthSwap&#x27;s constant product AMM contracts.</td></tr><tr><td align="right">2.</td><td>Price feed for StellaSwap</td><td>We will create a GraphQL API to scrape prices from StellaSwap&#x27;s constant product AMM contracts.</td></tr><tr><td align="right">3.</td><td>Price feed for BeamSwap</td><td>We will create a GraphQL API to scrape prices from BeamSwap&#x27;s constant product AMM contracts.</td></tr><tr><td align="right">4.</td><td>Rust GraphQL client</td><td>This Rust client will construct queries for the above GraphQL APIs and deserialize responses into Rust-native structs.</td></tr><tr><td align="right">5.</td><td>Chain metadata store</td><td>This Rust crate will contain bridge, chain, DEX, and token metadata for the Polkadot ecosystem necessary to construct a complete network graph.</td></tr><tr><td align="right">6.</td><td>Graph library</td><td>We will heavily leverage the existing Rust <a href="https://github.com/purpleprotocol/graphlib" target="_blank" rel="noopener noreferrer">graphlib</a> library but make modifications to support no_std.</td></tr><tr><td align="right">7.</td><td>Network graph construction</td><td>This will combine GraphQL queries and the chain metadata store to create the graph using the above graph library.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-2--execution-plan-generator-api">Milestone 2 â€” Execution plan generator API<a class="hash-link" href="#milestone-2--execution-plan-generator-api" title="Direct link to heading">â€‹</a></h3><p>An <em>execution plan</em> is a series of steps (e.g. swap ASTR for DOT on Arthswap, transfer DOT to Polkadot relay, etc.) to convert sourceToken on sourceChain to destinationToken on destinationChain.</p><ul><li><strong>Estimated duration:</strong> 1 month</li><li><strong>FTE:</strong>  2</li><li><strong>Costs:</strong> 10,000 USD</li></ul><table><thead><tr><th align="right">Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td align="right"><strong>0a.</strong></td><td>License</td><td>GPLv3</td></tr><tr><td align="right"><strong>0b.</strong></td><td>Documentation</td><td>We will provide both <strong>inline documentation</strong> of the code and a basic <strong>tutorial</strong> that explains how a user can call the API to generate an execution plan.</td></tr><tr><td align="right"><strong>0c.</strong></td><td>Testing and Testing Guide</td><td>Core functions will be fully covered by comprehensive unit tests to ensure functionality and robustness. In the guide, we will describe how to run these tests. There will be a standalone example that calls the API and generates an execution plan.</td></tr><tr><td align="right"><strong>0d.</strong></td><td>Docker</td><td>We will provide a Dockerfile(s) that can be used to test the API delivered in this milestone.</td></tr><tr><td align="right">1.</td><td>Smart order router algorithm</td><td>The SOR will find the optimal path through the graph created in the previous milestone, outputting a <code>GraphSolution</code>.</td></tr><tr><td align="right">2.</td><td>GraphSolution to ExecutionPlan converter</td><td>This Rust crate will translate a <code>GraphSolution</code> into an <code>ExecutionPlan</code> e.g. convert directed graph edges <!-- -->[ARSW -&gt; ASTR, ASTR -&gt; DOT, DOT_Astar -&gt; DOT_Polkadot]<!-- --> into abstract instructions that can be used to submit transactions and extrinsics later.</td></tr><tr><td align="right">3.</td><td>ExecutionPlan validator</td><td>This Rust module will check invariants in the outputted ExecutionPlan to ensure it is valid and executable.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-3--executor-module">Milestone 3 â€” Executor Module<a class="hash-link" href="#milestone-3--executor-module" title="Direct link to heading">â€‹</a></h3><p>The executor module is Phat Contract code that actualizes the above execution plan, submitting transactions and extrinsics to perform swaps, bridges, and transfers.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="faqs-on-phat-contract">FAQs on Phat Contract<a class="hash-link" href="#faqs-on-phat-contract" title="Direct link to heading">â€‹</a></h4><p>What is Phat Contract?</p><ul><li>Phat Contract is a decentralized off-chain computation framework developed by Phala Network. Note that there is <em>zero</em> connection between Phat Contract and the Phala blockchain, as this framework is entirely off-chain.</li></ul><p>Why use Phat Contract?</p><ul><li>Phat Contract allows us to securely store our protocol&#x27;s keys (both wallet secret keys and off-chain storage API keys) in the contract (via the Trusted Execution Environment). As a result, we can submit transactions/extrinsics from a decentralized and transparent computing environment instead of a centralized service.</li></ul><p>How can we evaluate Phat Contract?</p><ul><li>We will place all business logic in separate modules, and create a thin Phat Contract wrapper that ties the components together. That means that every logical component can be run from a standard computer because it will be normal Rust code (similar to Substrate blockchain code). In fact, one can even perform an end-to-end test (that moves and swaps real tokens) from a local environment since secret keys can be kept locally.</li></ul><ul><li><strong>Estimated duration:</strong> 1.5 months</li><li><strong>FTE:</strong>  2</li><li><strong>Costs:</strong> 15,000 USD</li></ul><table><thead><tr><th align="right">Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td align="right"><strong>0a.</strong></td><td>License</td><td>GPLv3</td></tr><tr><td align="right"><strong>0b.</strong></td><td>Documentation</td><td>We will provide both <strong>inline documentation</strong> of the code and a basic <strong>tutorial</strong> that explains how a user can call the Phat Contract execute the next step of their cross-chain swap.</td></tr><tr><td align="right"><strong>0c.</strong></td><td>Testing and Testing Guide</td><td>Core functions will be fully covered by comprehensive unit tests to ensure functionality and robustness. In the guide, we will describe how to run these tests.</td></tr><tr><td align="right"><strong>0d.</strong></td><td>Docker</td><td>We will provide a Dockerfile(s) that can be used to generate the WASM code. Note: Phat Contract runs in a Trusted Execution Environment and local deployment is not well supported yet. We will provide instructions on how to run this component via the <a href="https://phat.phala.network" target="_blank" rel="noopener noreferrer">Phat Contract UI</a>.</td></tr><tr><td align="right">1.</td><td>Rust Ethereum interface utils</td><td>This Rust mod will provide helper utilities to construct Ethereum transactions and parse Ethereum transfers.</td></tr><tr><td align="right">2.</td><td>Rust Substrate interface utils</td><td>This Rust mod will provide helper utilities to wrap RPC calls (e.g. to query nonce, runtime version, block hash) and deserialize them into Rust-native structs.</td></tr><tr><td align="right">3.</td><td>Substrate extrinsic signature and construction utils</td><td>This Rust mod will handle the various chains&#x27; signature schemes (Sr25519 and ECDSA), and construct extrinsics using those signatures and payloads. This code will leverage components of <a href="https://github.com/paritytech/subxt" target="_blank" rel="noopener noreferrer">subxt</a> but note that we cannot use it as-is because of limited memory constraints in a Phat Contract. This means that we will need to write our own low-level code to encode extrinsics correctly.</td></tr><tr><td align="right">4.</td><td>Phat Contract controller/driver</td><td>As the event driver that runs in the Phat Contract, this will have functions to process each supported <code>ExecutionStep</code> and create the appropriate transactions/extrinsics. It will also expose this <code>processStep</code> function to the caller.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-4--consolidated-backend-api-and-swap-ui">Milestone 4 â€” Consolidated backend API and swap UI<a class="hash-link" href="#milestone-4--consolidated-backend-api-and-swap-ui" title="Direct link to heading">â€‹</a></h3><p>The backend API ties together the above components and builds in a scheduler to handle multiple sequential steps, exposing REST functions that can be called from a browser. The swap UI provides a frontend for this API.</p><ul><li><strong>Estimated duration:</strong> 1.5 months</li><li><strong>FTE:</strong>  2</li><li><strong>Costs:</strong> 15,000 USD</li></ul><table><thead><tr><th align="right">Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td align="right"><strong>0a.</strong></td><td>License</td><td>GPLv3</td></tr><tr><td align="right"><strong>0b.</strong></td><td>Documentation</td><td>We will provide both <strong>inline documentation</strong> of the code and a basic <strong>tutorial</strong> that explains how a user can use the API to execute their cross-chain swap.</td></tr><tr><td align="right"><strong>0c.</strong></td><td>Testing and Testing Guide</td><td>Core functions will be fully covered by comprehensive unit tests to ensure functionality and robustness. In the guide, we will describe how to run these tests.</td></tr><tr><td align="right"><strong>0d.</strong></td><td>Docker</td><td>N/A. The main deliverables are the UI and its REST backend (that connects to the Phat Contract, which cannot be run locally), so containerization provides little value.</td></tr><tr><td align="right"><strong>0e.</strong></td><td>Article</td><td>We will publish an <strong>article</strong>/workshop that explains how to DEX users on how they can use PrivaDEX to perform cross-chain swaps and intra-chain aggregated swaps.</td></tr><tr><td align="right">1.</td><td>S3 API for executor</td><td>Building on Phat Contract&#x27;s S3 example code <a href="https://github.com/christopherfkk/fat-contract-s3-sync" target="_blank" rel="noopener noreferrer">here</a>, this S3 API will perform state management for the executor e.g. keeping track of the status of an ExecutionPlan.</td></tr><tr><td align="right">2.</td><td>Executor module scheduler</td><td>Leveraging Phat Contract&#x27;s <a href="https://medium.com/phala-network/phala-will-enter-its-1st-halving-period-phalaworld-unlimited-shell-mint-has-started-phala-ce6c6e3028b8" target="_blank" rel="noopener noreferrer">rollup scheduler</a> and the above S3 API, this scheduler will manage state and call the appropriate <code>processStep</code> function (from the previous milestone) for pending swaps. Note that Phat Contract inherently is stateless and because it requires wait times between block inclusion, it performs one step at a time.</td></tr><tr><td align="right">3.</td><td>QuoteGetter API</td><td>This API will be called by the UI to estimate a quote before the user requests a swap. It will construct the network graph and call the smart order router (as defined in the previous milestones), and estimate a quote based on the computed route.</td></tr><tr><td align="right">4.</td><td>SwapRequest API</td><td>This API will be called by the user via UI to transfer funds to the protocol and initiate the swap ExecutionPlan.</td></tr><tr><td align="right">5.</td><td>GetSupportedChainTokens API</td><td>This API will be called by the UI to generate a list of tokens (and chains) from/to which the user can swap.</td></tr><tr><td align="right">6.</td><td>Swap UI</td><td>This Uniswap-like UI will use the APIs defined in this milestone for its backend calls. It does not require a database but will be hosted by a cloud provider. The frontend will leverage existing code e.g. components from the <a href="https://github.com/Uniswap/interface" target="_blank" rel="noopener noreferrer">Uniswap interface</a>.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="future-plans">Future Plans<a class="hash-link" href="#future-plans" title="Direct link to heading">â€‹</a></h2><p>We will manage a Discord channel to communicate directly with end users. Closer to the end of the MVP development, we will make announcements to prepare for our launch.</p><p>Long-term, we intend PrivaDEX to be a cross-chain DeFi hub for Polkadot. We will continue to improve the product and develop new features (e.g. parallel processing of execution steps to decrease slippage) to improve trade execution.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="additional-information-">Additional Information âž•<a class="hash-link" href="#additional-information-" title="Direct link to heading">â€‹</a></h2><p><strong>How did you hear about the Grants Program?</strong></p><p>Rob Habermeier recommended that we explore Web3 support and reach out to Parity Growth. Nicolas Arevalo advised me further to apply for a Web3 grant!</p><p>We have applied for a grant from the Moonbeam Foundation that is more focused on providing value to the Moonbeam EVM ecosystem.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#project-overview-" class="table-of-contents__link toc-highlight">Project Overview ðŸ“„</a><ul><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#project-details" class="table-of-contents__link toc-highlight">Project Details</a></li><li><a href="#ecosystem-fit" class="table-of-contents__link toc-highlight">Ecosystem Fit</a></li></ul></li><li><a href="#team-" class="table-of-contents__link toc-highlight">Team ðŸ‘¥</a><ul><li><a href="#team-members" class="table-of-contents__link toc-highlight">Team members</a></li><li><a href="#contact" class="table-of-contents__link toc-highlight">Contact</a></li><li><a href="#legal-structure" class="table-of-contents__link toc-highlight">Legal Structure</a></li><li><a href="#teams-experience" class="table-of-contents__link toc-highlight">Team&#39;s experience</a></li><li><a href="#team-code-repos" class="table-of-contents__link toc-highlight">Team Code Repos</a></li><li><a href="#team-linkedin-profiles" class="table-of-contents__link toc-highlight">Team LinkedIn Profiles</a></li></ul></li><li><a href="#development-status-" class="table-of-contents__link toc-highlight">Development Status ðŸ“–</a><ul><li><a href="#market-research--inspiration" class="table-of-contents__link toc-highlight">Market Research &amp; Inspiration</a></li><li><a href="#current-progress" class="table-of-contents__link toc-highlight">Current Progress</a></li></ul></li><li><a href="#development-roadmap-" class="table-of-contents__link toc-highlight">Development Roadmap ðŸ”©</a><ul><li><a href="#overview-1" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#milestone-1--network-graph-generator-api" class="table-of-contents__link toc-highlight">Milestone 1 â€” Network graph generator API</a></li><li><a href="#milestone-2--execution-plan-generator-api" class="table-of-contents__link toc-highlight">Milestone 2 â€” Execution plan generator API</a></li><li><a href="#milestone-3--executor-module" class="table-of-contents__link toc-highlight">Milestone 3 â€” Executor Module</a></li><li><a href="#milestone-4--consolidated-backend-api-and-swap-ui" class="table-of-contents__link toc-highlight">Milestone 4 â€” Consolidated backend API and swap UI</a></li></ul></li><li><a href="#future-plans" class="table-of-contents__link toc-highlight">Future Plans</a></li><li><a href="#additional-information-" class="table-of-contents__link toc-highlight">Additional Information âž•</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More Info</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/w3f/Grants-Program" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://web3.foundation/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/Grants-Program/applications/Support Docs/privacy_policy">Privacy Policy</a></li></ul></div><div class="col footer__col"><div class="footer__title">Connect</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/Web3foundation" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://matrix.to/#/!XpynPDLusWUWfDpaqr:matrix.org?via=web3.foundation&amp;via=matrix.org&amp;via=matrix.parity.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Grants Community Matrix Channel<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Â© 2023 Web3 Foundation</div></div></div></footer></div>
<script src="/Grants-Program/assets/js/runtime~main.013c5ecd.js"></script>
<script src="/Grants-Program/assets/js/main.bf00ec53.js"></script>
</body>
</html>