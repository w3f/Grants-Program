<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-applications/hybrid2" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Hybrid Indexer Follow-up | Web3 Foundation Grants</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://grants.web3.foundation/applications/hybrid2"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Hybrid Indexer Follow-up | Web3 Foundation Grants"><meta data-rh="true" name="description" content="- Team Name: Jonathan Brown"><meta data-rh="true" property="og:description" content="- Team Name: Jonathan Brown"><link data-rh="true" rel="icon" href="/img/favicon-32x32.png"><link data-rh="true" rel="canonical" href="https://grants.web3.foundation/applications/hybrid2"><link data-rh="true" rel="alternate" href="https://grants.web3.foundation/applications/hybrid2" hreflang="en"><link data-rh="true" rel="alternate" href="https://grants.web3.foundation/applications/hybrid2" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://9VKKGZO0U1-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Web3 Foundation Grants" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.f3a7e75f.css">
<script src="/assets/js/runtime~main.cdaeeafb.js" defer="defer"></script>
<script src="/assets/js/main.f737dd4d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" style="background-color:#000;color:#ffffff" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><a target="_blank" rel="noopener noreferrer" href="https://medium.com/web3foundation/web3-foundation-ecodev-wave-26-7f145c39c2ef">Our blog post on Ecosystem Development Wave 26 is now online!</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/w3f_logo.svg" alt="W3F Grants Program" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/w3f_logo.svg" alt="W3F Grants Program" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Grants Program</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/introduction">Docs</a><a class="navbar__item navbar__link" href="/applications">List of Grants</a><a class="navbar__item navbar__link" href="/docs/faq">FAQ</a><a class="navbar__item navbar__link" href="/docs/Process/how-to-apply">Apply</a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Hybrid Indexer Follow-up</h1></header>
<ul>
<li><strong>Team Name:</strong> Jonathan Brown</li>
<li><strong>Payment Address:</strong> 0x36a7401F269555916a0243E586234D3Bbf5A0c36 (DAI)</li>
<li><strong><a href="https://github.com/w3f/Grants-Program/tree/master#level_slider-levels" target="_blank" rel="noopener noreferrer">Level</a>:</strong> 1</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="project-overview-page_facing_up">Project Overview <!-- -->ðŸ“„<a href="#project-overview-page_facing_up" class="hash-link" aria-label="Direct link to project-overview-page_facing_up" title="Direct link to project-overview-page_facing_up">â€‹</a></h2>
<p>This application is for a follow-up grant to the original Hybrid Block Explorer grant: <a href="https://github.com/w3f/Grants-Program/pull/1582" target="_blank" rel="noopener noreferrer">https://github.com/w3f/Grants-Program/pull/1582</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">â€‹</a></h3>
<p><img decoding="async" loading="lazy" src="https://raw.githubusercontent.com/ethernomad/hybrid-diagram/main/hybrid.png" alt="Hybrid Architecture" class="img_ev3q"></p>
<p>The <a href="https://github.com/w3f/Grants-Program/blob/master/applications/hybrid.md" target="_blank" rel="noopener noreferrer">original grant</a> for the Hybrid Block Explorer involved creating a <a href="https://github.com/hybrid-explorer/hybrid-indexer" target="_blank" rel="noopener noreferrer">Rust library</a> that can be utilized to create an event indexer for any Substrate chain. A <a href="https://github.com/hybrid-explorer/polkadot-indexer/" target="_blank" rel="noopener noreferrer">Rust project</a> to index all Polkadot-based chains was delivered. Additionally, a rudimentary <a href="https://github.com/hybrid-explorer/hybrid-dapp" target="_blank" rel="noopener noreferrer">browser dapp</a> was produced to provide a user interface to query the index and load event details from the chain.</p>
<p>This follow-up grant application is specifically to improve the indexer component of the project.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="project-details">Project Details<a href="#project-details" class="hash-link" aria-label="Direct link to Project Details" title="Direct link to Project Details">â€‹</a></h3>
<p>Before the indexer can be used effectively by the Polkadot community, there are various improvements that need to be made:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="indexer-improvements">Indexer Improvements<a href="#indexer-improvements" class="hash-link" aria-label="Direct link to Indexer Improvements" title="Direct link to Indexer Improvements">â€‹</a></h4>
<ul>
<li>
<p>Currently there are two indexer threads, one for indexing new finalized blocks, and one to index old blocks. This is unnecessarily complex. Combining these threads will make the codebase much simpler.</p>
</li>
<li>
<p>The indexer needs to verify that it is indexing the correct chain. If it connects to the wrong endpoint or opens the wrong database, incorrect data would be present in the index.</p>
</li>
<li>
<p>Terminal output needs to be improved with configurable levels of verbosity. Statistics need to be output in a regular time interval, not block interval.</p>
</li>
<li>
<p>Error handling needs to be improved. Currently many error conditions are silently ignored. Exiting needs to be handled gracefully.</p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="reverse-batch-indexing">Reverse Batch Indexing<a href="#reverse-batch-indexing" class="hash-link" aria-label="Direct link to Reverse Batch Indexing" title="Direct link to Reverse Batch Indexing">â€‹</a></h4>
<p>Currently when the indexer is indexing old blocks it starts at a specified block and works forward, eventually catching up with head. When the indexer is restarted it will resume where it left off.</p>
<p>Typically users are more interested in recent blocks. If a user is indexing on their own device it can take many hours or days for the batch indexer to catch up with head.</p>
<p>If the user wants to index from an earlier block, they have to re-index all the already indexed blocks.</p>
<p>The solution is for the batch indexer to always start indexing backwards from head and store in the database which spans of blocks have been indexed with which version of the indexer.</p>
<p>The indexer currently trusts that new finalized blocks are delivered sequentially. The indexer needs to verify that no blocks have been ommitted. If a block has been omitted or the WSS connection is broken and reestablished then the batch indexing will need to restart from head.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="database-improvements">Database Improvements<a href="#database-improvements" class="hash-link" aria-label="Direct link to Database Improvements" title="Direct link to Database Improvements">â€‹</a></h4>
<ul>
<li>
<p>Currently, the event parameter types that are available to be indexed are hardcoded in the indexer library. The API needs to be extended so that chain indexers can specify custom parameter types, beyond those in Substrate.</p>
</li>
<li>
<p>In addition to indexing event parameters, the indexer can also index which variants of events have occurred. This is very useful. For example, the indexer can return all balance transfers that have occurred. This index is the largest because every event that occurs is a separate database entry. Making this index optional will greatly reduce the storage space for those users who do not need it.</p>
</li>
<li>
<p>Hybrid uses the Sled database library. Tunables <a href="https://docs.rs/sled/latest/sled/struct.Config.html#method.cache_capacity" target="_blank" rel="noopener noreferrer">cache_capacity</a> and <a href="https://docs.rs/sled/latest/sled/struct.Config.html#method.mode" target="_blank" rel="noopener noreferrer">mode</a> should be exposed in the indexer.</p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ws-api-improvements">WS API Improvements<a href="#ws-api-improvements" class="hash-link" aria-label="Direct link to WS API Improvements" title="Direct link to WS API Improvements">â€‹</a></h4>
<ul>
<li>
<p>Currently, to receive status updates it is necessary to continually query the indexer. It should be possible to subscribe to status updates.</p>
</li>
<li>
<p>It should be possible to query how much disk space is used for each index. This can be implemented using the following method: <a href="https://docs.rs/sled/latest/sled/struct.Db.html#method.size_on_disk" target="_blank" rel="noopener noreferrer">size_on_disk</a>.</p>
</li>
<li>
<p>It is currently possible to subscribe to event searches. It needs to be possible to unsubscribe.</p>
</li>
<li>
<p>A Rust library needs to be written to make it easier to query Hybrid indexes from Rust programs.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="team-busts_in_silhouette">Team <!-- -->ðŸ‘¥<a href="#team-busts_in_silhouette" class="hash-link" aria-label="Direct link to team-busts_in_silhouette" title="Direct link to team-busts_in_silhouette">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-members">Team members<a href="#team-members" class="hash-link" aria-label="Direct link to Team members" title="Direct link to Team members">â€‹</a></h3>
<p>Jonathan Brown</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="contact">Contact<a href="#contact" class="hash-link" aria-label="Direct link to Contact" title="Direct link to Contact">â€‹</a></h3>
<ul>
<li><strong>Contact Name:</strong> Jonathan Brown</li>
<li><strong>Contact Email:</strong> <a href="mailto:jbrown@acuity.social" target="_blank" rel="noopener noreferrer">jbrown@acuity.social</a></li>
<li><strong>Website:</strong> n/a</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="legal-structure">Legal Structure<a href="#legal-structure" class="hash-link" aria-label="Direct link to Legal Structure" title="Direct link to Legal Structure">â€‹</a></h3>
<ul>
<li><strong>Registered Address:</strong> (shared privately)</li>
<li><strong>Registered Legal Entity:</strong> n/a</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="teams-experience">Team&#x27;s experience<a href="#teams-experience" class="hash-link" aria-label="Direct link to Team&#x27;s experience" title="Direct link to Team&#x27;s experience">â€‹</a></h3>
<p>Jonathan Brown is the sole developer of Hybrid Indexer and dapp.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-code-repos">Team Code Repos<a href="#team-code-repos" class="hash-link" aria-label="Direct link to Team Code Repos" title="Direct link to Team Code Repos">â€‹</a></h3>
<ul>
<li>
<p><a href="https://github.com/hybrid-explorer/hybrid-indexer" target="_blank" rel="noopener noreferrer">https://github.com/hybrid-explorer/hybrid-indexer</a></p>
</li>
<li>
<p><a href="https://github.com/hybrid-explorer/polkadot-indexer" target="_blank" rel="noopener noreferrer">https://github.com/hybrid-explorer/polkadot-indexer</a></p>
</li>
<li>
<p><a href="https://github.com/hybrid-explorer/hybrid-dapp" target="_blank" rel="noopener noreferrer">https://github.com/hybrid-explorer/hybrid-dapp</a></p>
</li>
<li>
<p><a href="https://github.com/ethernomad" target="_blank" rel="noopener noreferrer">https://github.com/ethernomad</a></p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-linkedin-profiles-if-available">Team LinkedIn Profiles (if available)<a href="#team-linkedin-profiles-if-available" class="hash-link" aria-label="Direct link to Team LinkedIn Profiles (if available)" title="Direct link to Team LinkedIn Profiles (if available)">â€‹</a></h3>
<ul>
<li>n/a</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="development-status-open_book">Development Status <!-- -->ðŸ“–<a href="#development-status-open_book" class="hash-link" aria-label="Direct link to development-status-open_book" title="Direct link to development-status-open_book">â€‹</a></h2>
<p>Work on the deliverables defined in this application has not started yet.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="development-roadmap-nut_and_bolt">Development Roadmap <!-- -->ðŸ”©<a href="#development-roadmap-nut_and_bolt" class="hash-link" aria-label="Direct link to development-roadmap-nut_and_bolt" title="Direct link to development-roadmap-nut_and_bolt">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview-1">Overview<a href="#overview-1" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">â€‹</a></h3>
<ul>
<li><strong>Total Estimated Duration:</strong> 12 weeks</li>
<li><strong>Full-Time Equivalent (FTE):</strong> 1</li>
<li><strong>Total Costs:</strong>  10,000 USD</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-1--indexer-improvements">Milestone 1 â€” Indexer Improvements<a href="#milestone-1--indexer-improvements" class="hash-link" aria-label="Direct link to Milestone 1 â€” Indexer Improvements" title="Direct link to Milestone 1 â€” Indexer Improvements">â€‹</a></h3>
<ul>
<li><strong>Estimated duration:</strong> 3 weeks</li>
<li><strong>FTE:</strong> 1</li>
<li><strong>Costs:</strong> 2,500 USD</li>
</ul>
<table><thead><tr><th style="text-align:right">Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td style="text-align:right"><strong>0a.</strong></td><td>License</td><td>Apache 2.0</td></tr><tr><td style="text-align:right"><strong>0b.</strong></td><td>Documentation</td><td>We will provide both <strong>inline documentation</strong> of the code and a basic <strong>tutorial</strong> that explains how a user can specify chain identifying information and control logging verbosity.</td></tr><tr><td style="text-align:right"><strong>0c.</strong></td><td>Testing and Testing Guide</td><td>Core functions will be fully covered by comprehensive unit tests to ensure functionality and robustness. In the guide, we will describe how to run these tests.</td></tr><tr><td style="text-align:right"><strong>0d.</strong></td><td>Docker</td><td>We will provide a Dockerfile(s) that can be used to test all the functionality delivered with this milestone.</td></tr><tr><td style="text-align:right">1.</td><td>Combine head and batch indexer threads</td><td>The codebase will be simplified by combining head and batch indexing into a single thread.</td></tr><tr><td style="text-align:right">2.</td><td>Check correct chain</td><td>The indexer will ensure that both the chain being indexed and the existing index database have the correct chain information.</td></tr><tr><td style="text-align:right">3.</td><td>Improved logging</td><td>Verbosity level will be controlled by command line parameter. Statistics will be output with a regular time interval, not block interval.</td></tr><tr><td style="text-align:right">4.</td><td>Improved error checking</td><td>All error conditions in the codebase will be handled correctly. Exiting will be handled gracefully.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-2--reverse-batch-indexing">Milestone 2 â€” Reverse Batch Indexing<a href="#milestone-2--reverse-batch-indexing" class="hash-link" aria-label="Direct link to Milestone 2 â€” Reverse Batch Indexing" title="Direct link to Milestone 2 â€” Reverse Batch Indexing">â€‹</a></h3>
<ul>
<li><strong>Estimated duration:</strong> 3 weeks</li>
<li><strong>FTE:</strong> 1</li>
<li><strong>Costs:</strong> 2,500 USD</li>
</ul>
<table><thead><tr><th style="text-align:right">Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td style="text-align:right"><strong>0a.</strong></td><td>License</td><td>Apache 2.0</td></tr><tr><td style="text-align:right"><strong>0b.</strong></td><td>Documentation</td><td>We will provide both <strong>inline documentation</strong> of the code and a basic <strong>tutorial</strong> that explains how a user can declare starting blocks for updated indexers.</td></tr><tr><td style="text-align:right"><strong>0c.</strong></td><td>Testing and Testing Guide</td><td>Core functions will be fully covered by comprehensive unit tests to ensure functionality and robustness. In the guide, we will describe how to run these tests.</td></tr><tr><td style="text-align:right"><strong>0d.</strong></td><td>Docker</td><td>We will provide a Dockerfile(s) that can be used to test all the functionality delivered with this milestone.</td></tr><tr><td style="text-align:right">1.</td><td>Index backwards</td><td>When the indexer starts it should always start indexing backwards from head.</td></tr><tr><td style="text-align:right">2.</td><td>Store indexed spans</td><td>The indexer should store in the database a record of which spans of blocks have been indexed with which version of the indexer and utilize this information to avoid redundantly indexing blocks multiple times.</td></tr><tr><td style="text-align:right">3.</td><td>Declare indexer start blocks</td><td>Each chain indexer can declare which block each version of the indexer should start from. Automatically re-index blocks after upgrading the indexer.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-3--database-improvements">Milestone 3 â€” Database Improvements<a href="#milestone-3--database-improvements" class="hash-link" aria-label="Direct link to Milestone 3 â€” Database Improvements" title="Direct link to Milestone 3 â€” Database Improvements">â€‹</a></h3>
<ul>
<li><strong>Estimated duration:</strong> 3 weeks</li>
<li><strong>FTE:</strong> 1</li>
<li><strong>Costs:</strong> 2,500 USD</li>
</ul>
<table><thead><tr><th style="text-align:right">Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td style="text-align:right"><strong>0a.</strong></td><td>License</td><td>Apache 2.0</td></tr><tr><td style="text-align:right"><strong>0b.</strong></td><td>Documentation</td><td>We will provide both <strong>inline documentation</strong> of the code and a basic <strong>tutorial</strong> that explains how a user can implement new indexes, omit the variant index and adjust database tunables.</td></tr><tr><td style="text-align:right"><strong>0c.</strong></td><td>Testing and Testing Guide</td><td>Core functions will be fully covered by comprehensive unit tests to ensure functionality and robustness. In the guide, we will describe how to run these tests.</td></tr><tr><td style="text-align:right"><strong>0d.</strong></td><td>Docker</td><td>We will provide a Dockerfile(s) that can be used to test all the functionality delivered with this milestone.</td></tr><tr><td style="text-align:right">1.</td><td>Support additional indexes</td><td>Chain indexers will be able to define additional index parameter types that can be indexed.</td></tr><tr><td style="text-align:right">2.</td><td>Variant index optional</td><td>Variant indexing will be made optional.</td></tr><tr><td style="text-align:right">3.</td><td>Expose cache_capacity() and mode()</td><td>These Sled database parameters will be exposed on the command line.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-4--websocket-api-improvements">Milestone 4 â€” WebSocket API Improvements<a href="#milestone-4--websocket-api-improvements" class="hash-link" aria-label="Direct link to Milestone 4 â€” WebSocket API Improvements" title="Direct link to Milestone 4 â€” WebSocket API Improvements">â€‹</a></h3>
<ul>
<li><strong>Estimated duration:</strong> 3 weeks</li>
<li><strong>FTE:</strong> 1</li>
<li><strong>Costs:</strong> 2,500 USD</li>
</ul>
<table><thead><tr><th style="text-align:right">Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td style="text-align:right"><strong>0a.</strong></td><td>License</td><td>Apache 2.0</td></tr><tr><td style="text-align:right"><strong>0b.</strong></td><td>Documentation</td><td>We will provide both <strong>inline documentation</strong> of the code and a basic <strong>tutorial</strong> that explains how a user can subscribe to status updates, unsubscribe, query index storage space, and use the Hybrid Rust API.</td></tr><tr><td style="text-align:right"><strong>0c.</strong></td><td>Testing and Testing Guide</td><td>Core functions will be fully covered by comprehensive unit tests to ensure functionality and robustness. In the guide, we will describe how to run these tests.</td></tr><tr><td style="text-align:right"><strong>0d.</strong></td><td>Docker</td><td>We will provide a Dockerfile(s) that can be used to test all the functionality delivered with this milestone.</td></tr><tr><td style="text-align:right">0e.</td><td>Article</td><td>We will publish an <strong>article</strong> describing the improvements to the indexer.</td></tr><tr><td style="text-align:right">1.</td><td>Status subscription</td><td>It will be possible to subscribe to status updates.</td></tr><tr><td style="text-align:right">2.</td><td>Unsubscribing</td><td>It will be possible to unsubscribe from status updates and event parameter watching.</td></tr><tr><td style="text-align:right">3.</td><td>Report each index size</td><td>It will be possible to get a report of how much storage space is used by each index.</td></tr><tr><td style="text-align:right">4.</td><td>Rust API</td><td>A Rust library will be developed to make it easier for Rust applications to query Hybrid indexes.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="future-plans">Future Plans<a href="#future-plans" class="hash-link" aria-label="Direct link to Future Plans" title="Direct link to Future Plans">â€‹</a></h2>
<ul>
<li>
<p>indexing block prior to V14 metadata (block #7,229,126 on Polkadot). See <a href="https://github.com/paritytech/subxt/issues/793#issuecomment-1386902010" target="_blank" rel="noopener noreferrer">issue</a>.</p>
</li>
<li>
<p>desktop dapp - build a block explorer dapp in Rust</p>
</li>
<li>
<p>support for tokens and nfts</p>
</li>
<li>
<p>add support for ink! smart contracts with decentralized source code publishing</p>
</li>
<li>
<p>maintain Hybrid as the most decentralized Substrate block explorer</p>
</li>
<li>
<p>marketing</p>
</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/w3f/Grants-Program/edit/master/applications/hybrid2.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#project-overview-page_facing_up" class="table-of-contents__link toc-highlight">Project Overview ðŸ“„</a><ul><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#project-details" class="table-of-contents__link toc-highlight">Project Details</a></li></ul></li><li><a href="#team-busts_in_silhouette" class="table-of-contents__link toc-highlight">Team ðŸ‘¥</a><ul><li><a href="#team-members" class="table-of-contents__link toc-highlight">Team members</a></li><li><a href="#contact" class="table-of-contents__link toc-highlight">Contact</a></li><li><a href="#legal-structure" class="table-of-contents__link toc-highlight">Legal Structure</a></li><li><a href="#teams-experience" class="table-of-contents__link toc-highlight">Team&#39;s experience</a></li><li><a href="#team-code-repos" class="table-of-contents__link toc-highlight">Team Code Repos</a></li><li><a href="#team-linkedin-profiles-if-available" class="table-of-contents__link toc-highlight">Team LinkedIn Profiles (if available)</a></li></ul></li><li><a href="#development-status-open_book" class="table-of-contents__link toc-highlight">Development Status ðŸ“–</a></li><li><a href="#development-roadmap-nut_and_bolt" class="table-of-contents__link toc-highlight">Development Roadmap ðŸ”©</a><ul><li><a href="#overview-1" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#milestone-1--indexer-improvements" class="table-of-contents__link toc-highlight">Milestone 1 â€” Indexer Improvements</a></li><li><a href="#milestone-2--reverse-batch-indexing" class="table-of-contents__link toc-highlight">Milestone 2 â€” Reverse Batch Indexing</a></li><li><a href="#milestone-3--database-improvements" class="table-of-contents__link toc-highlight">Milestone 3 â€” Database Improvements</a></li><li><a href="#milestone-4--websocket-api-improvements" class="table-of-contents__link toc-highlight">Milestone 4 â€” WebSocket API Improvements</a></li></ul></li><li><a href="#future-plans" class="table-of-contents__link toc-highlight">Future Plans</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More Info</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/w3f/Grants-Program" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://web3.foundation/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Support Docs/privacy_policy">Privacy Policy</a></li><li class="footer__item"><a href="https://web3.foundation/legal-disclosures/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Legal Disclosures</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Connect</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/Web3foundation" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://matrix.to/#/!XpynPDLusWUWfDpaqr:matrix.org?via=web3.foundation&amp;via=matrix.org&amp;via=matrix.parity.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Grants Community Matrix Channel<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Â© 2025 Web3 Foundation</div></div></div></footer></div>
</body>
</html>