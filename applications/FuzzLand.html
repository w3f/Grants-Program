<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-applications/FuzzLand" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">FuzzLand | Web3 Foundation Grants</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://grants.web3.foundation/applications/FuzzLand"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="FuzzLand | Web3 Foundation Grants"><meta data-rh="true" name="description" content="- Team Name: FuzzLand"><meta data-rh="true" property="og:description" content="- Team Name: FuzzLand"><link data-rh="true" rel="icon" href="/img/favicon-32x32.png"><link data-rh="true" rel="canonical" href="https://grants.web3.foundation/applications/FuzzLand"><link data-rh="true" rel="alternate" href="https://grants.web3.foundation/applications/FuzzLand" hreflang="en"><link data-rh="true" rel="alternate" href="https://grants.web3.foundation/applications/FuzzLand" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://9VKKGZO0U1-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Web3 Foundation Grants" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.f3a7e75f.css">
<script src="/assets/js/runtime~main.acd63dc8.js" defer="defer"></script>
<script src="/assets/js/main.f737dd4d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" style="background-color:#000;color:#ffffff" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><a target="_blank" rel="noopener noreferrer" href="https://medium.com/web3foundation/web3-foundation-ecodev-wave-26-7f145c39c2ef">Our blog post on Ecosystem Development Wave 26 is now online!</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/w3f_logo.svg" alt="W3F Grants Program" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/w3f_logo.svg" alt="W3F Grants Program" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Grants Program</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/introduction">Docs</a><a class="navbar__item navbar__link" href="/applications">List of Grants</a><a class="navbar__item navbar__link" href="/docs/faq">FAQ</a><a class="navbar__item navbar__link" href="/docs/Process/how-to-apply">Apply</a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>FuzzLand</h1></header>
<ul>
<li><strong>Team Name:</strong> FuzzLand</li>
<li><strong>Payment Address:</strong> 0x3a2a700d9d822D23D3F0F55F4b097753b5B2FC9A (ERC20 DAI/USDT)</li>
<li><strong><a href="https://github.com/w3f/Grants-Program/tree/master#level_slider-levels" target="_blank" rel="noopener noreferrer">Level</a>:</strong> 2</li>
<li><strong>Status:</strong> <a href="https://github.com/w3f/Grants-Program/pull/1499#issuecomment-1634849391" target="_blank" rel="noopener noreferrer">Terminated</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="project-overview-page_facing_up">Project Overview <!-- -->📄<a href="#project-overview-page_facing_up" class="hash-link" aria-label="Direct link to project-overview-page_facing_up" title="Direct link to project-overview-page_facing_up">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h3>
<p>tldr: FuzzLand is a DAO leveraging crowd-sourced computation power to achieve <strong>fast</strong>, <strong>accurate</strong>, and <strong>cheap</strong> automated auditing.</p>
<p>The importance of auditing has grown significantly in recent years as organizations strive to ensure the integrity and security of their systems. However, despite the importance of auditing, it remains challenging, with many auditing companies struggling to provide comprehensive and accurate reports.</p>
<p>The use of human auditors by auditing firms presents several challenges, including the high costs of recruiting and training qualified personnel and the potential for human error. With the increasing complexity of software systems and the growing volume of data to be analyzed, manual audits can become increasingly time-consuming and error-prone. On the other hand, automated auditing solutions also present their own set of challenges. These solutions typically require high computational power and incur high running time overhead. Thus, many traditional automated auditing tools sacrifice completeness and soundness of the analysis for faster response time, resulting in both false negative and positive results.</p>
<p>In contrast, FuzzLand aims to parallelize novel automated program analysis techniques to gain accurate results in a reasonable amount of time. To achieve high parallelism with low costs, FuzzLand platform allows the public to contribute computation power to accomplish the automated auditing in return for token rewards. In the meantime, all the program analysis intermediate statistics and waypoints are verified and stored on the FuzzLand chain, which can finally be leveraged to mint the auditing reports.</p>
<p>Unlike traditional collaborative manual auditing platforms, FuzzLand uses sound automated program analysis (e.g., fuzzing and symbolic execution) techniques to provide accurate auditing reports. Since the program analysis results and intermediate waypoints can be easily verified through a fully automated oracle, the manual confirmation process is no longer needed. While it is impossible to quantify the performance of human auditors, FuzzLand can quantify the auditing progress and completeness of auditing reports based on metrics backed with on-chain data.</p>
<p>The FuzzLand platform can offer two key benefits to the ecosystem. Firstly, it allows Substrate module and Ink developers to access low-cost, highly accurate auditing reports for their projects with on-chain guarantees. Secondly, the platform will be implemented as a Substrate chain and the platform&#x27;s Substrate pallets can be easily reused by other projects.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="project-details">Project Details<a href="#project-details" class="hash-link" aria-label="Direct link to Project Details" title="Direct link to Project Details">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="stakeholders">Stakeholders<a href="#stakeholders" class="hash-link" aria-label="Direct link to Stakeholders" title="Direct link to Stakeholders">​</a></h4>
<ul>
<li>Project Owners: Anyone who needs an audit for their program.</li>
<li>Validator Nodes (i.e., Judges): A proof of stake network that verifies the audting information. Note that these nodes are not necessary the validators of the <em>chain</em>.</li>
<li>Auditor Nodes (i.e., Wardens): Anyone can run a nodes on their computers or even inside browsers to supply computation power for program analysis in return of token rewards.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-auditing-workflow">High Level Auditing Workflow<a href="#high-level-auditing-workflow" class="hash-link" aria-label="Direct link to High Level Auditing Workflow" title="Direct link to High Level Auditing Workflow">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">+---------+                  +-------------+ +-------------+ +-------------------+                                +-------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| Auditor |                  | Validator 1 | | Validator 2 | |   Project Owner   |                                | Chain |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+---------+                  +-------------+ +-------------+ +-------------------+                                +-------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |                              |               |                  |                                              |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |                              |               |                  | 0. Onboard a project                         |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |                              |               |                  |---------------------------------------------&gt;|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |                              |               |                  |                                              |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |                              |               |                  |  1. Ask for partition plan based on project  |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |                              |&lt;--------------------------------------------------------------------------------|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |                              |               |                  |                                              |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |                              | 1. Claim a partition plan and submit it                                         |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |                              |--------------------------------------------------------------------------------&gt;|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |                              |               |                  |                                              |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |                              |               | 1. Challenge the partition plan if it is not correct            |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |                              |               |----------------------------------------------------------------&gt;|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |                              |               |                  |                                              |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |                              |               |                  |      2. Send the partition of the project    |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |&lt;---------------------------------------------------------------------------------------------------------------|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | -----------------------\     |               |                  |                                              |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |-| 2. Auditing with DPA |     |               |                  |                                              |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | |----------------------|     |               |                  |                                              |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |                              |               |                  |                                              |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | 3. When a testcase leading to vulnerability / new coverage found, submit the testcase                          |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |---------------------------------------------------------------------------------------------------------------&gt;|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |                              |               |                  |                                              |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |                              | 3. Challenge the testcase if it is not correct                                  |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |                              |--------------------------------------------------------------------------------&gt;|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |                              |               |                  |                                              |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |                              |               |                  | 4. Stop the auditing and mint the report     |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |                              |               |                  |---------------------------------------------&gt;|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |                              |               |                  |                                              |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |                              |              4. Provide share of bounties based on the # of testcases submitted |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |&lt;---------------------------------------------------------------------------------------------------------------|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |                              |               |                  |                                              |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |                              |               |                  |       4. Provide share of bounties as reward |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |                              |&lt;--------------------------------------------------------------------------------|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     |                              |               |                  |                                              |</span><br></span></code></pre></div></div>
<ol start="0">
<li>
<p>Project owner can create an auditing request by staking tokens as bounties and providing the compiled program.</p>
</li>
<li>
<p>The program being audited is divided into smaller subprograms of equal exploring complexity using static analysis by validator nodes. Each node is assigned a unique subprogram to audit for a specific period. This process, known as partitioning, is extremely fast and helps prevent auditor nodes from wasting computational power on code other nodes have already explored. The partitioning plan is deterministic and can be easily verified by other validator nodes, reaching consensus among all validator nodes before the auditing campaign begins.</p>
</li>
<li>
<p>Each auditor nodes pick up a specific partition in the partitioning plan minted based on weighted sampling. Then, auditor nodes leverage fuzz testing techniques to analyze their subprogram. Auditor nodes are incentivized to prioritize auditing requests that are new, have high program complexity, and offer higher rewards. This is because auditor nodes are motivated to find more test cases that lead to vulnerabilities and new coverage, as well as to receive higher rewards for the test case NFTs they mint.</p>
</li>
<li>
<p>When auditor nodes detect a test case leading to vulnerability or new code coverage, they mint an NFT for the test case. Judge nodes then verify the test case by re-executing it. Since the execution is deterministic, the outcome must also be deterministic, allowing validator nodes to reach consensus about the validity of test case NFTs.</p>
</li>
<li>
<p>Project owner can terminate an audit request. The termination requests also mint an NFT for an auditing report automatically based on the intermediate statistics, test cases, and vulnerabilities. A reward (i.e., bounties) is then given to the validator nodes and auditor nodes that generated or verified the test case NFTs.</p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="technical-details">Technical Details<a href="#technical-details" class="hash-link" aria-label="Direct link to Technical Details" title="Direct link to Technical Details">​</a></h4>
<p><strong>Partitioning Plan Synthesis</strong></p>
<p>By converting a program into LLVM bytecode, we can create a weighted control flow graph (CFG) of it with the weight of each edge as relative difficulty of exploring such an edge. Graph partitioning algorithms can then partition the CFG into sub-trees, with the starting node of the CFG as the root of each tree. The partition plan can be concisely represented in O(log n) bytes, where <code>n</code> is the size of the CFG, making it possible to be fit into an on-chain variable.</p>
<p>To determine the difficulty of exploring each edge in the CFG, we utilize static analysis tools. We pinpoint the comparison instruction that leads to the edge and determine the domain size of both the LHS and RHS. The domain size represents the likelihood of program execution failing into either side if the input is randomly selected. Currently, we use heuristics to determine the domain size. As future work, we can use abstract interpretation algorithms with a constraint solver to calculate it. The exploration difficulty is then estimated by dividing the domain size of the LHS and RHS.</p>
<p>For instance, consider following simple program:</p>
<div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// input: Vec&lt;u8&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">input</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Line 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">bug</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Line 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Line 3</span><br></span></code></pre></div></div>
<p>The CFG would be</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              ┌──────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ┌──────┤    Line 1    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       │      └───────┬──────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       │ E2           │ E1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       │      ┌───────▼──────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       │   ┌──┤    Line 2    |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       │   │  └──────────────┘          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       │   │ E3              </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌──────▼───▼───┐ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│    Line 3    |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────  ─────┘ </span><br></span></code></pre></div></div>
<p>Given <code>u8</code> domain is 256, weight (exploration difficulty) of E1 is <code>(256 - 20) / (256 + 20)</code> and E2 is <code>(256 + 20) / (256 - 20)</code>. By intuition, E2 is indeed more likely to be explored than E1. As there is no comparison instruction in during transition of E3, the exploration difficulty is 0, meaning as long as we can reach Line 2, we can reach Line 3.</p>
<p><strong>Dynamic Program Analysis (DPA)</strong></p>
<p>We support automated auditing of any program that can be compiled to LLVM bytecode by leveraging fuzz testing techniques, which involve sending random input to the program. This method, also known as heuristic search, aims to achieve 100% code coverage and uncover all vulnerabilities. While infinite time would guarantee zero false negatives, we use formal methods such as symbolic and concolic execution for guiding the fuzz testing search to reduce the time needed. Additionally, by partitioning the program into smaller, more manageable subprograms for each node, we can reduce the time required linearly as the number of nodes increases.</p>
<p>Fuzz testing employs partitioning through the use of an instrumented target. If an input causes execution of code outside the partition plan, the target will terminate. Early termination reduces the time spent exploring code not within the partition, saving significant time. Similarly, symbolic and concolic execution can also conduct early-termination to avoid exploring code outside the partition.</p>
<p><strong>Reaching Consensus</strong></p>
<p>Verifying partition plans and interesting test cases can be costly or even impossible on the chain. Thus, validator nodes use off-chain oracles. FuzzLand uses rollup techniques to move the oracle results onto the chain and reach consensus. Specifically, an optimistic rollup pallet is implemented to achieve consensus on partition plans and interesting test cases. Once a validator node mints a partition plan or an auditor node mints a test case NFT, other validator nodes can submit fraud proofs to challenge it within 50 blocks, or it will be committed. Unlike human auditors or judges, validator nodes can find evidence to challenge false claims in microseconds, as the verification process is automated and inexpensive, making optimistic rollups effective.</p>
<p><em>Interactively Partition Plan Verification</em>: Claimer can create a partition plan by submitting the weighted CFG and list of nodes in the CFG that needs to be divided. A challenger can either challenge the weighted CFG or the partition plan. To challenge the weighted CFG, the challenger submits a fraud-proof consisting of the root node of the minimum differing subtree in the CFG. The chain partially re-generates from that root node to the first child node by looking at branch, jump, and call instructions. That node must equal either party&#x27;s differing node if at least one party is honest. Although generating full CFG is a costly operation as multiple complex graph analysis algorithm is needed, generating the next node with a known subgraph and context is cheap. To challenge the partition plan, the challenger must submit a better plan. The chain can compare the balance of each subgraph&#x27;s total weights and determine which is the best partition plan. Comparison is very cheap since the chain only needs to sum up the weight of each subgraph and divide them.</p>
<p><em>Interactively Testcase Verification</em>: Claimer can confirm a test case by submitting the execution trace (a trace of basic blocks hit during execution) of the test case to the chain. The initial fraud-proof consists of the first differing program counter (PC) in execution trace and the state (i.e., dirty page of the memory and stack) before the differing PC. The challenged claimer can dispute the state and find the first differing state interactively with the challenger. When either the differing PC or state is found, the chain will re-execute partially from the state and PC with consensus (i.e., state and PC before the differing ones) using LLVM bytecode virtual machine. Since the execution would lead to a concrete result that is directly equal to that of either challenger or claimer, the chain can decide which party is gaming. Partial re-execution is not costly since the chain only needs to execute the basic block with dispute, which is usually a few simple instructions. A potential future work would be replacing this process with zero-knowledge proof.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="technology-stack">Technology Stack<a href="#technology-stack" class="hash-link" aria-label="Direct link to Technology Stack" title="Direct link to Technology Stack">​</a></h4>
<ul>
<li>Substrate</li>
<li>Rust</li>
<li>LLVM</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="dependencies">Dependencies<a href="#dependencies" class="hash-link" aria-label="Direct link to Dependencies" title="Direct link to Dependencies">​</a></h4>
<ul>
<li>LibAFL for fuzzing</li>
<li>Rustc for converting Substrate Pallets and ink! smart contracts to LLVM IR</li>
<li>Substrate Client (<a href="https://github.com/scs/substrate-api-client" target="_blank" rel="noopener noreferrer">https://github.com/scs/substrate-api-client</a>) for WS communication between the chain and the oracles</li>
<li>(Potentially) SymCC (<a href="https://github.com/eurecom-s3/symcc" target="_blank" rel="noopener noreferrer">https://github.com/eurecom-s3/symcc</a>) for symbolic execution on LLVM bytecode</li>
<li>(Potentially) yul2llvm (<a href="https://github.com/Veridise/yul2llvm" target="_blank" rel="noopener noreferrer">https://github.com/Veridise/yul2llvm</a>) for converting Solidity to LLVM IR</li>
<li>More TBD</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-details">Implementation Details<a href="#implementation-details" class="hash-link" aria-label="Direct link to Implementation Details" title="Direct link to Implementation Details">​</a></h4>
<p>We are going to implement two Substrate modules with following traits:</p>
<p><strong>Optimistic Rollups</strong>:</p>
<div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Optimistic rollups pallet maintains a set of challengers and claimers. </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// The claimers can claim arbitrary things that can be executed. </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// The challengers can challenge arbitrary claims submitted previously.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Optimistic rollups can transition costly on-chain execution to off-chain oracle while still reaching consensus with the execution correctness. </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">trait</span><span class="token plain"> </span><span class="token type-definition class-name">OptimisticRollups</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// When a challenge / dispute is submitted, use this function to determine whether the dispute is valid.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Decision can be: wait for new argument (multi-round interactive rollups only); confirmed fraud; confirmed proof incorrect.  </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    verifier</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">fn</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">proof</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token class-name">Decision</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// When a claim is committed, the executor is invoked to execute the claim. </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    executor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">fn</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">claim</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Claim something.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Claim</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">origin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Challenge / Dispute a claim with proof.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Challenge</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">origin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> proof</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Argue a challenge / dispute by challenger or claimer.  </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Used for multi-round interactive rollups.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">ArgueChallenge</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">origin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> proof</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Commit latest block that may contain multiple claims.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Commit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">origin</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Vote to ban a specific challenger / claimer.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// after an account gets enough vote, it gets removed from challenger / claimer set.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Ban</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">origin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> account</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Address</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Join with minimum token staked to be a challenger or claimer.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Join</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">origin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> role</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Role</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>Both partition plan and testcase can be interactively challenged and proved on chain efficiently by partial re-evaluation.</p>
<p><strong>Auditing</strong>:</p>
<div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">trait</span><span class="token plain"> </span><span class="token type-definition class-name">Audit</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Onboard a project with minimum token (bounty) staked</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// note: llvm_bytecode arg can be replaced by IPFS hash if the target is very large</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">OnboardProject</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">origin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> llvm_bytecode</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-&gt;</span><span class="token plain"> u256</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Offboard a project and mint a report</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">OffboardProject</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">origin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> project_id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> u256</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Submit a parition plan for the project by validator</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">SubmitPartitionPlan</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">origin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> project_id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> u256</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> plan</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Submit a testcase by auditor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">SubmitTestcase</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">origin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> project_id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> u256</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> testcase</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Join with minimum token staked to be a validator or auditor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Join</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">origin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> role</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Role</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ...challenging methods</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>We are also going to implement the off-chain oracle.</p>
<p>The oracle for auditor nodes needs to implement the DPA for LLVM targets that respect the partition they received. We use LLVM pass to modify the bytecode for achieving early termination and use LibAFL to manage the DPA campaign.</p>
<p>LLVM Pass Pseudocode</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Given Partition, Program</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> BB </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> Program</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Last instruction of BB is comparison instruction</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> ProgramCounter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">BB</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> Partition</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        BB</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Start</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            new Instruction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Terminate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>The oracle for validator nodes needs to generate partition plans. We implement graph partitioning tool using Kernighan–Lin algorithm. As aforementioned, a crucial part for partitioning is the CFG edge weight calculation. We implement it using LLVM pass.</p>
<p>Graph edge weight calculation Pseudocode</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Given Program</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> BB </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> Program</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Last instruction of BB is comparison instruction</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> BB</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Tail </span><span class="token keyword" style="color:#00009f">is</span><span class="token plain"> Comparison</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        LHS</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> RHS</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Op </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> BB</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Tail </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> Comparison</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Count the percentage between domain of LHS and domain of RHS based on Op</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> Count</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Op</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> AbstractInterp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LHS</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> AbstractInterp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">RHS</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><br></span></code></pre></div></div>
<p>The oracle also interacts with chain by interacting with optimistic rollups. The VM used to re-execute LLVM bytecode partially is <a href="https://github.com/andoma/vmir" target="_blank" rel="noopener noreferrer">https://github.com/andoma/vmir</a>, which can be compiled to WASM. We will implement a wrapper pallet for this VM.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ui">UI<a href="#ui" class="hash-link" aria-label="Direct link to UI" title="Direct link to UI">​</a></h4>
<p>Design Doc: <a href="https://xd.adobe.com/view/41cd2fa4-f124-4877-8b17-a8ff47799bf7-149e/" target="_blank" rel="noopener noreferrer">https://xd.adobe.com/view/41cd2fa4-f124-4877-8b17-a8ff47799bf7-149e/</a></p>
<p>PoC Source Code: <a href="https://github.com/fuzzland/protocol_v1/tree/main/frontend" target="_blank" rel="noopener noreferrer">https://github.com/fuzzland/protocol_v1/tree/main/frontend</a></p>
<p>Screen 1: Onboarding - Upload Project
<img decoding="async" loading="lazy" src="https://i.imgur.com/blNwnb7.png" alt="" class="img_ev3q"></p>
<p>Screen 2: Onboarding - Select Bounty
<img decoding="async" loading="lazy" src="https://i.imgur.com/nJIFcWW.png" alt="" class="img_ev3q"></p>
<p>Screen 3: Auditing Report
<img decoding="async" loading="lazy" src="https://i.imgur.com/2wX9Mf6.png" alt="" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ecosystem-fit">Ecosystem Fit<a href="#ecosystem-fit" class="hash-link" aria-label="Direct link to Ecosystem Fit" title="Direct link to Ecosystem Fit">​</a></h3>
<p>Our platform can serve the project owners who have auditing requests for their projects, regardless of Web2 or Web3: as long as they can be compiled into LLVM (e.g., any Ink, Solidity, Rust, C++, etc. programs). The auditing reports and how they correlate with the on-chain statistics can also be reviewed by anyone: not just the project owner, but also the project users. Project owners can gain more trust by sharing the auditing reports backed with <em>consensus</em> with their users.</p>
<p>Downstream DeFis, including insurance, using the auditing intermediate information and results can be deployed to our chain. As we enable the contracts pallet in our chain, the DeFis can be developed in the form of Ink smart contracts. XCM also makes it possible to pipeline the auditing results to other chains.</p>
<p>Other projects can reuse the components of FuzzLand platforms. For example, the optimistic rollups pallet can be used by Layer 2 solutions. Collaborative manual auditing projects can also use the audit pallet or our chain by replacing the rollups pallet with consensus pallets.</p>
<p><a href="https://github.com/w3f/Grants-Program/blob/master/docs/RFPs/decentralized-security-marketplace.md" target="_blank" rel="noopener noreferrer">Decentralized Security Marketplace</a> is a related RFP. <a href="https://github.com/w3f/Grants-Program/pull/989" target="_blank" rel="noopener noreferrer">QRUCIAL DAO</a> is a related project in Substrate ecosystem. QRUCIAL DAO and FuzzLand both reach consensus about the auditing result. The fundamental differences are:</p>
<ul>
<li>FuzzLand harnesses the computation power of the crowd to perform compute-intensive dynamic program analysis, resulting in fast and highly accurate auditing. Yet, QRUCIAL DAO&#x27;s analysis is performed by rerunning a same set of fast static analysis tools on multiple nodes, of which the requirement of multiple nodes is solely for reaching consensus.</li>
<li>We support all LLVM targets, including Substrate pallet, ink!, Solidity, Move, Rust, C/C++, etc. projects while QRUCIAL DAO is tailored for smart contract auditing.</li>
<li>We use optimistic rollups to efficiently reach consensus while QRUCIAL DAO uses the governance pallet.</li>
</ul>
<p>Code4rena, Immunefi, Secure3, Sherlock, etc. are similar projects in other ecosystems, but they all rely on human auditors.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="team-busts_in_silhouette">Team <!-- -->👥<a href="#team-busts_in_silhouette" class="hash-link" aria-label="Direct link to team-busts_in_silhouette" title="Direct link to team-busts_in_silhouette">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-members-in-order-of-joining-time">Team members (In order of joining time)<a href="#team-members-in-order-of-joining-time" class="hash-link" aria-label="Direct link to Team members (In order of joining time)" title="Direct link to Team members (In order of joining time)">​</a></h3>
<p>Jeff Liu (PM &amp; Marketing)</p>
<p>Chaofan Shou (Core Dev) - <a href="https://scf.so/" target="_blank" rel="noopener noreferrer">https://scf.so/</a></p>
<p>Shangying Tan (Core Dev) - <a href="https://shangyit.me/" target="_blank" rel="noopener noreferrer">https://shangyit.me/</a></p>
<p>Ben Fong (Core Dev + QA)</p>
<p>Yiqi Hu (Core Dev)</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="contact">Contact<a href="#contact" class="hash-link" aria-label="Direct link to Contact" title="Direct link to Contact">​</a></h3>
<ul>
<li><strong>Contact Name:</strong> Jeff Liu</li>
<li><strong>Contact Email:</strong> <a href="mailto:jeff@fuzz.land" target="_blank" rel="noopener noreferrer">jeff@fuzz.land</a></li>
<li><strong>Website:</strong> <a href="https://fuzz.land/" target="_blank" rel="noopener noreferrer">https://fuzz.land/</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="legal-structure">Legal Structure<a href="#legal-structure" class="hash-link" aria-label="Direct link to Legal Structure" title="Direct link to Legal Structure">​</a></h3>
<ul>
<li><strong>Registered Address:</strong> N/A</li>
<li><strong>Registered Legal Entity:</strong> N/A</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="teams-experience">Team&#x27;s experience<a href="#teams-experience" class="hash-link" aria-label="Direct link to Team&#x27;s experience" title="Direct link to Team&#x27;s experience">​</a></h3>
<p>Chaofan is a PhD student at UC Berkeley working on program analysis and distributed system. He has multiple research papers about fuzz testing in top conferences (e.g., <a href="https://arxiv.org/pdf/2109.00398.pdf" target="_blank" rel="noopener noreferrer">CorbFuzz</a>, <a href="https://arxiv.org/pdf/2212.09004.pdf" target="_blank" rel="noopener noreferrer">Rare Path Fuzzer</a>). He has also participated in auditing and found numerous critical vulnerabilities in well-known software and Web3 protocols. He will work on the technical portion of the project, including implementing the aforementioned Substrate pallets and the offchain oracle.</p>
<p>Shangyin is a PhD student at UC Berkeley working on formal methods and fuzzing. He has previously worked at Microsoft and contributed to well-known symbolic / concolic execution tools (e.g., <a href="https://github.com/Kraks/sai" target="_blank" rel="noopener noreferrer">sai</a>). He will be developing the algorithm for partition plan synthesis and interactive verifiers in optimistic rollups.</p>
<p>Yiqi Hu graduated with a master&#x27;s degree from Carnegie Mellon University. She has a strong background in program analysis and will be working on implementing the fuzz testing algorithm.</p>
<p>Ben graduated from SJSU and has a strong background in full-stack development and automated QA. He will be in charge of Web App development and CI/CD pipeline.</p>
<p>Jeff is the founding engineer and PM at VMware Cloud Infra org and has founded multiple startups that have been acquired by companies like Alibaba. He has co-invested in well-known Web3 companies like Deeper Network, Holokit, etc. He will be overseeing the development process.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-code-repos">Team Code Repos<a href="#team-code-repos" class="hash-link" aria-label="Direct link to Team Code Repos" title="Direct link to Team Code Repos">​</a></h3>
<ul>
<li><a href="https://github.com/fuzzland/chain" target="_blank" rel="noopener noreferrer">https://github.com/fuzzland/chain</a></li>
<li><a href="https://github.com/fuzzland/oracle" target="_blank" rel="noopener noreferrer">https://github.com/fuzzland/oracle</a></li>
</ul>
<p>Please also provide the GitHub accounts of all team members. If they contain no activity, references to projects hosted elsewhere or live are also fine.</p>
<ul>
<li><a href="https://github.com/shouc" target="_blank" rel="noopener noreferrer">https://github.com/shouc</a> Chaofan Shou</li>
<li><a href="https://github.com/shangyint" target="_blank" rel="noopener noreferrer">https://github.com/shangyint</a> Shangying Tan</li>
<li><a href="https://github.com/benjaminfong" target="_blank" rel="noopener noreferrer">https://github.com/benjaminfong</a> Ben Fong</li>
<li><a href="https://github.com/YiqiHu" target="_blank" rel="noopener noreferrer">https://github.com/YiqiHu</a> Yiqi Hu</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-linkedin-profiles-if-available">Team LinkedIn Profiles (if available)<a href="#team-linkedin-profiles-if-available" class="hash-link" aria-label="Direct link to Team LinkedIn Profiles (if available)" title="Direct link to Team LinkedIn Profiles (if available)">​</a></h3>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="development-status-open_book">Development Status <!-- -->📖<a href="#development-status-open_book" class="hash-link" aria-label="Direct link to development-status-open_book" title="Direct link to development-status-open_book">​</a></h2>
<ul>
<li><a href="https://github.com/fuzzland/chain" target="_blank" rel="noopener noreferrer">https://github.com/fuzzland/chain</a> This is the Substrate chain implementation. We have just started to work on it.</li>
<li><a href="https://github.com/fuzzland/ityfuzz" target="_blank" rel="noopener noreferrer">https://github.com/fuzzland/ityfuzz</a> (Private for now, can share upon requests) This is our fuzz testing tool that can conduct DPA as described before. Supports for partitioning programs and conduct DPA on subprograms are WIP. Will be moved to <code>oracle</code> repo.</li>
<li><a href="https://github.com/fuzzland/protocol_v1" target="_blank" rel="noopener noreferrer">https://github.com/fuzzland/protocol_v1</a> We have built a simple FuzzLand protocol PoC for EVM-compatible chain in Solidity. However, due to high gas fee, low throughput, and hard to customize the chain, we decide to switch to implement a Substrate chain. Frontend and telemetry API in this repo will be reused.</li>
<li><a href="https://github.com/AFLplusplus/LibAFL/pull/557" target="_blank" rel="noopener noreferrer">https://github.com/AFLplusplus/LibAFL/pull/557</a> Adds the necessary analysis datasource for partition plan generation to the fuzzing library.</li>
<li><a href="https://dev.fuzz.land/" target="_blank" rel="noopener noreferrer">https://dev.fuzz.land/</a> We also have the first version of our website.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="related-papers">Related Papers<a href="#related-papers" class="hash-link" aria-label="Direct link to Related Papers" title="Direct link to Related Papers">​</a></h4>
<ul>
<li>AFLTeam: <a href="https://ieeexplore.ieee.org/document/9678810/" target="_blank" rel="noopener noreferrer">https://ieeexplore.ieee.org/document/9678810/</a></li>
<li>LibAFL: <a href="https://dl.acm.org/doi/abs/10.1145/3548606.3560602" target="_blank" rel="noopener noreferrer">https://dl.acm.org/doi/abs/10.1145/3548606.3560602</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="development-roadmap-nut_and_bolt">Development Roadmap <!-- -->🔩<a href="#development-roadmap-nut_and_bolt" class="hash-link" aria-label="Direct link to development-roadmap-nut_and_bolt" title="Direct link to development-roadmap-nut_and_bolt">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview-1">Overview<a href="#overview-1" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h3>
<ul>
<li><strong>Total Estimated Duration:</strong> 5 months</li>
<li><strong>Full-Time Equivalent (FTE):</strong> 4 FTE</li>
<li><strong>Total Costs:</strong> 30,000 USD</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-1--offchain-oracle">Milestone 1 — Offchain Oracle<a href="#milestone-1--offchain-oracle" class="hash-link" aria-label="Direct link to Milestone 1 — Offchain Oracle" title="Direct link to Milestone 1 — Offchain Oracle">​</a></h3>
<ul>
<li><strong>Estimated duration:</strong> 1.5 month</li>
<li><strong>FTE:</strong> 4 FTE</li>
<li><strong>Costs:</strong> 12,000 USD</li>
</ul>
<table><thead><tr><th style="text-align:right">Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td style="text-align:right">0a.</td><td>License</td><td>GPLv3</td></tr><tr><td style="text-align:right">0b.</td><td>Documentation</td><td>We will provide both <strong>inline documentation</strong> of the code and a basic <strong>tutorial</strong> that explains how a user can (for example) spin up one of a validator or a auditor node.</td></tr><tr><td style="text-align:right">0c.</td><td>Testing Guide</td><td>Core functions will be fully covered by unit tests to ensure functionality and robustness. In the guide, we will describe how to run these tests.</td></tr><tr><td style="text-align:right">0d.</td><td>Docker</td><td>We will provide a Dockerfile(s) that can be used to test all the functionality delivered with this milestone.</td></tr><tr><td style="text-align:right">0e.</td><td>Article</td><td>We will publish an <strong>article</strong>/workshop that explains the technical details. We will also publish research papers about our algorithms and implementations.</td></tr><tr><td style="text-align:right">1.</td><td>Auditor Nodes Oracle Library</td><td>We will implement our DPA algorithm for LLVM targets in the form of a Rust library and fine tune it for ink! contracts and Substrate pallets.</td></tr><tr><td style="text-align:right">2.</td><td>Validator Nodes Oracle Library</td><td>We will implement the partition plan synthesis algorithm and offchain testcase validation tool in the form of a Rust library.</td></tr><tr><td style="text-align:right">3.</td><td>Verifier</td><td>We will develop the verifier for testcase validation and partition plan validation in the form of a Rust library that can be compiled to WASM. We will benchmark this library to ensure that the complexity of result verification is significantly lower than that of offchain oracles generating results.</td></tr><tr><td style="text-align:right">4.</td><td>Integration Testing</td><td>We will demonstrate that at least 3 auditor nodes oracle can efficiently collaborate to conduct program analysis for a ink! contract. We will also demonstrate that verifiers can be resistent to gaming by running a cluster of 2 honest validator nodes oracle and 1 malicious node.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-2--substrate-chain">Milestone 2 — Substrate Chain<a href="#milestone-2--substrate-chain" class="hash-link" aria-label="Direct link to Milestone 2 — Substrate Chain" title="Direct link to Milestone 2 — Substrate Chain">​</a></h3>
<ul>
<li><strong>Estimated duration:</strong> 3 month</li>
<li><strong>FTE:</strong> 4 FTE</li>
<li><strong>Costs:</strong> 18,000 USD</li>
</ul>
<table><thead><tr><th style="text-align:right">Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td style="text-align:right">0a.</td><td>License</td><td>GPLv3</td></tr><tr><td style="text-align:right">0b.</td><td>Documentation</td><td>We will provide both <strong>inline documentation</strong> of the code and a basic <strong>tutorial</strong> that explains how a user can (for example) spin up one of our Substrate nodes and send test transactions, which will show how the new functionality works.</td></tr><tr><td style="text-align:right">0c.</td><td>Testing Guide</td><td>Core functions will be fully covered by unit tests to ensure functionality and robustness. In the guide, we will describe how to run these tests.</td></tr><tr><td style="text-align:right">0d.</td><td>Docker</td><td>We will provide a Dockerfile(s) that can be used to test all the functionality delivered with this milestone.</td></tr><tr><td style="text-align:right">0e.</td><td>Article</td><td>We will publish an <strong>article</strong>/workshop that explains the technical details and how to initiate an audit request. We will also publish research papers based on effectiveness of our solution and metrics collected from operating our platform.</td></tr><tr><td style="text-align:right">1.</td><td>Substrate module: optimistic_rollups</td><td>We will create a pallet that implements the optimistic rollups algorithm and a Rust SDK can that can interact with the pallet. We will also integrate the verifier developed in last milestone into this pallet.</td></tr><tr><td style="text-align:right">2.</td><td>Substrate module: audit</td><td>We will create a pallet for onboarding auditing requests, storing testcases, and distributing rewards. The pallet can also generate auditing reports in txt format automatically.</td></tr><tr><td style="text-align:right">3.</td><td>Substrate chain</td><td>Module <code>optimistic_rollups</code> and <code>auditing</code> will be integrated into a Substrate node, to enable auditor nodes to submit intermediate auditing results and information. This chain will integrate contracts, treasury, council, democracy and also other essential pallets, to build a full-featured blockchain.</td></tr><tr><td style="text-align:right">4.</td><td>Offchain oracle clients</td><td>Auditor and validator nodes clients will be built by integrating the libraries built in the last milestone. The two clients will be able to interact with the chain so that the full auditing workflow shown in the <a href="#Project-Details">Project Details</a> can be accomplished.</td></tr><tr><td style="text-align:right">4.</td><td>Web App</td><td>We will create a web app, to let users easily interact with our substrate node. Users can create auditing requests, visualize intermediate auditing information, and view final auditing report.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="future-plans">Future Plans<a href="#future-plans" class="hash-link" aria-label="Direct link to Future Plans" title="Direct link to Future Plans">​</a></h2>
<ul>
<li>Allowing project owners to define their own types of vulnerabilities (e.g., business logic violations).</li>
<li>Bring in ZK-SNARKs for testcase sharing.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="additional-information-heavy_plus_sign">Additional Information <!-- -->➕<a href="#additional-information-heavy_plus_sign" class="hash-link" aria-label="Direct link to additional-information-heavy_plus_sign" title="Direct link to additional-information-heavy_plus_sign">​</a></h2>
<p><strong>How did you hear about the Grants Program?</strong> Personal recommendation</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/w3f/Grants-Program/edit/master/applications/FuzzLand.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#project-overview-page_facing_up" class="table-of-contents__link toc-highlight">Project Overview 📄</a><ul><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#project-details" class="table-of-contents__link toc-highlight">Project Details</a></li><li><a href="#ecosystem-fit" class="table-of-contents__link toc-highlight">Ecosystem Fit</a></li></ul></li><li><a href="#team-busts_in_silhouette" class="table-of-contents__link toc-highlight">Team 👥</a><ul><li><a href="#team-members-in-order-of-joining-time" class="table-of-contents__link toc-highlight">Team members (In order of joining time)</a></li><li><a href="#contact" class="table-of-contents__link toc-highlight">Contact</a></li><li><a href="#legal-structure" class="table-of-contents__link toc-highlight">Legal Structure</a></li><li><a href="#teams-experience" class="table-of-contents__link toc-highlight">Team&#39;s experience</a></li><li><a href="#team-code-repos" class="table-of-contents__link toc-highlight">Team Code Repos</a></li><li><a href="#team-linkedin-profiles-if-available" class="table-of-contents__link toc-highlight">Team LinkedIn Profiles (if available)</a></li></ul></li><li><a href="#development-status-open_book" class="table-of-contents__link toc-highlight">Development Status 📖</a></li><li><a href="#development-roadmap-nut_and_bolt" class="table-of-contents__link toc-highlight">Development Roadmap 🔩</a><ul><li><a href="#overview-1" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#milestone-1--offchain-oracle" class="table-of-contents__link toc-highlight">Milestone 1 — Offchain Oracle</a></li><li><a href="#milestone-2--substrate-chain" class="table-of-contents__link toc-highlight">Milestone 2 — Substrate Chain</a></li></ul></li><li><a href="#future-plans" class="table-of-contents__link toc-highlight">Future Plans</a></li><li><a href="#additional-information-heavy_plus_sign" class="table-of-contents__link toc-highlight">Additional Information ➕</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More Info</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/w3f/Grants-Program" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://web3.foundation/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Support Docs/privacy_policy">Privacy Policy</a></li><li class="footer__item"><a href="https://web3.foundation/legal-disclosures/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Legal Disclosures</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Connect</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/Web3foundation" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://matrix.to/#/!XpynPDLusWUWfDpaqr:matrix.org?via=web3.foundation&amp;via=matrix.org&amp;via=matrix.parity.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Grants Community Matrix Channel<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2025 Web3 Foundation</div></div></div></footer></div>
</body>
</html>