# Claps Health

- **Team Name:** Taiwan Research-based Biopharmaceutical Manufacturers Association
- **Payment Address:** 0x39D3E0c7AAcfbCa133f08cfb153B4888fd36bA9B (DAI)
- **[Level](https://github.com/w3f/Grants-Program/tree/master#level_slider-levels):** 2
- **Status:** [Terminated](https://github.com/w3f/Grants-Program/pull/1440#issuecomment-1773610786)

## Overview

### Make self-care a fun game with Claps
Claps is the mobile app that integrates gaming with personal health tracking can be a fun and engaging way to encourage users to track their health on a daily basis and make healthy lifestyle choices. The app could allow users to play games and record the results as a health diary, and reward them with incentives and rewards for completing diagnostic tests or answering questionnaires such as mood tracking.

Claps defines itself as a "gamified health tracking app" that uses gaming elements to motivate users to track their health and make healthy lifestyle choices. By integrating with artificial intelligence (AI) into a gamified health tracking app to provide a more personalized and interactive user experience.

The Claps AI is designed to support health practitioners in tracking patients' data on a daily basis. The AI algorithms analyze patients' health information and provide insights and recommendations to assist health practitioners in delivering personalized care to their patients. This can improve patient outcomes and help practitioners provide the most effective and efficient care.

Claps is designed to be engaging and enjoyable to use, and could provide users with feedback and support to help them achieve their health goals. It could be a useful tool for promoting health and well-being, and could be particularly appealing to users who enjoy gaming and are looking for a more interactive and engaging way to track their health.

By using Substrate technology to store and manage data, facilitate data sharing, dapps contracts, and create and manage digital assets such as NFT with patient’s data. In the long-term, patients could potentially benefit from blockchain including in the areas of insurance and financial support. By leveraging the transparency, security, and efficiency of blockchain technology, patients could be better equipped to access the care and support they need.

Taiwan Research-based Biopharmaceutical Manufacturers Association (TRPMA) is jointly established by 28 biopharmaceutical manufacturers and developers and 19 regenerative medicine companies based in Taiwan. This proposal is proposed by Jacob Lee, director of the digital health team at TRPMA. Jacob Lee is the co-designer of phrOS(Personal Health Records Operating System), a Ethereum private blockchain and IPFS Cluster based SaaS at Medical Center Hospital in 2017.

## Project Details

### Architecture
![claps_health_diagam](https://user-images.githubusercontent.com/14127551/218294412-3f0c2a9e-774a-49f0-b4c0-67e8ee6cb896.png)

## Claps App Use Case

### Patients

Use the app to track their mood on a daily basis
Receive rewards by reporting their mood or blood pressure, or by completing other activities such as questionnaires. By providing these proof of work to the Claps dapps(Claps DAO).
View personalized health education content provided by health practitioners
Share their mood tracking data with their healthcare provider for review and analysis

### Pharmaceutical Company

Use the data collected by the app to inform their product development and marketing strategies
Provide funding to health practitioners to produce health education content for the app
Use the app as a platform to promote their products and services to patients

### Health Practitioners

Use the app to provide personalized health education content to patients
Use the data collected by the app to inform treatment decisions and track patient progress
Receive funding from pharmaceutical companies to produce health education content for the app

### AI Assistant

Collect and analyze data from patients' mood tracking
Provide personalized recommendations and education content to patients based on their data
Facilitate communication and collaboration between patients, health practitioners, and pharmaceutical companies.

## Solutions
### Gamefield Mood Tracking

By gamifying the experience through a health diary design, aims to break through the challenge of collecting mental health real-world data. The app provides a challenge card and a way for users to set personal goals, track progress, and receive rewards for their efforts. This approach makes the experience more engaging, encouraging patients to stick with their tracking habits and provide more accurate data. The personal goal-setting feature also caters to a wide range of needs and preferences, making the app more accessible and appealing to a broad audience.

### Health Practitioners AI Assistant

AI can help health practitioners in various ways by analyzing patient data and providing actionable insights to improve patient care. The use of AI can save time and improve the efficiency of health practitioners by automating routine tasks and allowing them to focus on more complex and critical tasks. AI-powered alerts can help practitioners detect potential issues earlier and provide more proactive care. By providing tailored recommendations based on individual patient data, AI can also help practitioners make more informed decisions and provide personalized care.

### Omni-channel

This allows pharmaceutical companies to track and analyze the behavior and engagement of healthcare practitioners, patients, and other stakeholders, and make data-driven decisions about their marketing and communication strategies. These solutions can help pharmaceutical companies to make data-driven decisions about their marketing and communication strategies, which can help improve patient outcomes and the quality of care.

### Web3 Technology

Web3 technologies can give individuals more control over their personal health records, as they can choose who has access to their data and when it is shared. This can help to enhance privacy and ensure that personal health information is used appropriately.


## Our Goals
Improve the quality of care and outcomes for patients.

- Chronic disease awareness and prevention
- Maternal and infant health
- Mental and behavioral health
- Nutrition, exercise and obesity prevention
- Alcohol, tobacco use and substance abuse

Claps enable patients to self-report, self-test, and access health education, and that incorporate AI-based features, can be a useful tool for improving the quality of care and outcomes for patients. By providing patients with the tools and support they need to manage their own health, these apps can help to empower patients and to improve the effectiveness of healthcare delivery.

## Technology

### Substrate Blockchain

By using Substrate blockchain technology to store and manage data, facilitate data sharing, dapps contracts, and create and manage digital assets with patient’s data. Leveraging Substrate blockchain technology for healthcare can offer significant benefits for patients and healthcare industry, providing them with enhanced privacy protection and better data consent management. By taking control of their own data, patients can access the care and support they need more efficiently and securely.

### Self-Sovereign Identity (SSI)

Self-Sovereign Identity (SSI) is a decentralized digital identity model that puts individuals in control of their personal information and how it is used. This approach to identity provides users with more privacy and control over their personal information, and helps to prevent data breaches and misuse of sensitive information.

### Zero-knowledge proof

The zero-knowledge proof is part of SSI, this means that a user can prove their identity or access rights to a service without revealing any sensitive personal information. This helps to protect the privacy of the user and reduce the risk of data breaches, while still enabling secure and reliable authentication.
![zkproof](https://user-images.githubusercontent.com/14127551/218294803-fefcbb47-9be2-418a-a595-424302e838bb.png)

### GPT-3 AI model

GPT-3 (Generative Pre-trained Transformer 3) is a state-of-the-art language processing artificial intelligence developed by OpenAI. The GPT-3 chatbots are designed to interact with patients on a daily basis to support and enhance the continued care work of health practitioners. It's always monitored by health practitioners to ensure the accuracy and relevance of their responses.

## Ecosystem Fit

The pharmaceutical companies in this ecosystem can provide information to doctors, doctors provide consultation and health education to patients, and patients provide self-health tracking to doctors, could potentially be an effective way to improve the quality and accessibility of healthcare. In this model, the pharmaceutical company would be responsible for providing relevant and accurate information to doctors, who would then use this information to provide consultation and health education to patients. Patients would be responsible for tracking their own health and providing this information to doctors, which could help to inform treatment and care decisions.

## Team :busts_in_silhouette:

### Team members

- Jacob Lee, Team Lead
- Brady Liu, Project Tech Lead
- Dr. Nicky Liu, Project Manager
- Carol Cheng, Regulation and compliance

### Contact

- **Contact Name:** Jacob Lee
- **Contact Email:** jacoblee@dtco.co
- **Website:** https://trpma.org.tw/

### Legal Structure

- **Registered Address:** 1F, No 465-1, Sec. 6, Chung-hsiao E. Rd., Nan-kang Dist., Taipei City 11557, ROC TAIWAN

- **Registered Legal Entity:** TAIWAN RESEARCH-BASED BIOPHARMACEUTICAL MANUFACTURERS ASSOCIATION

### Team's experience

Taiwan Research-based Biopharmaceutical Manufacturers Association (TRPMA) is jointly established by 28 biopharmaceutical manufacturers and developers and 19 regenerative medicine companies based in Taiwan. This proposal is proposed by Jacob Lee, director of the digital health team at TRPMA. Jacob Lee is the co-designer of phrOS(Personal Health Records Operating System), a Ethereum private blockchain and IPFS Cluster based SaaS at Medical Center Hospital in 2017. The Digital Health Team at TRPMA has also supported the Taiwan government by developing a regenerative medicine management system from 2020-2023, and actively working on a Covid-19 project with a Dublin study team since 2021.

### Team Code Repos

Claps Health
https://github.com/Claps-Health/


- https://github.com/jacobleegithub/
- https://github.com/bradyliu-dtco/

### Team LinkedIn Profiles (if available)

- https://www.linkedin.com/in/jacob-lee-aa435916/
- https://www.linkedin.com/in/brady-liu-734a27106/
- https://www.linkedin.com/in/nicky-lu-449b02131/


## Development Status :open_book:
New project

## Development Roadmap :nut_and_bolt:

### Amendment - Timeline Extension (Sep, 18 2023)

Due to unforeseen challenges and to ensure the quality of our deliverables, we are proposing an extension to the project timeline. 

Original Estimated End Date: *End of the 4.5 months from April 2023*  
Revised Estimated End Date: **December 2023**

**Reasons for Extension:**  
- *Thank you for supporting Claps Health and granting us the opportunity to bring this vision to life. Since initiating the project in April 2023 (approved by middle of March), we've faced unforeseen challenges in the Rust and Substrate Technology learning curve. While we've onboarded experienced Substrate professionals to address this, the Item 3 related to zk-proof still to be develop.*
  
- *Milestone 1: Patient Identity and Security Framework
Status: Delayed due to zk-proof
Estimated Completion Date: Oct 30, 2023*
- *Milestone 2: Patient Engagement and Data Sharing
Status: Delayed due to Milestone 1
Estimated Completion Date: Dec 30, 2023*

**Technical Specification amendment:**
- *Patient ID creation - Develop the patient ID creation tool in Javascript. Changed to Develop the patient ID creation tool in Dart.*
- *Patient ID on-chain authentication	- zkSNARKs Groth16 based on Non-Interactive Zero-Knowledge Proof (NIZKP) developed by !ink Smart Contract. Changed to Patient ID on-chain authentication	- zkSNARKs Groth16 based on Non-Interactive Zero-Knowledge Proof (NIZKP) developed by xcm, runtime module or !ink smart contract.*

We assure the committee that despite the delay, the quality and scope of the project will remain consistent with our initial proposal.

### Overview

- **Total Estimated Duration:** 8 months (Adjusted from 4.5 months)
- **Full-Time Equivalent (FTE):**  4 FTE
- **Total Costs:** 30,000 USD

### Milestone 1 - Patient Identity and Security Framework

- **Estimated Duration:** 6 months (Adjusted from 2.5 months)
- **Developers:** FTE x 4
- **(Product Design x 1, Dapp Engineer x 1, System Engineer x 1, App Engineer x 1)**
- **Costs:** 20,000 USD

| Number | Deliverable                        | Specification                                                                                                                                                                                                                                                                                                                                                                                   |
| ------ | ---------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 0a.    | License                            | Apache 2.0                                                                                                                                                                                                                                                                                                                                                                                      |
| 0b.    | Documentation                      | We will provide both inline documentation of the code and a basic tutorial that explains how a user can (for example) spin up one of our Substrate nodes and send test transactions, which will show how the new functionality works.                                                                                                                                                           |
| 0c.    | Testing and Testing Guide          | Core functions will be fully covered by comprehensive unit tests to ensure functionality and robustness. In the guide, we will describe how to run these tests.                                                                                                                                                                                                                                 |
| 0d.    | Docker                             | We will provide a Dockerfile(s) that can be used to test all the functionality delivered with this milestone.                                                                                                                                                                                                                                                                                   |
| 0e.    | Article                            | We will post an article on Twitter and Meta(Facebook) for English and Mandarin speakers communities.                                                                                                                                                                                                                                                                                            |
| 1      | Patient ID creation                | \- Develop the patient ID creation tool in Dart.<br/>\- Generate a new ID on client-side for the patient based on BIP39. (12 words passphrase)<br/>\- Encrypted key store(private key) by patient user’s password (AES-256 GCM mode)<br/>\- Implement the decentralized design using public key cryptography. (Client signed by private key)                                                 |
| 2      | Patient profile management module  | \- Patient profile off-chain management tools developed by JAVA<br/>\- Support AWS S3 storage<br/>\- Updating of patient profile<br/>\- ECIES end-to-end data encryption to secure profile data transfer.                                                                                                                                                                                          |
| 3      | Patient ID on-chain authentication | \- zkSNARKs Groth16 based on Non-Interactive Zero-Knowledge Proof (NIZKP) developed by xcm or runtime module or !ink Smart Contract<br/>\- Receive credential by trust issuer (token file)<br/>\- Zero-knowledge proof for on-chain authentication to prove patient ID without private information                                                                                                                         |
| 4      | Challenge card dapp module         | Provide a way for users to set personal goals, track their progress, and receive rewards for their efforts. Dapp developed in ink! smart contract.<br/><br/>\- Add challenge card<br/>\- Add personalized mission<br/>\- Delete challenge card<br/>\- Receive daily mission<br/>\- Receive rewards by mission completed<br/>\- Receive rewards by challenge completed<br/>\- Rewards by fungible tokens |
| 5      | Create database                    | Create a docker container to start a mySQL database to store all the information, define the models to store and create tables and indexes.                                                                                                                                                                                                                                                     |
| 6      | Database encryption module         | We will implement a database encryption AES-256 GCM module of all stored and transmitted data to prevent unauthorized access or tampering. Developed by JAVA.                                                                                                                                                                                                                                   |
| 7      | Android apk                        | We will provide android apk for above challenge card data input and functional verification<br/>We will provide android apk for user challenge card with wallet to receive rewards                                                                                                                                                                                                               |
| 8      | Testing                            | Achieve a testing coverage of the functionalities above 90%                                                                                                                                                                                                                                                                                                                                     |

### Milestone 2 - Patient Engagement and Data Sharing
- **Estimated Duration:** 2 month
- **Developers:** FTE x 4
- **(Product Design x 1, Dapp Engineer x 1, System Engineer x 1, APP Engineer x 1)**
- **Costs:** 10,000 USD

| Number | Deliverable                                            | Specification                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| ------ | ------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 0a.    | License                                                | Apache 2.0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 0b.    | Documentation                                          | We will provide both inline documentation of the code and a basic tutorial that explains how a user can (for example) spin up one of our Substrate nodes and send test transactions, which will show how the new functionality works.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 0c.    | Testing and Testing Guide                              | Core functions will be fully covered by comprehensive unit tests to ensure functionality and robustness. In the guide, we will describe how to run these tests.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 0d.    | Docker                                                 | We will provide a Dockerfile(s) that can be used to test all the functionality delivered with this milestone.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 0e.    | Article                                                | We will publish an article/workshop video that explains how Claps Health Benefits to patients and healthcare business. Patients are the end-users of Claps Health application, so it's important to explain how Claps Health will benefit them. The article/video will cover topics such as how the app helps patients manage their health, how it improves access to healthcare, and how it ensures data privacy and security. Article/Workshop will be in English and Mandarin.                                                                                                                                                                                                                                                                                                                          |
| 1.      | Claps Health Data Sharing protocol: Consent management | We will implement a health data sharing protocol based on dapp to enable secure sharing of health data among various stakeholders. Developed by !ink Smart Contract.<br/>\- Accept consent<br/>\- Revoke consent<br/>\- View data sharing requests<br/><br/>a. The consent data will be stored anonymously, without any personal identifying information.<br/>b. The smart contract will be accessible to authorized parties using public key cryptography.<br/>c. Users are able to request that their data be permanently deleted from the system at any time (Please reference Data privacy control module)<br/>d. Users are able to see a list of all the organizations that have requested access to their data, along with the specific types of data being requested, and be able to manage these requests. |
| 2.      | Claps Health Data Sharing protocol: Patient data feed  | We will implement a health data feed on the backend, developed using Java.<br/>\- Subscribe data feed by numbers of Patient ID<br/>\- Unsubscribe data feed by Patient ID<br/><br/>a. The data feed will allow authorized parties to access and subscribe to a patient's health data in real-time.<br/>b. The data will be encrypted using ECIES to ensure data security.<br/>c. The data feed will be accessible through a secure API, which will authenticate and authorize users using public key cryptography.<br/>d. Support delete data by patient required.                                                                                                                                                                                                                                                |
| 3.      | Data privacy control module                            | We will implement a data privacy control module to allow patients to exercise their rights under the GDPR, delete their personal data by patient’s requirement. Developed by JAVA.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 4.      | Audit logging on web backend                           | The web backend will implement an auditable log of all access to the system, including who accessed it and what actions were performed, to help detect and respond to security incidents. Developed by JAVA.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 5.      | Support for Mandarin speakers community                | Translate the app to Mandarin and add support to switch languages                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 6.      | Testing                                                | Add tests to the components. Achieve a testing coverage of the functionalities above 90%                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 7.      | Final setups                                           | Deal with all production issues/configuration requirements such as creating the final docker image, reviewing the documentation and verifying everything works fine.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 8.      | Deploy the app                                         | Define the final domain (Claps.health) and deploy the app                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |

## User Interface

The user interface will be based on [here](https://www.figma.com/file/Zlx3Qq4EoFtuV8AopAffVl/Claps-Health-Mobile-for-Patients?node-id=0%3A1&t=pUNA27WItIqVx5n8-1) 

![app01](https://user-images.githubusercontent.com/14127551/223708073-28ffd406-a286-4f80-9476-c728762f6812.png)

p.s. The gray area will be for future development, such as health education services.
The web backend for pharmaceutical and healthcare service providers, including omni-channel and health data analytics, will also be a focus of our future development. 

## Regulation and Compliance with HIPAA/GDPR

### Pseudonymization

By using pseudonyms, the health data can be processed and shared in a secure and de-identified manner, while still allowing for verifiable identification.

### End-to-end data encryption
Claps Health offers tools based on public key cryptography ECIES encryption to secure data storage and transfer are compliance with patient data protection and industry requirements. Only authorized parties can access the data. The application layers are using AWS S3 industry compliance secure storage. 

### Database data encryption
Claps Health backend database using AES256 GCM data encryption to secure database data. Based on data access policy,  only authorized parties can access the data. The application layers are using AWS S3 industry compliance secure storage. 
 

### Audit logs

The auditable log of all access to the system, including who accessed it and what actions were performed
Consent Tracking

By implementing consent tracking smart contracts, organizations can demonstrate that they are following privacy regulations and that patients have control over their health data. 

### Right to be forgotten

Claps Health does not store personal data on the blockchain and there is only random ID and hash code on chain. Individuals have more control over their data and can request deletion of the corresponding data in the database. Ensure that all personal data is securely deleted and no residual information remains that could be used to re-identify individuals.

However, it is important to note that HIPAA/GDPR compliance involves a comprehensive set of rules and regulations for protecting health information. This proposal does not cover all of the guidelines such as physical access, governance of organizations..etc.

## Future Plans

## Health Educations

We are planning to expand Claps Health by developing a health education publishing service. This service will be available on our web backend and mobile app, and will allow healthcare providers to create and share educational content with their patients. By providing easy access to reliable health information, we hope to empower patients to take control of their health and wellbeing. 

## Omni-Channel and Health data analytics

We recognize that healthcare providers need a way to analyze large datasets to identify patterns in health behaviors and improve patient outcomes. To meet this need, we are planning to develop an omni-channel health data analytics service on our web backend. Based on patient Informed Consent Management

### Open AI Integration

We are planning to integrate Open AI into Claps health mobile app in a second phase, after testing the market and gathering feedback. This approach allows us to minimize development costs and time in the first phase, while also gathering feedback and making sure that the features that we implement in the second phase are the most useful and needed.

### Expand Substrate

We are planning to build an omnichannel platform for pharmaceutical companies and healthcare related based on Polkadot Substrate for expanding the ecosystem, providing a more secure and private way of data management, better interoperability, automation and improved healthcare education communication.

### Additional Information

Reference:
https://www.ledgerinsights.com/blockchain-health-records-taiwan/
https://medium.com/dtco/blockchain-enabled-personal-health-record-os-challenges-opportunities-in-health-care-55161e3a5a32
