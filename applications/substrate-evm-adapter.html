<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-applications/substrate-evm-adapter" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Substrate EVM Adapter | Web3 Foundation Grants</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://grants.web3.foundation/applications/substrate-evm-adapter"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Substrate EVM Adapter | Web3 Foundation Grants"><meta data-rh="true" name="description" content="- Team Name: Dastanbek Samatov"><meta data-rh="true" property="og:description" content="- Team Name: Dastanbek Samatov"><link data-rh="true" rel="icon" href="/img/favicon-32x32.png"><link data-rh="true" rel="canonical" href="https://grants.web3.foundation/applications/substrate-evm-adapter"><link data-rh="true" rel="alternate" href="https://grants.web3.foundation/applications/substrate-evm-adapter" hreflang="en"><link data-rh="true" rel="alternate" href="https://grants.web3.foundation/applications/substrate-evm-adapter" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://9VKKGZO0U1-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Web3 Foundation Grants" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.e7479e9d.css">
<script src="/assets/js/runtime~main.da42d359.js" defer="defer"></script>
<script src="/assets/js/main.00c287ca.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#000;color:#ffffff" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">For updates on our ongoing programs and initiatives, check out <a target="_blank" rel="noopener noreferrer" href="https://medium.com/web3foundation/web3-foundation-ecodev-wave-24-recipients-e15adea23002">our latest blog post!</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/w3f_logo.svg" alt="W3F Grants Program" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/w3f_logo.svg" alt="W3F Grants Program" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Grants Program</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/introduction">Docs</a><a class="navbar__item navbar__link" href="/applications">List of Grants</a><a class="navbar__item navbar__link" href="/docs/faq">FAQ</a><a class="navbar__item navbar__link" href="/docs/Process/how-to-apply">Apply</a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Substrate EVM Adapter</h1></header>
<ul>
<li><strong>Team Name:</strong> Dastanbek Samatov</li>
<li><strong>Payment Details:</strong>
<ul>
<li><strong>DOT</strong>: 16FqwPZ8GRC5U5D4Fu7W33nA55ZXzXGWHwmbnE1eT6pxuqcT</li>
<li><strong>Payment</strong>: 16FqwPZ8GRC5U5D4Fu7W33nA55ZXzXGWHwmbnE1eT6pxuqcT (USDT)</li>
</ul>
</li>
<li><strong><a href="https://github.com/w3f/Grants-Program/tree/master#level_slider-levels" target="_blank" rel="noopener noreferrer">Level</a>:</strong> 2</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="project-overview-page_facing_up">Project Overview <!-- -->ðŸ“„<a href="#project-overview-page_facing_up" class="hash-link" aria-label="Direct link to project-overview-page_facing_up" title="Direct link to project-overview-page_facing_up">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">â€‹</a></h3>
<p>This project aims to present an alternative approach to EVM compatibility for Substrate chains. The main goals are to improve developer experience and introduce an approach that requires the least amount of changes to the runtime and client. It does so by leveraging the best parts of multiple existing compatibility solutions and other awesome ecosystem tools.</p>
<p>The main components of the project are:</p>
<ul>
<li>a standalone ETH RPC adapter that will enable a partial EVM compatibility for Substrate chains</li>
<li>a pallet responsible for bridging ETH RPC adapter with the Substrate chain</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="project-details">Project Details<a href="#project-details" class="hash-link" aria-label="Direct link to Project Details" title="Direct link to Project Details">â€‹</a></h3>
<p>As stated above, main requirements are:</p>
<ul>
<li>provide opt-in partial or full EVM compatibility for Substrate chains</li>
<li>minimal changes to the runtime and client</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rationale">Rationale<a href="#rationale" class="hash-link" aria-label="Direct link to Rationale" title="Direct link to Rationale">â€‹</a></h4>
<p>In its essence, EVM compatibility means that a Substrate chain can be interacted with using Ethereum tools and workflows. It is obvious that EVM compatibility solutions are important for the ecosystem to attract more developers and users. Therefore, it is imperative to provide as many solutions as possible to cater to different needs and requirements.</p>
<p>Imagine being able to read the state of any Substrate chain using web3.js without making fundamental changes to the chain or tools. And what if we could extend this to <em>almost</em> full EVM compatibility (read and write) by adding a single pallet to the chain? This is basically what we aim to achieve with this project.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="substrate-eth-rpc-adapter">Substrate ETH-RPC Adapter<a href="#substrate-eth-rpc-adapter" class="hash-link" aria-label="Direct link to Substrate ETH-RPC Adapter" title="Direct link to Substrate ETH-RPC Adapter">â€‹</a></h4>
<p>The cornerstone of this project is an adapter service that emulates an Ethereum RPC. It translates any incoming Ethereum JSON-RPC calls into their Substrate equivalent RPC calls in real-time, basically forwarding it to the local <code>smoldot</code> light client or remote Substrate RPC node. From the perspective of external tools, the adapter will look like a regular ETH RPC node. Adapter will implement the necessary mapping logic for the most essential Ethereum RPC calls like <code>eth_getBlockByNumber</code> and <code>eth_getStorageAt</code>, etc. For the sake of simplicity each pallet will be given a unique, deterministic address, much similar to precompiles in Frontier (probably a name of the pallet in byte form). However, unlike Frontier, there will be no need to write custom precompile for each pallet or embed an ETH RPC to Substrate client.</p>
<p>By default, the adapter runs an embedded light client to ensure fast access to the chain state. By going this route, we will avoid the need to run a full node or make any changes to the client itself. It will be possible to not run the light client and connect to a remote Substrate node instead, but users will have to be aware of latency issues and well-known security risks of trusting a remote node.</p>
<p>The list of supported RPC calls will be limited to the most essential ones, to keep the adapter lightweight and generic:</p>
<ul>
<li><code>eth_chainId</code></li>
<li><code>eth_getBalance</code></li>
<li><code>eth_getCode</code> - some dummy code for all pallets</li>
<li><code>eth_call</code> (stateless, could be forwarded to either storage query or runtime API calls)</li>
<li><code>eth_blockNumber</code></li>
<li><code>eth_getBlock*</code> (by number/hash, receipts, transaction count)</li>
<li><code>eth_gasPrice</code></li>
<li><code>eth_getTransaction*</code> (by hash, by block, count, receipt)</li>
<li><code>eth_getLogs</code></li>
<li><code>eth_getStorageAt</code> - similar to <code>eth_call</code>, but more generic and operates with raw keys</li>
<li><code>eth_subscribe</code> - only <code>newHeads</code> and <code>logs</code> for now</li>
</ul>
<p>There has been some talk about reading the chain state of Substrate node using tools like Metamask or <code>web3.js</code>. And this is exactly what we will achieve by implementing this adapter. For tools that only need read access, be it for data analysis, explorers or other purposes, this module will be sufficient. Therefore, accomplishment of at least this part of the project will already meet the demands of some users.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="substrate-evm-adapter-pallet">Substrate EVM Adapter Pallet<a href="#substrate-evm-adapter-pallet" class="hash-link" aria-label="Direct link to Substrate EVM Adapter Pallet" title="Direct link to Substrate EVM Adapter Pallet">â€‹</a></h4>
<p>The second part of the project is to provide both the read and write access to the chain. Unfortunately, due to some fundamental differences between Ethereum and Substrate chains, it is not possible to achieve this out of the box. This is why it is necessary to have at least <code>pallet-evm</code> to provide and some other module that verifies ECDSA signatures and has some account mapping logic. This pallet will loosely couple with <code>pallet-evm</code> to access the EVM runner, executing bytecode if necessary. And will utilise <code>frontier</code>&#x27;s <code>dispatch</code> <a href="https://github.com/polkadot-evm/frontier/tree/master/frame/evm/precompile/dispatch" target="_blank" rel="noopener noreferrer">precompile</a> to dispatch FRAME calls originating from the ETH RPC adapter. This part of the project can be opt-in feature that can be added to the runtime if close to full EVM compatibility is desired.</p>
<p>For account mapping, we will follow the <a href="https://forum.polkadot.network/t/wrappedevm-eth-rpc-compatibility-layer/2775/6" target="_blank" rel="noopener noreferrer">approach</a> of <code>Unique</code>: hashing <code>AccountId20</code> to get <code>AccountId32</code> and truncating <code>AccountId32</code> to get <code>AccountId20</code>. This way, users will have to first deposit to their corresponding, deterministic Substrate style accounts before interacting with the chain with their EVM style account.</p>
<p>This pallet will complete the full ETH RPC compatibility by enabling the write access to the chain. In other words, at least these RPC calls will be supported by ETH-RPC adapter:</p>
<ul>
<li><code>eth_sendTransaction</code></li>
<li><code>eth_sendRawTransaction</code></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="full-flow">Full flow<a href="#full-flow" class="hash-link" aria-label="Direct link to Full flow" title="Direct link to Full flow">â€‹</a></h4>
<p>The following diagram is a high-level illustration of how the project will work:</p>
<p><img decoding="async" loading="lazy" src="https://github.com/dastansam/Grants-Program/assets/22231829/4a1be51b-17b0-43a4-b42f-6f5694d3911f" alt="Untitled-2024-03-27-2305" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="limitations-and-challenges">Limitations and challenges<a href="#limitations-and-challenges" class="hash-link" aria-label="Direct link to Limitations and challenges" title="Direct link to Limitations and challenges">â€‹</a></h4>
<p>Some limitations arise from the fact that Substrate and Ethereum are fundamentally different. For example, transaction hashes are not unique in Substrate, dust accounts issue is handled in Substrate, but not in Ethereum, etc. Therefore, it should be noted that it is extremely difficult to provide &quot;full&quot; EVM compatibility. And during the course of the development, there will certainly be some decisions that won&#x27;t align with true EVM experience. However, the goal is to provide a <em>good enough</em> compatibility that will be agnostic to the chain and tools used. Most importantly, in some cases it would be even better to default to Substrate-like behaviour, since Substrate was, in some sense, originally designed to fix some of the limitations that Ethereum still has.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="inspirations">Inspirations<a href="#inspirations" class="hash-link" aria-label="Direct link to Inspirations" title="Direct link to Inspirations">â€‹</a></h4>
<p>In general, it was inspired by working with the current EVM compatibility solutions and the need to provide a more lightweight and flexible solution. But there are some notable <a href="https://forum.polkadot.network/t/wrappedevm-eth-rpc-compatibility-layer/2775" target="_blank" rel="noopener noreferrer">discussions</a> and <a href="https://substrate.stackexchange.com/questions/8983/read-pallet-state-using-metamask" target="_blank" rel="noopener noreferrer">questions</a> in the community that also gave some validations and inspirations to this project.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="tech-stack">Tech stack<a href="#tech-stack" class="hash-link" aria-label="Direct link to Tech stack" title="Direct link to Tech stack">â€‹</a></h4>
<p>The project will be implemented completly in Rust. The ETH RPC adapter will be a standalone service that will be run as a separate process. The EVM adapter pallet will be a part of the Substrate runtime. There will be some other primitives and components included in the runtime that will make it easier to interact with the pallet.</p>
<p>DApp demo is a simple web application that will interact with the Substrate chain using the ETH RPC adapter. It will be written in JavaScript and will use <code>web3.js</code> to interact with the adapter.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ecosystem-fit">Ecosystem Fit<a href="#ecosystem-fit" class="hash-link" aria-label="Direct link to Ecosystem Fit" title="Direct link to Ecosystem Fit">â€‹</a></h3>
<p>These are the existing solutions that aim to provide EVM compatibility for Substrate chains. The most notable ones are:</p>
<ul>
<li><strong>Frontier</strong>: Offers full EVM compatibility by incorporating an EVM execution engine into the runtime and EVM RPC in the client. It demands significant changes to both the node and runtime, potentially introducing complexity and performance overhead.</li>
<li><strong><code>ethink!</code></strong>: Aims to add EVM <a href="https://sasha.ink/proposals/ethink-01/#stage-0-proof-of-concept--done" target="_blank" rel="noopener noreferrer">compatibility</a> to <code>ink!</code> smart contracts. While innovative, it mainly focuses on a specific use case and does not provide a comprehensive solution for general EVM compatibility. It also requires embedding ETH RPC to the client. However, it is only similar to our project in how it uses a custom pallet as a middleman between the bytecode execution engine and EVM calls.</li>
<li><strong>Polkamask</strong>: A MetaMask snap designed to connect MetaMask with Substrate chains. Though it provides an easy-to-use solution for end-users, it relies on trusting an external plugin, raising concerns about security and trustlessness. It also doesn&#x27;t provide a way to interact with the chain state outside of MetaMask.</li>
<li><strong>Acala EVM+</strong>: An EVM compatibility solution for Acala Network. It is important to note that, among other solutions, this one is the closest to what we aim to achieve, however, it is tailored to Acala Network and requires some changes to existing developer tools (custom <code>bodhi.js</code> instead of <code>web3.js</code>) to work. Moreover, it uses modified <code>pallet-evm</code>, rpc adapter only works with remote Acala node, and it has some additional runtime APIs, etc.</li>
</ul>
<p>Our solution aims to use the best parts of these existing solutions while attempting to address some of their limitations. By providing a standalone ETH RPC adapter and an EVM adapter pallet, we offer a flexible and lightweight approach to EVM compatibility that can be easily integrated into any Substrate chain without imposing heavy requirements on the client and the runtime. By embedding the light client, we achieve faster and more reliable access to blockchain data, reducing latency and avoiding dependencies on external nodes. With a custom pallet that is loosely coupled with <code>pallet-evm</code>, we ensure keypair compatibility and a way to dispatch FRAME calls from the ETH RPC adapter. And most importantly, the goal is to be as generic as possible, so that it can be easily integrated into any Substrate chain.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="team-busts_in_silhouette">Team <!-- -->ðŸ‘¥<a href="#team-busts_in_silhouette" class="hash-link" aria-label="Direct link to team-busts_in_silhouette" title="Direct link to team-busts_in_silhouette">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-members">Team members<a href="#team-members" class="hash-link" aria-label="Direct link to Team members" title="Direct link to Team members">â€‹</a></h3>
<ul>
<li>Dastanbek Samatov</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="contact">Contact<a href="#contact" class="hash-link" aria-label="Direct link to Contact" title="Direct link to Contact">â€‹</a></h3>
<ul>
<li><strong>Contact Name:</strong> Dastanbek Samatov</li>
<li><strong>Contact Email:</strong> <a href="mailto:dastanbeksamatov@gmail.com" target="_blank" rel="noopener noreferrer">dastanbeksamatov@gmail.com</a></li>
<li><strong>Website:</strong> <a href="https://dastansam.github.io/" target="_blank" rel="noopener noreferrer">https://dastansam.github.io/</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="legal-structure">Legal Structure<a href="#legal-structure" class="hash-link" aria-label="Direct link to Legal Structure" title="Direct link to Legal Structure">â€‹</a></h3>
<ul>
<li><strong>Registered Address:</strong> No registered entity</li>
<li><strong>Registered Legal Entity:</strong> No registered entity</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="teams-experience">Team&#x27;s experience<a href="#teams-experience" class="hash-link" aria-label="Direct link to Team&#x27;s experience" title="Direct link to Team&#x27;s experience">â€‹</a></h3>
<p>Dastanbek Samatov is a Rust Engineer with extensive experience in Substrate. For the past 3 years he has been working as a Protocol Engineer in various projects (all EVM compatible) in the Polkadot ecosystem. He periodically contributes to <code>polkadot-sdk</code>, active in the community and has contributed to several Web3 Foundation grants before. Some relevent links to projects and contributions:</p>
<ul>
<li><code>Framework for Substrate Runtimes in AssemblyScript</code> - <a href="https://github.com/LimeChain/subsembly" target="_blank" rel="noopener noreferrer">https://github.com/LimeChain/subsembly</a></li>
<li><code>Hyperfridge</code> - <a href="https://github.com/element36-io/ocw-ebics" target="_blank" rel="noopener noreferrer">https://github.com/element36-io/ocw-ebics</a></li>
<li><code>ISO-8583 POC</code> - <a href="https://github.com/subclone/iso8583-chain" target="_blank" rel="noopener noreferrer">https://github.com/subclone/iso8583-chain</a></li>
<li><code>polkadot-sdk</code> - <a href="https://github.com/paritytech/polkadot-sdk/pulls/dastansam" target="_blank" rel="noopener noreferrer">https://github.com/paritytech/polkadot-sdk/pulls/dastansam</a></li>
<li><code>Substrate StackExchange</code> - <a href="https://substrate.stackexchange.com/users/2005/dastansam" target="_blank" rel="noopener noreferrer">https://substrate.stackexchange.com/users/2005/dastansam</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-code-repos">Team Code Repos<a href="#team-code-repos" class="hash-link" aria-label="Direct link to Team Code Repos" title="Direct link to Team Code Repos">â€‹</a></h3>
<ul>
<li><a href="https://github.com/subclone/subeth" target="_blank" rel="noopener noreferrer">https://github.com/subclone/subeth</a></li>
</ul>
<p>Team members:</p>
<ul>
<li><a href="https://github.com/dastansam" target="_blank" rel="noopener noreferrer">https://github.com/dastansam</a></li>
<li><a href="https://github.com/dastanbeksamatov" target="_blank" rel="noopener noreferrer">https://github.com/dastanbeksamatov</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-linkedin-profiles-if-available">Team LinkedIn Profiles (if available)<a href="#team-linkedin-profiles-if-available" class="hash-link" aria-label="Direct link to Team LinkedIn Profiles (if available)" title="Direct link to Team LinkedIn Profiles (if available)">â€‹</a></h3>
<ul>
<li><a href="https://linkedin.com/in/dastanbek-samatov" target="_blank" rel="noopener noreferrer">https://linkedin.com/in/dastanbek-samatov</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="development-roadmap-nut_and_bolt">Development Roadmap <!-- -->ðŸ”©<a href="#development-roadmap-nut_and_bolt" class="hash-link" aria-label="Direct link to development-roadmap-nut_and_bolt" title="Direct link to development-roadmap-nut_and_bolt">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview-1">Overview<a href="#overview-1" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">â€‹</a></h3>
<ul>
<li><strong>Total Estimated Duration:</strong> 15 weeks</li>
<li><strong>Full-Time Equivalent (FTE):</strong>  1 FTE</li>
<li><strong>Total Costs:</strong> 30,000 USDT</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-1--eth-rpc-adapter">Milestone 1 â€” ETH RPC Adapter<a href="#milestone-1--eth-rpc-adapter" class="hash-link" aria-label="Direct link to Milestone 1 â€” ETH RPC Adapter" title="Direct link to Milestone 1 â€” ETH RPC Adapter">â€‹</a></h3>
<ul>
<li><strong>Estimated duration:</strong> 6 weeks</li>
<li><strong>FTE:</strong>  1</li>
<li><strong>Costs:</strong> 12,000 USD</li>
</ul>
<table><thead><tr><th style="text-align:right">Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td style="text-align:right"><strong>0a.</strong></td><td>License</td><td>MIT</td></tr><tr><td style="text-align:right"><strong>0b.</strong></td><td>Documentation</td><td>We will provide both <strong>inline documentation</strong> of the code and a basic <strong>tutorial</strong> that explains how a user can (for example) spin up the adapter and connect it to the familiar developer tools.</td></tr><tr><td style="text-align:right"><strong>0c.</strong></td><td>Testing and Testing Guide</td><td>Core functions will be fully covered by comprehensive unit tests to ensure functionality and robustness. In the guide, we will describe how to run these tests.</td></tr><tr><td style="text-align:right"><strong>0d.</strong></td><td>Docker</td><td>We will provide a Dockerfile(s) that can be used to test all the functionality delivered with this milestone.</td></tr><tr><td style="text-align:right">1.</td><td>ETH-RPC Adapter</td><td>We will create a generic ETH-RPC Adapter service for Substrate chains. It will support the most essential ETH RPC calls to make it work with the existing tools. Main goals here will be ability to connect to Metamask, <code>web3.js</code>, read Substrate chain&#x27;s pallets&#x27; state and support subscriptions. Adapter will have option of running local <code>smoldot</code> instance or connecting to remote RPC node.</td></tr><tr><td style="text-align:right">2.</td><td>Deno module</td><td>We will create a Deno module that can connect to Substrate chain as an ETH-RPC adapter + light client.</td></tr><tr><td style="text-align:right">3.</td><td>Javascript package</td><td>We will provide a javascript package that can connect to Substrate chain as an ETH-RPC adapter + light client.</td></tr><tr><td style="text-align:right">4.</td><td>End-to-end tests</td><td>We will provide comprehensive end-to-end tests for the adapter.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-2--evm-adapter-pallet">Milestone 2 â€” EVM Adapter Pallet<a href="#milestone-2--evm-adapter-pallet" class="hash-link" aria-label="Direct link to Milestone 2 â€” EVM Adapter Pallet" title="Direct link to Milestone 2 â€” EVM Adapter Pallet">â€‹</a></h3>
<ul>
<li><strong>Estimated duration:</strong> 9 weeks</li>
<li><strong>FTE:</strong>  1</li>
<li><strong>Costs:</strong> 18,000 USD</li>
</ul>
<table><thead><tr><th style="text-align:right">Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td style="text-align:right"><strong>0a.</strong></td><td>License</td><td>MIT</td></tr><tr><td style="text-align:right"><strong>0b.</strong></td><td>Documentation</td><td>We will provide both <strong>inline documentation</strong> of the code and a basic <strong>tutorial</strong> that explains how a user can (for example) spin up one of our Substrate nodes and send test transactions, which will show how the new functionality works.</td></tr><tr><td style="text-align:right"><strong>0c.</strong></td><td>Testing and Testing Guide</td><td>Core functions will be fully covered by comprehensive unit and integration tests to ensure functionality and robustness. In the guide, we will describe how to run these tests.</td></tr><tr><td style="text-align:right"><strong>0d.</strong></td><td>Docker</td><td>We will provide a Dockerfile(s) that can be used to test all the functionality delivered with this milestone.</td></tr><tr><td style="text-align:right"><strong>0e.</strong></td><td>Article</td><td>I will publish an article that explains the complete lifecycle and future plans of the project</td></tr><tr><td style="text-align:right">1.</td><td>EVM Adapter Pallet</td><td>We will create a pallet that will be responsible for bridging the gap between the ETH RPC adapter and the Substrate chain. It will have the ability to dispatch FRAME calls, opt-in possibility to execute EVM bytecode, and handle account mapping. Another main responsibility of the pallet will be handling signature verification. Some parts of this pallet can be inspired from <code>frontier</code>&#x27;s pallet <code>pallet-ethereum</code> but needs refinement and some modification.</td></tr><tr><td style="text-align:right">2.</td><td>Substrate Node</td><td>We will create a Substrate node that has two runtimes: with and without the <code>pallet-evm</code>. Both will contain <code>evm-adapter</code> pallet, but only the one with <code>pallet-evm</code> will be able to execute EVM bytecode. This will demonstrate two main use-cases of this pallet.</td></tr><tr><td style="text-align:right">3.</td><td>MVP Demo DApp</td><td>We will provide a small EVM DApp that demonstrates the integration of the pallet and RPC adapter. This will be a basic web page that can sign and send custom extrinsic with Metamask, read the state of Substrate pallets.</td></tr><tr><td style="text-align:right">4.</td><td><code>docker-compose</code></td><td>We will provide a <code>docker-compose</code> file that will run the whole project.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="future-plans">Future Plans<a href="#future-plans" class="hash-link" aria-label="Direct link to Future Plans" title="Direct link to Future Plans">â€‹</a></h2>
<p>In the future, we plan to explore if we can make the adapter pallet optional and have the account mapping and transaction converting logic completely in the RPC adapter. This will allow us to have even more lightweight and generic solution, however could present more challenges. We will explore the ways of securely sharing the same private key for two chains without sacrificing any benefits that the <code>evm-adapter</code> pallet offers, but this needs time for research.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="additional-information">Additional Information<a href="#additional-information" class="hash-link" aria-label="Direct link to Additional Information" title="Direct link to Additional Information">â€‹</a></h2>
<p><strong>How did you hear about the Grants Program?</strong></p>
<p>I have previously worked on several grant projects (listed above) and generally have been part of Polkadot ecosystem for the last 4 years.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/w3f/Grants-Program/edit/master/applications/substrate-evm-adapter.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#project-overview-page_facing_up" class="table-of-contents__link toc-highlight">Project Overview ðŸ“„</a><ul><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#project-details" class="table-of-contents__link toc-highlight">Project Details</a></li><li><a href="#ecosystem-fit" class="table-of-contents__link toc-highlight">Ecosystem Fit</a></li></ul></li><li><a href="#team-busts_in_silhouette" class="table-of-contents__link toc-highlight">Team ðŸ‘¥</a><ul><li><a href="#team-members" class="table-of-contents__link toc-highlight">Team members</a></li><li><a href="#contact" class="table-of-contents__link toc-highlight">Contact</a></li><li><a href="#legal-structure" class="table-of-contents__link toc-highlight">Legal Structure</a></li><li><a href="#teams-experience" class="table-of-contents__link toc-highlight">Team&#39;s experience</a></li><li><a href="#team-code-repos" class="table-of-contents__link toc-highlight">Team Code Repos</a></li><li><a href="#team-linkedin-profiles-if-available" class="table-of-contents__link toc-highlight">Team LinkedIn Profiles (if available)</a></li></ul></li><li><a href="#development-roadmap-nut_and_bolt" class="table-of-contents__link toc-highlight">Development Roadmap ðŸ”©</a><ul><li><a href="#overview-1" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#milestone-1--eth-rpc-adapter" class="table-of-contents__link toc-highlight">Milestone 1 â€” ETH RPC Adapter</a></li><li><a href="#milestone-2--evm-adapter-pallet" class="table-of-contents__link toc-highlight">Milestone 2 â€” EVM Adapter Pallet</a></li></ul></li><li><a href="#future-plans" class="table-of-contents__link toc-highlight">Future Plans</a></li><li><a href="#additional-information" class="table-of-contents__link toc-highlight">Additional Information</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More Info</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/w3f/Grants-Program" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://web3.foundation/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Support Docs/privacy_policy">Privacy Policy</a></li><li class="footer__item"><a href="https://web3.foundation/legal-disclosures/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Legal Disclosures</a></li></ul></div><div class="col footer__col"><div class="footer__title">Connect</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/Web3foundation" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://matrix.to/#/!XpynPDLusWUWfDpaqr:matrix.org?via=web3.foundation&amp;via=matrix.org&amp;via=matrix.parity.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Grants Community Matrix Channel<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Â© 2025 Web3 Foundation</div></div></div></footer></div>
</body>
</html>