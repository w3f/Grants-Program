<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-applications/Preparing Polkadot pallet_balances for Formal Verification" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Preparing Polkadot&#x27;s pallet_balances for Formal Verification using the Inference Framework | Web3 Foundation Grants</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://grants.web3.foundation/applications/Preparing Polkadot pallet_balances for Formal Verification"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Preparing Polkadot&#x27;s pallet_balances for Formal Verification using the Inference Framework | Web3 Foundation Grants"><meta data-rh="true" name="description" content="- Team Name: Inferara Corp. Ltd."><meta data-rh="true" property="og:description" content="- Team Name: Inferara Corp. Ltd."><link data-rh="true" rel="icon" href="/img/favicon-32x32.png"><link data-rh="true" rel="canonical" href="https://grants.web3.foundation/applications/Preparing Polkadot pallet_balances for Formal Verification"><link data-rh="true" rel="alternate" href="https://grants.web3.foundation/applications/Preparing Polkadot pallet_balances for Formal Verification" hreflang="en"><link data-rh="true" rel="alternate" href="https://grants.web3.foundation/applications/Preparing Polkadot pallet_balances for Formal Verification" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://9VKKGZO0U1-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Web3 Foundation Grants" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.f3a7e75f.css">
<script src="/assets/js/runtime~main.acd63dc8.js" defer="defer"></script>
<script src="/assets/js/main.f737dd4d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" style="background-color:#000;color:#ffffff" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><a target="_blank" rel="noopener noreferrer" href="https://medium.com/web3foundation/web3-foundation-ecodev-wave-26-7f145c39c2ef">Our blog post on Ecosystem Development Wave 26 is now online!</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/w3f_logo.svg" alt="W3F Grants Program" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/w3f_logo.svg" alt="W3F Grants Program" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Grants Program</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/introduction">Docs</a><a class="navbar__item navbar__link" href="/applications">List of Grants</a><a class="navbar__item navbar__link" href="/docs/faq">FAQ</a><a class="navbar__item navbar__link" href="/docs/Process/how-to-apply">Apply</a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Preparing Polkadot&#x27;s pallet_balances for Formal Verification using the Inference Framework</h1></header>
<ul>
<li><strong>Team Name:</strong> Inferara Corp. Ltd.</li>
<li><strong>Payment Address:</strong> 13zmwfLi7SSVeFsWybmPNEu7awsZzfn29cTAMLbh2baG7CLa (DOT &amp; USDC)</li>
<li><strong><a href="https://github.com/w3f/Grants-Program/tree/master#level_slider-levels" target="_blank" rel="noopener noreferrer">Level</a>:</strong> 1</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="project-overview-page_facing_up">Project Overview <!-- -->üìÑ<a href="#project-overview-page_facing_up" class="hash-link" aria-label="Direct link to project-overview-page_facing_up" title="Direct link to project-overview-page_facing_up">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">‚Äã</a></h3>
<p>Research potential ways to integrate formal verification into the development process of Polkadot, starting with <code>pallet_balances</code>.</p>
<ul>
<li>A brief description of your project.</li>
</ul>
<p>This project is an R&amp;D initiative to further secure Polkadot and subsequent parachains. With the recent increase in discussions of stablecoins across all ecosystem, we observed the benefit of gaining mathematical assurance for the safety of functions within <code>pallet_balances</code> for existing and future uses. As Polkadot continues to grow so should the level of scrutiny when it comes to security.
Since pallets are an essential part of the Polkadot infrastructure, we want to take a deep look at exactly how the current logic functions. <code>pallet_balances</code> is used by every token on Polkadot. Within <code>pallet_balances</code>, the <code>fungible</code> traits are what will be researched specifically.
We plan how to apply our Rocq-based framework <a href="https://github.com/Inferara/inference-language-spec/blob/main/README.md" target="_blank" rel="noopener noreferrer">Inference</a> to Polkadot‚Äôs fungible trait set.
Adaptation of the <code>fungible</code> trait set for formal verifications within our non-deterministic WASM framework will enable complete trait extraction with validated semantic mapping ready for formal specification.</p>
<ul>
<li>An indication of how your project relates to / integrates into Substrate / Polkadot / Kusama.</li>
</ul>
<p>Inference is designed as a domain‚Äëspecific formal specification language. By blending conservative procedural syntax with novel semantics of controllable non-determinism, it aims to let developers write formal specifications in a way that resembles writing unit tests. Designed with bearing similarities to classical imperative language in mind, Inference can be quickly understood and used by existing Polkadot developers. Through intermediate representation of purposefully extended WASM, such specifications are supposed to be translated into Rocq theories, allowing computer-assisted formal verification in a state-of-the-art interactive theorem prover. Inference seeks to bridge the gap between theorem proving and practical application development in blockchains. This approach provides a way to integrate formal verification into the development process of Polkadot projects.</p>
<ul>
<li>An indication of why your team is interested in creating this project.</li>
</ul>
<p>Our team always has security in mind as the most important part of any infrastructure, chain, or protocol. As mentioned in the previous section, we plan to make theorem proving more accessible for Web3 development.</p>
<p>Due to the powerful capabilities of the Polkadot ecosystem, we would like to highlight its strengths by applying our non-deterministic approach to formal verification. By being an open-source project, we hope it will be the starting point to inspire more development and research opportunities for the Polkadot ecosystem.</p>
<p>We want to enable more developers and researchers to explore formal verification by mitigating the common hindrances.</p>
<ul>
<li>An indication if your project is academic research, i.e., intended to be published in an academic peer-reviewed venue, or a technical one, to be published as a technical report on the internet.</li>
</ul>
<p>The research will be published as a techincal report on the internet with a dedicated github repository including documentation and source code.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="project-details">Project Details<a href="#project-details" class="hash-link" aria-label="Direct link to Project Details" title="Direct link to Project Details">‚Äã</a></h3>
<p>We expect the teams to already have a solid idea about your project&#x27;s expected final state. Therefore, we ask the teams to submit (where relevant):</p>
<ul>
<li>The problem(s) that you want to investigate, and why these are important.</li>
</ul>
<p>The Polkadot ecosystem, with its complex, parachain architecture, faces significant challenges in ensuring the correctness and security of its runtime logic, consensus mechanisms, and cross-chain interactions. Traditional testing and auditing methods, while useful, are insufficient to guarantee the absence of critical vulnerabilities. However, existing formal verification methods impose a steep learning curve, requiring developers to master complex mathematical logic just to comprehend formal specifications‚Äîlet alone write or verify them. This creates a significant barrier to adoption, to the point that no one even considers it because of a major inhibiting effect on the speed of development.</p>
<p>To address this challenge, this research proposes a novel verification paradigm where specifications are expressed in an imperative style, closely resembling traditional unit tests. By shifting from declarative formal logic to test-like specifications, the approach aims to make formal verification more intuitive and accessible for Polkadot developers. The goal is to enhance security without sacrificing productivity, enabling rigorous correctness guarantees for key components such as NPoS consensus, parachain interoperability, and on-chain governance‚Äîwhile minimizing the need for deep expertise in formal methods.</p>
<ul>
<li>Research questions/hypothesis.</li>
</ul>
<p>Can Polkadot‚Äôs fungible trait set‚Äîa core component of the asset management system‚Äîbe formally specified in an imperative, test-like manner without sacrificing mathematical rigor?</p>
<p>Our hypothesis is that by redefining formal specifications as controllably non-deterministic assertions mirroring unit tests, developers can definitively state key properties (e.g., conservation of supply, secure transfers, and correct access control) while avoiding the complexity of mathematical descriptions. This work will evaluate whether such an approach can achieve practical adoption by encoding the <code>fungible</code> trait‚Äôs logic in an <strong>Inference verification framework</strong>, and paving the road to <strong>computer-assisted check of compliance</strong> with desired invariants.</p>
<p>The outcome could set a precedent for scalable, developer-friendly verification across Polkadot‚Äôs runtime modules.</p>
<ul>
<li>The methodology that will be applied.</li>
</ul>
<p>This research will apply the under-development <strong>Inference DSL framework</strong>‚Äîa specification language with unit-test-like syntax‚Äîto formal verification of Polkadot&#x27;s <code>fungible</code> trait. The methodology focuses on:</p>
<ol>
<li><strong>Formal Modeling</strong>: Developing a comprehensive formal model of the <code>fungible</code> trait&#x27;s core operations (<code>transfer</code>, <code>mint</code>, <code>burn</code>) and their invariants (supply conservation, authorization rules) using the DSL&#x27;s imperative style.</li>
<li><strong>WASM Compilation</strong>: Compiling these specifications into specialized WASM modules that incorporate controlled non-determinism to model para-virtual branching.</li>
<li><strong>Validation</strong>: Rigorously validating that the compiled WASM artifacts correctly encode the intended behavior through systematic example-based testing and verification.</li>
</ol>
<p>The WASM modules will serve as formal foundations for future <strong>Rocq-based deductive reasoning</strong>, though their theoretical formalization falls outside the current scope. In the next stages, this work will demonstrate how Polkadot&#x27;s runtime developers can leverage novel verification ideas to write intuitively comprehensible specifications while maintaining a path to full formal verification.</p>
<ul>
<li>
<p>The expected results and how they would be double-checked by the grants team (reproducibility of the data analysis).</p>
<p><strong>Expected Results</strong>:</p>
<ul>
<li>WASM modules enabling future verification.</li>
</ul>
<p><strong>Reproducibility</strong>:</p>
<ul>
<li>Open-sourcing all specifications and WASM modules.</li>
<li>Providing step-by-step guides for the grants team to confirm correspondence between WASM modules and <code>fungible</code> traits.</li>
</ul>
</li>
<li>
<p>Research for relevant related work or declare how the literature review will be conducted.</p>
<p><strong>Related Work</strong>:</p>
<ul>
<li>Existing formal verification tools for blockchain (e.g., <strong>K-framework, TLA+, CertiK</strong>).</li>
<li>Prior work on imperative-style formal methods (e.g., <strong>Dafny, F</strong>*).</li>
<li>Polkadot-specific runtime security research (e.g., <strong>FRAME security audits</strong>).</li>
</ul>
<p><strong>Literature Review Methodology</strong>:</p>
<ul>
<li>Systematic review of academic papers (IEEE, ACM) and industry reports (Web3 Foundation, Parity).</li>
<li>Comparative analysis of existing Polkadot verification efforts vs. our proposed approach.</li>
</ul>
</li>
<li>
<p>Intended venue for results publication and the timeline for publication.</p>
<p><strong>Publication Venues</strong>:</p>
<ul>
<li><strong>Academic</strong>: <em>IEEE S&amp;P Blockchain Workshop, ACM CCS</em> (if theoretical contributions are substantial).</li>
<li><strong>Industry</strong>: <em>Polkadot Research Portal, Substrate Developer Hub</em>.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ecosystem-fit">Ecosystem Fit<a href="#ecosystem-fit" class="hash-link" aria-label="Direct link to Ecosystem Fit" title="Direct link to Ecosystem Fit">‚Äã</a></h3>
<p>Help us locate your project in the Polkadot/Substrate/Kusama landscape and what problems it tries to solve by answering each of these questions:</p>
<ul>
<li>Where and how does your project fit into the ecosystem?</li>
</ul>
<p>Our research project is a security enhancement to the Polkadot ecosystem. As a research endeavor, it doesn&#x27;t directly interact with users or the community like a typical DApp or development tool would. Instead, its value is that it will enhance the overall robustness of the Polkadot ecosystem. Although the initial goal of this proposal is to prepare the ground for a specification of <code>fungible</code> trait to illustrate semantic mapping between traits and the WASM model, with continued research, it allows for more impactful results. Through the continued research this proposal enables, it could lead to even more significant advancements and potential improvements for security enhancements.</p>
<p>This could include potential findings of unexpected code behavior or bugs through further completed formal verification.</p>
<ul>
<li>Who is your target audience (parachain/dapp/wallet/UI developers, designers, your own user base, some dapp&#x27;s userbase, yourself)?</li>
</ul>
<p>The main target audiences are protocol researchers and developers within the Polkadot ecosystem.  For researchers, it includes those who are already familiar with formal verification, as well as those who are interested in starting while benefiting from a less steep learning curve.</p>
<ul>
<li>What need(s) does your project meet?</li>
</ul>
<p>Our project focuses on the need to explore additional formal verification methods to further enhance the security of Polkadot. This is a novel approach, complicated but of great benefit for Polkadot to stay innovative.</p>
<ul>
<li>How did you identify these needs? Please provide evidence in the form of (scientific) articles, forum discussions, case studies, or raw data.</li>
</ul>
<p>For the needs of formal verification, there have been many things we have identified as needs. In regard to this research project, we originally identified these needs through observations of the Polkadot forum. While reading about the <a href="https://forum.polkadot.network/t/a-polkadot-hub-launch-update-from-business-development-group-april-2025/12361" target="_blank" rel="noopener noreferrer">Business Development update</a>, we observed the future goals, related to <code>pallet_assets</code>. Although this is where the interest began, we have turned our attention solely toward <code>pallet_balances</code> for further study. What began as a regular observation on the status of <a href="https://paritytech.github.io/polkadot-sdk/master/polkadot_sdk_docs/reference_docs" target="_blank" rel="noopener noreferrer">Polkadot Hub</a> turned into further exploring the Polkadot SDK docs from Paritytech.</p>
<ul>
<li>Are there any other projects similar to yours in the Substrate / Polkadot / Kusama ecosystem?</li>
</ul>
<p>No.</p>
<ul>
<li>If not, are there similar projects in related ecosystems?</li>
</ul>
<p>Similar Projects in related ecosystems</p>
<p><a href="https://pruvendo.com/" target="_blank" rel="noopener noreferrer">https://pruvendo.com/</a> - Formal specification and Deductive formal verification</p>
<p><a href="https://formal.land/" target="_blank" rel="noopener noreferrer">https://formal.land/</a> - Similar Rust-based formal verification</p>
<p><a href="https://www.certora.com/" target="_blank" rel="noopener noreferrer">Certora</a> - As Certora‚Äôs Verification Language (CVL) and Prover are tightly coupled with Solidity, it would be easier to recreate something similar from the ground up instead of trying to adapt its existing tools if used outside of the Ethereum ecosystem.</p>
<p>Another core difference between Inferara and Certora is the level of abstraction behind core mathematical formalism. Certora has a more classical approach to rule-based invariant checking that roughly corresponds to first-order logical statements. It somewhat limits the expressive power of spec, as more complex properties sometimes are hard to state in such restrictive semantics, but allows automated proof generation by SMT-solvers. We, on the other hand, are trying to build a language that would allow imperative-like equivalent of higher-order logic formulas (much more expressive), targeting computer-assisted (not fully-automated) proving techniques.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="team-busts_in_silhouette">Team <!-- -->üë•<a href="#team-busts_in_silhouette" class="hash-link" aria-label="Direct link to team-busts_in_silhouette" title="Direct link to team-busts_in_silhouette">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-members">Team members<a href="#team-members" class="hash-link" aria-label="Direct link to Team members" title="Direct link to Team members">‚Äã</a></h3>
<ul>
<li>
<p>Name of team leader</p>
<p>Georgii Plotnikov (Rust Lead)</p>
</li>
<li>
<p>Names of team members</p>
<p>Maxim Savchenko (Formal Methods Lead, PhD in mathematics)</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="contact">Contact<a href="#contact" class="hash-link" aria-label="Direct link to Contact" title="Direct link to Contact">‚Äã</a></h3>
<ul>
<li><strong>Contact Name:</strong> Georgii Plotnikov</li>
<li><strong>Contact Email:</strong> <a href="mailto:georgii@inferara.com" target="_blank" rel="noopener noreferrer">georgii@inferara.com</a></li>
<li><strong>Website:</strong> <a href="https://inferara.com" target="_blank" rel="noopener noreferrer">Inferara.com</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="legal-structure">Legal Structure<a href="#legal-structure" class="hash-link" aria-label="Direct link to Legal Structure" title="Direct link to Legal Structure">‚Äã</a></h3>
<ul>
<li><strong>Registered Address:</strong></li>
</ul>
<p>„Äí810-0041 Êó•Êú¨ Á¶èÂ≤°ÁúåÁ¶èÂ≤°Â∏Ç ‰∏≠Â§ÆÂå∫Â§ßÂêç2-6-11</p>
<p>810-0041 2-6-11 Daimyo, Chuo-ku, Fukuoka-shi, Fukuoka, Japan</p>
<ul>
<li><strong>Registered Legal Entity:</strong></li>
</ul>
<p>Inferara Corp. Ltd.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="teams-experience">Team&#x27;s experience<a href="#teams-experience" class="hash-link" aria-label="Direct link to Team&#x27;s experience" title="Direct link to Team&#x27;s experience">‚Äã</a></h3>
<p><strong>Georgii Plotnikov</strong></p>
<p>Writing code since 2013<br>
<!-- -->Developing Web3 since 2022<br>
<!-- -->Started <a href="https://inferara.com" target="_blank" rel="noopener noreferrer">Inferara</a> in Jan 2024<br>
<a href="https://english.spbstu.ru/" target="_blank" rel="noopener noreferrer">St. Petersburg Polytechnic University</a>, Mathematical modeling of information systems, MS.</p>
<p><strong>Maxim Savchenko</strong><br>
<!-- -->Researcher since 2005<br>
<!-- -->MSU Algorithmic Languages, MS<br>
<a href="https://english.spbu.ru/" target="_blank" rel="noopener noreferrer">St Petersburg University</a>, <a href="https://disser.spbu.ru/zashchita-uchenoj-stepeni-spbgu/882-savchenko-maksim-alekseevich.html" target="_blank" rel="noopener noreferrer">Influence of additional information asymmetry on the solutions of non-antagonistic games</a>, PhD<br>
<a href="https://www.mathnet.ru/php/person.phtml?option_lang=eng&amp;personid=147678" target="_blank" rel="noopener noreferrer">Mathnet Publications</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-code-repos">Team Code Repos<a href="#team-code-repos" class="hash-link" aria-label="Direct link to Team Code Repos" title="Direct link to Team Code Repos">‚Äã</a></h3>
<ul>
<li><a href="https://github.com/Inferara/tree-sitter-inference" target="_blank" rel="noopener noreferrer">https://github.com/Inferara/tree-sitter-inference</a></li>
<li><a href="https://github.com/Inferara/inference-language-spec" target="_blank" rel="noopener noreferrer">https://github.com/Inferara/inference-language-spec</a></li>
<li><a href="https://github.com/Inferara/inf-wasm-tools" target="_blank" rel="noopener noreferrer">https://github.com/Inferara/inf-wasm-tools</a></li>
<li><a href="https://github.com/Inferara/merkle-tree-wasm-spec" target="_blank" rel="noopener noreferrer">https://github.com/Inferara/merkle-tree-wasm-spec</a></li>
</ul>
<p>Please also provide the GitHub accounts of all team members. If they contain no activity, references to projects hosted elsewhere or live are also fine.</p>
<ul>
<li><a href="https://github.com/0xGeorgii" target="_blank" rel="noopener noreferrer">https://github.com/0xGeorgii</a></li>
<li><a href="https://github.com/Keyholder" target="_blank" rel="noopener noreferrer">https://github.com/Keyholder</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-linkedin-profiles-if-available">Team LinkedIn Profiles (if available)<a href="#team-linkedin-profiles-if-available" class="hash-link" aria-label="Direct link to Team LinkedIn Profiles (if available)" title="Direct link to Team LinkedIn Profiles (if available)">‚Äã</a></h3>
<ul>
<li><a href="https://www.linkedin.com/in/0xgeorgii/" target="_blank" rel="noopener noreferrer">https://www.linkedin.com/in/0xgeorgii/</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="google-scholar-profiles-or-other-research-indexer-profile-ex-researchgate">Google Scholar Profiles (Or other research indexer profile, ex. Researchgate)<a href="#google-scholar-profiles-or-other-research-indexer-profile-ex-researchgate" class="hash-link" aria-label="Direct link to Google Scholar Profiles (Or other research indexer profile, ex. Researchgate)" title="Direct link to Google Scholar Profiles (Or other research indexer profile, ex. Researchgate)">‚Äã</a></h3>
<ul>
<li><a href="https://www.mathnet.ru/php/person.phtml?option_lang=eng&amp;personid=147678" target="_blank" rel="noopener noreferrer">Mathnet Publications</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="development-status-open_book">Development Status <!-- -->üìñ<a href="#development-status-open_book" class="hash-link" aria-label="Direct link to development-status-open_book" title="Direct link to development-status-open_book">‚Äã</a></h2>
<p>If you&#x27;ve already started working on your project or it is part of a larger project, please provide a link and a description of the research here. In any case, please provide some documentation on the research and other work you have conducted before applying. This could be:</p>
<ul>
<li>We have provided several code repositories in the previous section</li>
<li>Our papers are available on our website <a href="https://www.inferara.com/en/papers/" target="_blank" rel="noopener noreferrer">here</a></li>
<li>Blog post titled: <a href="https://www.inferara.com/en/blog/new-approach-to-formal-verification-smart-contracts/" target="_blank" rel="noopener noreferrer">New Approach to Formal Verification Methods for Combating Vulnerabilities in Smart Contracts</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="development-roadmap-nut_and_bolt">Development Roadmap <!-- -->üî©<a href="#development-roadmap-nut_and_bolt" class="hash-link" aria-label="Direct link to development-roadmap-nut_and_bolt" title="Direct link to development-roadmap-nut_and_bolt">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview-1">Overview<a href="#overview-1" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">‚Äã</a></h3>
<ul>
<li><strong>Total Estimated Duration</strong>: 1 Month</li>
<li><strong>Full-Time Equivalent (FTE)</strong>: 1.25 FTE</li>
<li><strong>Total Costs</strong>: $10,000</li>
<li><strong>DOT%</strong>: 50%</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="specific-deliverables">Specific Deliverables<a href="#specific-deliverables" class="hash-link" aria-label="Direct link to Specific Deliverables" title="Direct link to Specific Deliverables">‚Äã</a></h3>
<p>We are aiming to prepare verification of <code>pallet_balances</code> adherence to some of the following properties (preliminary list, subject to changes depending on research progress):</p>
<ol>
<li><strong>Conservation of Total Issuance</strong>
The total issuance must always equal the sum of all account balances (free + held) plus any imbalances (credits/debts) that haven&#x27;t been handled.</li>
<li><strong>Non-Negative Balances</strong>
No account should ever have a negative free or held balance.</li>
<li><strong>Existential Deposit (ED) Invariant</strong>
No account should have a total balance (free + held) strictly between 0 and ED (exclusive). If it does, the account should be reaped.</li>
<li><strong>Spendable Balance Constraint</strong>
The spendable balance (free minus holds and freezes) should never be negative.</li>
<li><strong>Hold and Freeze Consistency</strong>
Holds are cumulative: the total held is the sum of all holds. Freezes are not cumulative: the effective freeze is the maximum of all freezes.</li>
<li><strong>Transfer Properties</strong>
Accounting preconditions and postconditions.</li>
<li><strong>Slashing Invariant</strong>
When slashing a hold from an account, the held balance and total issuance is reduced by¬†given amount.</li>
<li><strong>Imbalance Handling</strong>
When an imbalance (credit or debt) is dropped, it should adjust total issuance.</li>
</ol>
<p>The finalized list of formal properties will be refined and re-defined in research artifacts.</p>
<p>Regarding compiled module our primary targets for annotation are points of interaction between <code>pallet_balances</code> and its execution environment. In WASM architecture this would be imported and exported function references. All meaningful externally callable routines of the module will be properly documented, including their calling conventions (in most generic sense, as in &quot;what needs to be done to form arguments and parse results if we manually call WASM?&quot;) and conceptual relations to the <code>fungible</code> trait set. Also, every external routine that is called from inside of the module will receive the same treatment, with comprehensive description of its suppositions, adherence to which is required for correct execution.</p>
<p>As for acceptance criteria we propose to use <a href="https://github.com/paritytech/polkadot-sdk/tree/master/substrate/frame/support/src/traits/tokens/fungible/conformance_tests" target="_blank" rel="noopener noreferrer">fungible conformance tests</a> that will be executed with the logic preserved and included into the the research repository with the prepared for formal reasoning <code>pallet_balances</code> code. That said, the reasoning ready palette code must pass all conformance tests. As this testing module can not be backported to support the new version of <code>pallet balances</code> we will recreate a full semantic equivalent of this test-suite for manual linkage.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-1-of-1">Milestone 1 of 1<a href="#milestone-1-of-1" class="hash-link" aria-label="Direct link to Milestone 1 of 1" title="Direct link to Milestone 1 of 1">‚Äã</a></h3>
<ul>
<li><strong>Estimated duration</strong>: 1 month</li>
<li><strong>FTE</strong>:  1.25</li>
<li><strong>Costs</strong>: 10,000 USD</li>
</ul>
<table><thead><tr><th>Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td>0a.</td><td>License</td><td>MIT.</td></tr><tr><td>0b.</td><td>Documentation</td><td>We will provide informative documentation on our research process and findings. This will be in a dedicated GitHub repository. Will also include 0c-0d deliverables and research artifacts.</td></tr><tr><td>0c.</td><td>Reproducibility</td><td>We will provide step-by-step guides for the grants team to know what we have done. Includes rust code of the functionality that has been researched and resulting byte code. We will provide .rs files for the fungible conformance tests.</td></tr><tr><td>0d.</td><td>Final Research Article</td><td>We will publish a detailed research article to the Github repository and our website that explains our research findings and results. This includes the reproducibility guide of the 0c deliverable, notably WASM binary compilation artifacts.  <em>Textual</em> description of <code>fungible</code> traits specification along with discovered assumptions regarding execution environment, required for its implementation. All public functions, involved in implementation of traits Inspect, Unbalanced, UnbalancedHold, Mutate, InspectHold, MutateHold, UnbalancedHold, InspectFreeze, MutateFreeze and Balanced. This article will include a cleaned up and annotated WASM module of <code>pallet_balances</code>. Includes Rust code that is distilled and ready to reason about. Ordinary unit tests to confirm its faithfulness to the original in a classical sense.  This prepares <code>pallet_balances</code> for future reasoning.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="future-plans">Future Plans<a href="#future-plans" class="hash-link" aria-label="Direct link to Future Plans" title="Direct link to Future Plans">‚Äã</a></h2>
<p>Please include here</p>
<ul>
<li>How you intend to use, enhance, and promote your project in the short term</li>
</ul>
<p>We will continue to share our progress and interesting discoveries during the research.</p>
<ul>
<li>How do you intend to finance the project&#x27;s long-term maintenance and development?</li>
</ul>
<p>We anticipate that this research will pave the way for further exploration into implementing a theorem catalog and fully applying our verification methodology to Polkadot, thereby enabling a clear path to implementation verification.</p>
<ul>
<li>If we would sign the grant, what would you envision to be the next step(s) after its completion? Would you continue to work on this, and if yes, in what capacity?</li>
</ul>
<p>After the completion of this grant, we would use the bytecode from the research artifacts of <code>pallet_balances</code> for further reasoning. This enables us to formalize and define formal properties for this substrate.</p>
<p>The next step would be to ensure the soundness of the properties.</p>
<p>Here is a detailed description of how we envision the future research steps:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="research-findings-and-next-steps">Research findings and next steps.<a href="#research-findings-and-next-steps" class="hash-link" aria-label="Direct link to Research findings and next steps." title="Direct link to Research findings and next steps.">‚Äã</a></h3>
<p>Our general plan for the complete research consists of three major phases:</p>
<ol>
<li><strong>Land clearing</strong>. Our in-development methodology for program verification relies on reasoning about already compiled WASM modules, so we can not treat them as black-box objects that just need to work somehow. It is important to isolate meaningful code, that specification should be covering, from the surrounding elements of infrastructure, that may slip into compiled modules due to the uncontrollable complexities of build process. To be properly specified, <code>pallet_balances</code> must be first stripped of everything not directly related to its core functionality. If there are any algorithm subtasks, currently delegated to external frameworks, they must be either re-implemented inline, or comprehensively annotated to become explicit suppositions of future spec. Basically, <code>pallet_balances</code> should start looking like it was hand-written with a systematically minimalist approach.</li>
<li><strong>Specification design</strong>. Using our in-development language Inference, we write formal specification of traits implemented in subject module, with regard to suppositions, discovered in the previous step. By nature of our tool-chain, this formal specification itself targets a variety of WASM for compilation, though the resulting module is not executable due to its reliance on the controllable non-determinism to express para-virtual branching.</li>
<li><strong>Formal verification</strong>. We link together WASM modules of the covered pallet and its formal specification in our in-development Coq-based reasoning environment. Such linking produces Coq theories, that can be roughly summarized as &quot;If non-deterministic execution was possible, this code would terminate successfully&quot;. Proving resulting theories by logical means essentially implies, that subject module adheres to the specification in all cases.
This particular grant application covers only the first point of this plan (Land Clearing), but we are looking forward to continuing our work on the next steps, depending on eligibility of results and your concernment.</li>
</ol>
<p>As for capacity, for any future grants we hope to increase the existing team capacity. Such an increase would be from FTE of 1.25 to 2. The increase of capacity opens up the opportunity to involve more individuals into the research project. The scale of the team depends on the grant size of course.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="additional-information-heavy_plus_sign">Additional Information <!-- -->‚ûï<a href="#additional-information-heavy_plus_sign" class="hash-link" aria-label="Direct link to additional-information-heavy_plus_sign" title="Direct link to additional-information-heavy_plus_sign">‚Äã</a></h2>
<p><strong>How did you hear about the Grants Program?</strong></p>
<p>Personal recommendations by @bhargavbh &amp; @takahser</p>
<ul>
<li>Previous grants you may have applied for.</li>
</ul>
<p>We have not applied for any other Polkadot/Kusama grants.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/w3f/Grants-Program/edit/master/applications/Preparing Polkadot pallet_balances for Formal Verification.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#project-overview-page_facing_up" class="table-of-contents__link toc-highlight">Project Overview üìÑ</a><ul><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#project-details" class="table-of-contents__link toc-highlight">Project Details</a></li><li><a href="#ecosystem-fit" class="table-of-contents__link toc-highlight">Ecosystem Fit</a></li></ul></li><li><a href="#team-busts_in_silhouette" class="table-of-contents__link toc-highlight">Team üë•</a><ul><li><a href="#team-members" class="table-of-contents__link toc-highlight">Team members</a></li><li><a href="#contact" class="table-of-contents__link toc-highlight">Contact</a></li><li><a href="#legal-structure" class="table-of-contents__link toc-highlight">Legal Structure</a></li><li><a href="#teams-experience" class="table-of-contents__link toc-highlight">Team&#39;s experience</a></li><li><a href="#team-code-repos" class="table-of-contents__link toc-highlight">Team Code Repos</a></li><li><a href="#team-linkedin-profiles-if-available" class="table-of-contents__link toc-highlight">Team LinkedIn Profiles (if available)</a></li><li><a href="#google-scholar-profiles-or-other-research-indexer-profile-ex-researchgate" class="table-of-contents__link toc-highlight">Google Scholar Profiles (Or other research indexer profile, ex. Researchgate)</a></li></ul></li><li><a href="#development-status-open_book" class="table-of-contents__link toc-highlight">Development Status üìñ</a></li><li><a href="#development-roadmap-nut_and_bolt" class="table-of-contents__link toc-highlight">Development Roadmap üî©</a><ul><li><a href="#overview-1" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#specific-deliverables" class="table-of-contents__link toc-highlight">Specific Deliverables</a></li><li><a href="#milestone-1-of-1" class="table-of-contents__link toc-highlight">Milestone 1 of 1</a></li></ul></li><li><a href="#future-plans" class="table-of-contents__link toc-highlight">Future Plans</a><ul><li><a href="#research-findings-and-next-steps" class="table-of-contents__link toc-highlight">Research findings and next steps.</a></li></ul></li><li><a href="#additional-information-heavy_plus_sign" class="table-of-contents__link toc-highlight">Additional Information ‚ûï</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More Info</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/w3f/Grants-Program" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://web3.foundation/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Support Docs/privacy_policy">Privacy Policy</a></li><li class="footer__item"><a href="https://web3.foundation/legal-disclosures/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Legal Disclosures</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Connect</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/Web3foundation" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://matrix.to/#/!XpynPDLusWUWfDpaqr:matrix.org?via=web3.foundation&amp;via=matrix.org&amp;via=matrix.parity.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Grants Community Matrix Channel<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">¬© 2025 Web3 Foundation</div></div></div></footer></div>
</body>
</html>