<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-applications/CoinFabrik_On_Ink_Integration_Tests_3" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">CoinFabrik On Ink Integration Tests 3 | Web3 Foundation Grants</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://grants.web3.foundation/applications/CoinFabrik_On_Ink_Integration_Tests_3"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="CoinFabrik On Ink Integration Tests 3 | Web3 Foundation Grants"><meta data-rh="true" name="description" content="- Team Name: CoinFabrik (Nektra S.A)"><meta data-rh="true" property="og:description" content="- Team Name: CoinFabrik (Nektra S.A)"><link data-rh="true" rel="icon" href="/img/favicon-32x32.png"><link data-rh="true" rel="canonical" href="https://grants.web3.foundation/applications/CoinFabrik_On_Ink_Integration_Tests_3"><link data-rh="true" rel="alternate" href="https://grants.web3.foundation/applications/CoinFabrik_On_Ink_Integration_Tests_3" hreflang="en"><link data-rh="true" rel="alternate" href="https://grants.web3.foundation/applications/CoinFabrik_On_Ink_Integration_Tests_3" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://9VKKGZO0U1-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Web3 Foundation Grants" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.f3a7e75f.css">
<script src="/assets/js/runtime~main.20482666.js" defer="defer"></script>
<script src="/assets/js/main.f737dd4d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" style="background-color:#000;color:#ffffff" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><a target="_blank" rel="noopener noreferrer" href="https://medium.com/web3foundation/web3-foundation-ecodev-wave-26-7f145c39c2ef">Our blog post on Ecosystem Development Wave 26 is now online!</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/w3f_logo.svg" alt="W3F Grants Program" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/w3f_logo.svg" alt="W3F Grants Program" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Grants Program</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/introduction">Docs</a><a class="navbar__item navbar__link" href="/applications">List of Grants</a><a class="navbar__item navbar__link" href="/docs/faq">FAQ</a><a class="navbar__item navbar__link" href="/docs/Process/how-to-apply">Apply</a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>CoinFabrik On Ink Integration Tests 3</h1></header>
<ul>
<li><strong>Team Name:</strong> CoinFabrik (Nektra S.A)</li>
<li><strong>Payment Address:</strong> 0xf488039EDe6B38D7689fDCC6A9FC2dd0EF39D54e (USDC)</li>
<li><strong><a href="https://github.com/w3f/Grants-Program/tree/master#level_slider-levels" target="_blank" rel="noopener noreferrer">Level</a>:</strong> 2</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="project-overview-page_facing_up">Project Overview <!-- -->ðŸ“„<a href="#project-overview-page_facing_up" class="hash-link" aria-label="Direct link to project-overview-page_facing_up" title="Direct link to project-overview-page_facing_up">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">â€‹</a></h3>
<p>We have discovered that integration tests for ink! contracts lack some of the functionalities, or present implementation differences, when compared to E2E testing.</p>
<p>Integration tests run significantly faster than E2E (end-to-end) tests. If a full range of functionalities were provided, it could reduce testing and QA times.</p>
<p>Our intention is to <code>flatten the anvil</code> of ink! integration testing. With a properly flattened anvil, quality tools can be built.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="project-details">Project Details<a href="#project-details" class="hash-link" aria-label="Direct link to Project Details" title="Direct link to Project Details">â€‹</a></h3>
<p>We have conducted a comprehensive analysis to identify any missing functionalities in integration tests and implementation differences with E2E tests, and to propose and develop new testing features based on our findings. This analysis was carried as part of two previous grants (<a href="https://github.com/w3f/Grant-Milestone-Delivery/pull/998" target="_blank" rel="noopener noreferrer">link1</a>, <a href="https://github.com/w3f/Grant-Milestone-Delivery/pull/1043" target="_blank" rel="noopener noreferrer">link2</a>). As part of the latter grant, we have developed and resolved the issues with some of the functions with implementation differences or missing implementations: <code>default_accounts()</code>, <code>set_contract_storage()</code> and <code>instantiate_contract()</code>.</p>
<p>With this new grant, our objective is to implement our findings. Specifically, we aim to address functions in integration testing that have missing implementations or show differences when compared to e2e tests. We will add our contributions into the <a href="https://github.com/paritytech/ink" target="_blank" rel="noopener noreferrer">ink! project repository</a> following existing <a href="https://github.com/paritytech/ink/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer">contribution guidelines</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ecosystem-fit">Ecosystem Fit<a href="#ecosystem-fit" class="hash-link" aria-label="Direct link to Ecosystem Fit" title="Direct link to Ecosystem Fit">â€‹</a></h3>
<p>Having a comprehensive set of functionalities available for integration tests would bring numerous benefits to the entire community, including improved reliability, code quality and maturity, and faster feedback loops.</p>
<p>Integration tests are useful during their development and they are quicker than E2E tests. We learned this while working on fuzzing detection techniques during the <a href="https://github.com/CoinFabrik/web3-grant" target="_blank" rel="noopener noreferrer">Proof of Concept of Scout</a>, which we performed in collaboration with <a href="https://lafhis.dc.uba.ar/home" target="_blank" rel="noopener noreferrer">researchers from the University of Buenos Aires</a>. We believe that having a complete set of functionalities for integration tests would be useful for other teams working in the development of ink! smart contracts.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="team-busts_in_silhouette">Team <!-- -->ðŸ‘¥<a href="#team-busts_in_silhouette" class="hash-link" aria-label="Direct link to team-busts_in_silhouette" title="Direct link to team-busts_in_silhouette">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-members">Team members<a href="#team-members" class="hash-link" aria-label="Direct link to Team members" title="Direct link to Team members">â€‹</a></h3>
<ul>
<li>Ariel Wassbein, Head of Research.</li>
<li>Valeria Caracciolo, Business Development.</li>
<li>CoinFabrik&#x27;s development and QA teams.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="contact">Contact<a href="#contact" class="hash-link" aria-label="Direct link to Contact" title="Direct link to Contact">â€‹</a></h3>
<ul>
<li><strong>Contact Name:</strong> Valeria Caracciolo</li>
<li><strong>Contact Email:</strong> <a href="mailto:valeria.caracciolo@coinfabrik.com" target="_blank" rel="noopener noreferrer">valeria.caracciolo@coinfabrik.com</a></li>
<li><strong>Website:</strong> <a href="https://www.coinfabrik.com/" target="_blank" rel="noopener noreferrer">https://www.coinfabrik.com/</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="legal-structure">Legal Structure<a href="#legal-structure" class="hash-link" aria-label="Direct link to Legal Structure" title="Direct link to Legal Structure">â€‹</a></h3>
<ul>
<li><strong>Registered Address:</strong> Dr. Emilio Ravignani 2394, C1425 CABA, Argentina</li>
<li><strong>Registered Legal Entity:</strong> Nektra S.A</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="teams-experience">Team&#x27;s experience<a href="#teams-experience" class="hash-link" aria-label="Direct link to Team&#x27;s experience" title="Direct link to Team&#x27;s experience">â€‹</a></h3>
<p>We are a research and development company specialized in Web3, with a strong background in cybersecurity. Founded in 2014, we have worked on over 200 blockchain-related projects, EVM based and also for Solana, Algorand, and Polkadot. Beyond development, we offer security audits through a dedicated in-house team of senior cybersecurity professionals, currently working on code in Substrate, Solidity, Clarity, Rust, and TEAL.</p>
<p>Our team has an academic background in computer science and mathematics, with work experience focused on cybersecurity and software development, including academic publications, patents turned into products, and conference presentations. Furthermore, we have an ongoing collaboration on knowledge transfer and open-source projects with the University of Buenos Aires.</p>
<p>As well, CoinFabrik has been providing Quality Assurance as a service to development teams, accumulating valuable expertise in the field for a considerable period of time. Our clients highly appreciate this service, and as a result, we are eager to expand our capabilities to the ink! ecosystem.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-code-repos">Team Code Repos<a href="#team-code-repos" class="hash-link" aria-label="Direct link to Team Code Repos" title="Direct link to Team Code Repos">â€‹</a></h3>
<ul>
<li><a href="https://github.com/CoinFabrik" target="_blank" rel="noopener noreferrer">https://github.com/CoinFabrik</a></li>
<li><a href="https://github.com/CoinFabrik/on-ink_implementations" target="_blank" rel="noopener noreferrer">https://github.com/CoinFabrik/on-ink_implementations</a></li>
<li><a href="https://github.com/CoinFabrik/on-ink-integration-tests" target="_blank" rel="noopener noreferrer">https://github.com/CoinFabrik/on-ink-integration-tests</a></li>
<li><a href="https://github.com/CoinFabrik/scout" target="_blank" rel="noopener noreferrer">https://github.com/CoinFabrik/scout</a></li>
<li><a href="https://github.com/CoinFabrik/web3-grant" target="_blank" rel="noopener noreferrer">https://github.com/CoinFabrik/web3-grant</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-linkedin-profiles-if-available">Team LinkedIn Profiles (if available)<a href="#team-linkedin-profiles-if-available" class="hash-link" aria-label="Direct link to Team LinkedIn Profiles (if available)" title="Direct link to Team LinkedIn Profiles (if available)">â€‹</a></h3>
<ul>
<li><a href="https://www.linkedin.com/in/arielwaissbein/" target="_blank" rel="noopener noreferrer">https://www.linkedin.com/in/arielwaissbein/</a></li>
<li><a href="https://www.linkedin.com/in/valeriacaracciolo/" target="_blank" rel="noopener noreferrer">https://www.linkedin.com/in/valeriacaracciolo/</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="development-status-open_book">Development Status <!-- -->ðŸ“–<a href="#development-status-open_book" class="hash-link" aria-label="Direct link to development-status-open_book" title="Direct link to development-status-open_book">â€‹</a></h2>
<p>We have identified and analyzed 24 functions exposed for their usage in integration and E2E tests in the file <a href="https://github.com/paritytech/ink/blob/master/crates/ink/src/env_access.rs" target="_blank" rel="noopener noreferrer">env_access.rs</a> of the ink! repository.  We documented these functions and provided test cases comparing their behaviour in integration and end-to-end tests. This analysis can be found in our <a href="https://github.com/CoinFabrik/on-ink-integration-tests" target="_blank" rel="noopener noreferrer">analysis repository</a>.</p>
<p>Of these 24 functions, 4 functions showed behaviour differences when comparing their implementations for integration and e2e tests, 9 showed missing implementations for integration tests and the remaining 11 functions showed a consistent implementation across both environments.</p>
<p>In the table below, we provide the status of each function after the developments and analysis made in our previous milestones.</p>
<p><strong>Table 1: Status of functions exposed in integration and e2e testing environments.</strong></p>
<table><thead><tr><th>Issue Number</th><th>Function</th><th>Implemented Integration Tests</th><th>Implemented E2E Tests</th><th>Status</th></tr></thead><tbody><tr><td>1</td><td>default_accounts()</td><td>Yes</td><td>Yes</td><td>Implementation Difference Corrected. <a href="https://github.com/paritytech/ink/pull/1955" target="_blank" rel="noopener noreferrer">Pull request performed</a>.</td></tr><tr><td>2</td><td>set_contract_storage()</td><td>Yes</td><td>Yes</td><td>Missing limitation on Integration Testing Implemented. <a href="https://github.com/paritytech/ink/pull/1961" target="_blank" rel="noopener noreferrer">Pull request performed</a>.</td></tr><tr><td>3</td><td>invoke_contract_delegate()</td><td>No</td><td>Yes</td><td>Missing Function Implementation on Integration Testing.</td></tr><tr><td>4</td><td>invoke_contract()</td><td>No</td><td>Yes</td><td>Missing Function Implementation on Integration Testing</td></tr><tr><td>5</td><td>gas_left()</td><td>No</td><td>Yes</td><td>Missing Function Implementation on Integration Testing. Unfeasible Implementation.</td></tr><tr><td>6</td><td>set_code_hash()</td><td>No</td><td>Yes</td><td>Missing Function Implementation on Integration Testing.</td></tr><tr><td>7</td><td>instantiate_contract()</td><td>No. <a href="https://github.com/paritytech/ink/pull/1963" target="_blank" rel="noopener noreferrer">Pull request performed</a>.</td><td>Yes</td><td>Missing Function Implementation on Integration Testing Performed. <a href="https://github.com/paritytech/ink/pull/1963" target="_blank" rel="noopener noreferrer">Pull request performed</a>.</td></tr><tr><td>8</td><td>caller_is_origin()</td><td>No</td><td>Yes</td><td>Missing Function Implementation on Integration Testing.</td></tr><tr><td>9</td><td>code_hash()</td><td>No</td><td>Yes</td><td>Missing Function Implementation on Integration Testing.</td></tr><tr><td>10</td><td>own_code_hash()</td><td>No</td><td>Yes</td><td>Missing Function Implementation on Integration Testing.</td></tr><tr><td>11</td><td>call_runtime()</td><td>No</td><td>Yes</td><td>Missing Function Implementation on Integration Testing. Unfeasible Implementation.</td></tr><tr><td>12</td><td>caller()</td><td>Yes</td><td>Yes</td><td>Ok. No difference observed in testing.</td></tr><tr><td>13</td><td>transferred_value()</td><td>Yes</td><td>Yes</td><td>Ok. No difference observed in testing.</td></tr><tr><td>14</td><td>weight_to_fee()</td><td>Yes</td><td>Yes</td><td>Implementation Difference.</td></tr><tr><td>15</td><td>block_timestamp()</td><td>Yes</td><td>Yes</td><td>Ok. No difference observed in testing.</td></tr><tr><td>16</td><td>account_id()</td><td>Yes</td><td>Yes</td><td>Ok. No difference observed in testing.</td></tr><tr><td>17</td><td>balance()</td><td>Yes</td><td>Yes</td><td>Implementation Difference.</td></tr><tr><td>18</td><td>block_number()</td><td>Yes</td><td>Yes</td><td>Ok. No difference observed in testing.</td></tr><tr><td>19</td><td>minimum_balance()</td><td>Yes</td><td>Yes</td><td>Ok. No difference observed in testing.</td></tr><tr><td>20</td><td>terminate_contract()</td><td>Yes</td><td>Yes</td><td>Ok. No difference observed in testing.</td></tr><tr><td>21</td><td>transfer()</td><td>Yes</td><td>Yes</td><td>Ok. No difference observed in testing.</td></tr><tr><td>22</td><td>hash_bytes()</td><td>Yes</td><td>Yes</td><td>Ok. No difference observed in testing.</td></tr><tr><td>23</td><td>hash_encoded()</td><td>Yes</td><td>Yes</td><td>Ok. No difference observed in testing.</td></tr><tr><td>24</td><td>ecdsa_recover()</td><td>Yes</td><td>Yes</td><td>Ok. No difference observed in testing.</td></tr></tbody></table>
<p>In this milestone, we will develop the remaining functions that either lack implementations in integration tests or exhibit differences in implementation when compared to E2E tests. However, we will make exceptions for <code>gas_left()</code> and <code>call_runtime()</code>, as our analysis has deemed implementing these functions in integration tests unfeasible.</p>
<p><strong>Observations for function <code>weight_to_fee()</code>:</strong></p>
<p>For the function <code>weight_to_fee()</code>, we have observed in the <a href="https://github.com/CoinFabrik/on-ink-integration-tests/blob/milestone-on-ink-integration-tests-2/assets/On-Ink-Integration-Tests-2-Milestone-Report.pdf" target="_blank" rel="noopener noreferrer">milestone report of our previous grant delivery</a> and in the provided <a href="https://github.com/CoinFabrik/on-ink-integration-tests/tree/main/test-cases/weight-to-fee" target="_blank" rel="noopener noreferrer">test case</a> that the value obtained in e2e tests is fixed at 0 and cannot be modified. This incorrect behaviour of <code>weight_to_fee()</code> in E2E tests is also observed in paritytech/substrate-contracts-node.</p>
<p>We have reviewed the function <code>weight_to_fee()</code> and found that it has multiple implementations. This complexity makes it challenging to identify which implementation is responsible for the E2E tests, especially given that the large size of the runtime significantly slows down debugging.</p>
<p>To address this issue, we will submit an initial report to the ink! development team in the first week of this milestone and collaborate to devise an implementation plan. If we deem a resolution feasible, we will include it as part of this milestone.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="development-roadmap-nut_and_bolt">Development Roadmap <!-- -->ðŸ”©<a href="#development-roadmap-nut_and_bolt" class="hash-link" aria-label="Direct link to development-roadmap-nut_and_bolt" title="Direct link to development-roadmap-nut_and_bolt">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview-1">Overview<a href="#overview-1" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">â€‹</a></h3>
<ul>
<li><strong>Total Estimated Duration:</strong> 4 weeks</li>
<li><strong>Full-Time Equivalent (FTE):</strong>  4 FTE (0.50 Project Manager, 0.50 Tech Lead, 1 Full time Sr Rust Developer, 1 Full Time SemiSr Rust Developer, 1 Full Time QA Specialist)</li>
<li><strong>Total Costs:</strong>  30,000 USD</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-1-execution">Milestone 1: Execution<a href="#milestone-1-execution" class="hash-link" aria-label="Direct link to Milestone 1: Execution" title="Direct link to Milestone 1: Execution">â€‹</a></h3>
<ul>
<li><strong>Estimated duration:</strong> 4 weeks</li>
<li><strong>FTE:</strong> 4</li>
<li><strong>Costs:</strong> 30,000 USD</li>
</ul>
<table><thead><tr><th>Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td>0a.</td><td>License</td><td>MIT</td></tr><tr><td>0b.</td><td>Documentation</td><td>We will write a comprehensive report that compares the functionalities of integration tests and E2E (End-to-End) tests. This report will focus on the the functions to be implemented in this milestone, corresponding to issues <code>3-invoke_contract_delegate()</code>, <code>4-invoke_contract()</code>, <code>6-set_code_hash()</code>, <code>8-caller_is_origin()</code>,  <code>9-code_hash()</code>, <code>10-own_code_hash()</code>, and <code>17-balance()</code>.<br><br>In the first week of this milestone, we will contact the ink! development team to provide an initial report on <code>14-weight_to_fee()</code>, documenting our efforts to identify the source of its implementation issues and seeking collaboration to assess the feasibility of resolving them. We will document any progress and implementations related to <code>14-weight_to_fee()</code> in our final milestone report.<br><br>We will document any additional work that was required in order to ensure consistency between integration and e2e tests.<br><br>If applicable, we will suggest additional tests outside of the scope of this milestone. Particularly, for functions declared outside of the <code>env_access.rs</code> file, but that could be related to integration or e2e testing.</td></tr><tr><td>0c.</td><td>Testing and Testing Guide</td><td>The newly developed functionalities will be documented and tested following existing <a href="https://github.com/paritytech/ink/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer">contribution guidelines</a>. A testing guide will be included.</td></tr><tr><td>0d.</td><td>Docker</td><td>Does not apply at this stage.</td></tr><tr><td>0e.</td><td>Article</td><td>We will publish an updated report summary in our blog at <a href="https://blog.coinfabrik.com/" target="_blank" rel="noopener noreferrer">https://blog.coinfabrik.com/</a>.</td></tr><tr><td><strong>1</strong></td><td>Development</td><td>We will implement the missing functionalities or resolve implementation differences for function issues <code>3-invoke_contract_delegate()</code>, <code>4-invoke_contract()</code>, <code>6-set_code_hash()</code>, <code>8-caller_is_origin()</code>,  <code>9-code_hash()</code>, <code>10-own_code_hash()</code> and <code>17-balance()</code>.<br>We will also make the necessary changes to address the issues highlighted in our initial report on <code>14-weight_to_fee()</code>, provided that these changes are deemed feasible during our discussions with the ink! development team.<br><br>All these implementations or modifications will be pushed into the <a href="https://github.com/paritytech/ink" target="_blank" rel="noopener noreferrer">ink! project repository</a>  following existing <a href="https://github.com/paritytech/ink/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer">contribution guidelines</a>.<br><br>If applicable, we will develop additional tests or make ad hoc improvements to the ink codebase necessary for the completion of this milestone. Particularly for functions declared outside the <code>env_access.rs</code> file that might be related to integration or end-to-end testing.</td></tr><tr><td><strong>2</strong></td><td>Quality Assurance</td><td>We will adhere to existing <a href="https://github.com/paritytech/ink/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer">contribution guidelines</a> and add necessary tests to integrate the new implemented or corrected functions to the  <a href="https://github.com/paritytech/ink" target="_blank" rel="noopener noreferrer">ink! project repository</a>.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="future-plans">Future Plans<a href="#future-plans" class="hash-link" aria-label="Direct link to Future Plans" title="Direct link to Future Plans">â€‹</a></h2>
<p>Moving forward, we have two projects in mind:</p>
<ul>
<li>Research and develop an advanced testing automation solution for ink! smart contracts.</li>
<li>Improve our open source bug-detection tool <a href="https://coinfabrik.github.io/scout/" target="_blank" rel="noopener noreferrer">Scout</a>.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="referral-program-optional-moneybag">Referral Program (optional) <!-- -->ðŸ’°<a href="#referral-program-optional-moneybag" class="hash-link" aria-label="Direct link to referral-program-optional-moneybag" title="Direct link to referral-program-optional-moneybag">â€‹</a></h2>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="additional-information-heavy_plus_sign">Additional Information <!-- -->âž•<a href="#additional-information-heavy_plus_sign" class="hash-link" aria-label="Direct link to additional-information-heavy_plus_sign" title="Direct link to additional-information-heavy_plus_sign">â€‹</a></h2>
<p><strong>How did you hear about the Grants Program?</strong> Richard Casey from Parity brought this program to our attention, and we have already successfully delivered two applications as a result.</p>
<p>During our inquiries for this application, we briefly consulted Sam Ruberti from the ink! Team and David Hawig from the Web3 Foundation. Their encouragement motivated us to proceed with this presentation.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/w3f/Grants-Program/edit/master/applications/CoinFabrik_On_Ink_Integration_Tests_3.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#project-overview-page_facing_up" class="table-of-contents__link toc-highlight">Project Overview ðŸ“„</a><ul><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#project-details" class="table-of-contents__link toc-highlight">Project Details</a></li><li><a href="#ecosystem-fit" class="table-of-contents__link toc-highlight">Ecosystem Fit</a></li></ul></li><li><a href="#team-busts_in_silhouette" class="table-of-contents__link toc-highlight">Team ðŸ‘¥</a><ul><li><a href="#team-members" class="table-of-contents__link toc-highlight">Team members</a></li><li><a href="#contact" class="table-of-contents__link toc-highlight">Contact</a></li><li><a href="#legal-structure" class="table-of-contents__link toc-highlight">Legal Structure</a></li><li><a href="#teams-experience" class="table-of-contents__link toc-highlight">Team&#39;s experience</a></li><li><a href="#team-code-repos" class="table-of-contents__link toc-highlight">Team Code Repos</a></li><li><a href="#team-linkedin-profiles-if-available" class="table-of-contents__link toc-highlight">Team LinkedIn Profiles (if available)</a></li></ul></li><li><a href="#development-status-open_book" class="table-of-contents__link toc-highlight">Development Status ðŸ“–</a></li><li><a href="#development-roadmap-nut_and_bolt" class="table-of-contents__link toc-highlight">Development Roadmap ðŸ”©</a><ul><li><a href="#overview-1" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#milestone-1-execution" class="table-of-contents__link toc-highlight">Milestone 1: Execution</a></li></ul></li><li><a href="#future-plans" class="table-of-contents__link toc-highlight">Future Plans</a></li><li><a href="#referral-program-optional-moneybag" class="table-of-contents__link toc-highlight">Referral Program (optional) ðŸ’°</a></li><li><a href="#additional-information-heavy_plus_sign" class="table-of-contents__link toc-highlight">Additional Information âž•</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More Info</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/w3f/Grants-Program" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://web3.foundation/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Support Docs/privacy_policy">Privacy Policy</a></li><li class="footer__item"><a href="https://web3.foundation/legal-disclosures/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Legal Disclosures</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Connect</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/Web3foundation" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://matrix.to/#/!XpynPDLusWUWfDpaqr:matrix.org?via=web3.foundation&amp;via=matrix.org&amp;via=matrix.parity.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Grants Community Matrix Channel<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Â© 2025 Web3 Foundation</div></div></div></footer></div>
</body>
</html>