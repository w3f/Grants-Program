<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-applications/centrifuge-gsrpc-v2">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Centrifuge Go-Substrate-RPC Client V2 | Web3 Foundation Grants</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://w3f.github.io/Grants-Program/applications/centrifuge-gsrpc-v2"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Centrifuge Go-Substrate-RPC Client V2 | Web3 Foundation Grants"><meta data-rh="true" name="description" content="- Team Name: k/factory (former Centrifuge Development Team)"><meta data-rh="true" property="og:description" content="- Team Name: k/factory (former Centrifuge Development Team)"><link data-rh="true" rel="icon" href="/Grants-Program/img/Web3Foundation.png"><link data-rh="true" rel="canonical" href="https://w3f.github.io/Grants-Program/applications/centrifuge-gsrpc-v2"><link data-rh="true" rel="alternate" href="https://w3f.github.io/Grants-Program/applications/centrifuge-gsrpc-v2" hreflang="en"><link data-rh="true" rel="alternate" href="https://w3f.github.io/Grants-Program/applications/centrifuge-gsrpc-v2" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://9VKKGZO0U1-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Web3 Foundation Grants" href="/Grants-Program/opensearch.xml"><link rel="stylesheet" href="/Grants-Program/assets/css/styles.d8e07fe7.css">
<link rel="preload" href="/Grants-Program/assets/js/runtime~main.1555cc09.js" as="script">
<link rel="preload" href="/Grants-Program/assets/js/main.4ee8f2ce.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#000;color:#ffffff" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">Check out <a target="_blank" rel="noopener noreferrer" href="https://web3.bamboohr.com/jobs/">our current job openings</a>!</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Grants-Program/"><div class="navbar__logo"><img src="/Grants-Program/img/Web3Foundation.png" alt="W3F Grants Program" class="themedImage_ToTc themedImage--light_HNdA"><img src="/Grants-Program/img/Web3Foundation.png" alt="W3F Grants Program" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">W3F Grants Program</b></a><a class="navbar__item navbar__link" href="/Grants-Program/introduction">Introduction</a><a class="navbar__item navbar__link" href="/Grants-Program/applications">List of Grants</a><a class="navbar__item navbar__link" href="/Grants-Program/faq">FAQ</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/Grants-Program/Process/how-to-apply">Apply</a><a class="navbar__item navbar__link" href="/Grants-Program/contribute">Contribute</a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Centrifuge Go-Substrate-RPC Client V2</h1><ul><li><strong>Team Name:</strong> k/factory (former Centrifuge Development Team)</li><li><strong>Payment Address:</strong> Ethereum(USDC) - 0x2B8A956BF807E22d858dc9AD2eFc30cccc3Ea676</li><li><strong>Level:</strong> üêì 3</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="project-overview-">Project Overview üìÑ<a href="#project-overview-" class="hash-link" aria-label="Direct link to Project Overview üìÑ" title="Direct link to Project Overview üìÑ">‚Äã</a></h2><p>This is a follow-up grant to keep building on top of this Go Client implementation. In the past we had two grants.</p><p>The original grant through w3f:</p><ul><li><a href="https://github.com/w3f/General-Grants-Program/pull/150" target="_blank" rel="noopener noreferrer">https://github.com/w3f/General-Grants-Program/pull/150</a></li><li><a href="https://github.com/w3f/Grants-Program/blob/master/docs/accepted_grant_applications.md#%EF%B8%8F-wave-3---third-quarter-2019" target="_blank" rel="noopener noreferrer">https://github.com/w3f/Grants-Program/blob/master/docs/accepted_grant_applications.md#%EF%B8%8F-wave-3---third-quarter-2019</a></li></ul><p>And a maintenance Grant through Polkadot Treasury:</p><ul><li><a href="https://polkadot.polkassembly.io/post/39" target="_blank" rel="noopener noreferrer">https://polkadot.polkassembly.io/post/39</a></li><li><a href="https://polkadot.polkassembly.io/motion/12" target="_blank" rel="noopener noreferrer">https://polkadot.polkassembly.io/motion/12</a> (Executed)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">‚Äã</a></h3><p>Initially Go-Substrate-RPC (GSRPC for short) was designed under the premise of being a low-level, static and strongly typed library, where all the type resolution happen at compilation time.</p><p>This approach allowed almost full flexibility to developers to build their own types and events depending on the target chain/s they were connecting to.</p><p>On the other hand, since the types are statically defined, this didn‚Äôt leave room to, gracefully, deal with parsing errors when a type (defined on the chain runtime) is not defined in the GSRPC client.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="project-details">Project Details<a href="#project-details" class="hash-link" aria-label="Direct link to Project Details" title="Direct link to Project Details">‚Äã</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-problem">The problem<a href="#the-problem" class="hash-link" aria-label="Direct link to The problem" title="Direct link to The problem">‚Äã</a></h4><p>For a hypothetical <em>RuntimeA</em>, give <code>TypeA</code>:</p><div class="language-go= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go= codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">type TypeA struct {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    AttrA String</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    AttrB int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>and <code>EventA</code>, that uses <code>TypeA</code>:</p><div class="language-go= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go= codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">type EventA struct {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Data TypeA</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <em>GSRPC</em> instance should define <code>TypeA</code> to be able to decode <code>EventA</code>. If the client is defined as such, then there will be no problem parsing it.</p><p>Now lets presume that a RuntimeUpgrade is executed and now the target chain is at version B -&gt; <code>RuntimeB</code>. In this runtime ugprade attribute <code>AttrB</code> of struct <code>TypeA</code> has changed to <code>String</code>:</p><div class="language-go= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go= codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">type TypeA struct {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    AttrA String</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    AttrB String</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then when the <em>GSRPC</em> client is trying to parse the event, it will fail while trying to decode the <em>scale</em> encoded value into the <code>EventA</code> struct since the type that is expecting for <code>AttrB</code> is an <code>int</code> but a <code>string</code> has been provided.</p><p>This issue gets more critical when we are talking about processes, like bridges, that need to successfully parse every event in a block looking for a relevant event to their business logic.
If due to the above reason, an event can&#x27;t be parsed then the bridge relayer cannot ensure that a relevant event was or wasn&#x27;t in that block.
Therefore the only options are to skip that block (hoping that there was no relevant event within) or wait until the client is updated to continue parsing blocks, which disrupts the bridge operations.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="solution">Solution<a href="#solution" class="hash-link" aria-label="Direct link to Solution" title="Direct link to Solution">‚Äã</a></h4><p>With the inclusion of Substrate Metadata 14, we now have a definition of all the types included in a specific runtime.</p><p>This means that at bootstrap time (and upon other certain situations) <em>GSRPC</em> can build a registry of types based on the data provided by the target chain metadata.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="load-types-into-registry-from-metadata">Load types into registry from Metadata<a href="#load-types-into-registry-from-metadata" class="hash-link" aria-label="Direct link to Load types into registry from Metadata" title="Direct link to Load types into registry from Metadata">‚Äã</a></h5><h6 class="anchor anchorWithStickyNavbar_LWe7" id="example-of-metadata-14-type-structure-for-a-balancestransfer-event">Example of Metadata 14 type structure for a <code>Balances.Transfer</code> Event<a href="#example-of-metadata-14-type-structure-for-a-balancestransfer-event" class="hash-link" aria-label="Direct link to example-of-metadata-14-type-structure-for-a-balancestransfer-event" title="Direct link to example-of-metadata-14-type-structure-for-a-balancestransfer-event">‚Äã</a></h6><p>Pallet Name and associated type variants index</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Pallets.5.Name = &quot;Balances&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Pallets.5.Events.Type.UCompact = 28 // Events list type index</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For event <code>Balances.Transfer</code> with index 2 in the variants list there are 3 fields, <code>from</code>, <code>to</code> &amp; <code>amount</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Lookup.Types.27.Variant.Variants.2.Name = &quot;Transfer&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Lookup.Types.27.Variant.Variants.2.Fields.0.Name = &quot;from&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Lookup.Types.27.Variant.Variants.2.Fields.0.TypeName = &quot;T::AccountId&quot; // Some types do not have an index reference</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Lookup.Types.27.Variant.Variants.2.Fields.1.Name = &quot;to&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Lookup.Types.27.Variant.Variants.2.Fields.1.TypeName = &quot;T::AccountId&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Lookup.Types.27.Variant.Variants.2.Fields.2.Name = &quot;amount&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Lookup.Types.27.Variant.Variants.2.Fields.2.TypeName = &quot;T::Balance&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Lookup.Types.27.Variant.Variants.2.Fields.2.Type.UCompact = 6</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>from</code> &amp; <code>to</code> have type <code>T::AccountId</code> which is a Runtime Primitive, and potentially can have different implementations depending on the runtime connected to. In most of the cases, it would be an <code>AccountId32</code>, but that can be changed.</p><p><code>amount</code> has a type reference to index <code>6</code> so we can navigate to that type:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Lookup.Types.6.Type.Def.Primitive = 7 (Si0TypeDefPrimitive)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And that tells us that is refering to Rust Primitive number 7, so according to the primitive list (found in polkadotjs/api) for type <code>Si0TypeDefPrimitive</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">0:  readonly isBool: boolean;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1:  readonly isChar: boolean;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2:  readonly isStr: boolean;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3:  readonly isU8: boolean;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4:  readonly isU16: boolean;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5:  readonly isU32: boolean;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6:  readonly isU64: boolean;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">7:  readonly isU128: boolean;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">8:  readonly isU256: boolean;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">9:  readonly isI8: boolean;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">10: readonly isI16: boolean;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">11: readonly isI32: boolean;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">12: readonly isI64: boolean;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">13: readonly isI128: boolean;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">14: readonly isI256: boolean;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The underlying type is <code>U128</code></p><p><em>Challenges to solve:</em></p><ul><li><strong>How to load Runtime Primitive types into the registry so looking up from <code>TypeName</code> results in the underlaying encodable/decodable type.</strong><ul><li>Maybe follow similar logic as default as: <a href="https://github.com/polkadot-js/api/blob/master/packages/types/src/interfaces/runtime/types.ts" target="_blank" rel="noopener noreferrer">https://github.com/polkadot-js/api/blob/master/packages/types/src/interfaces/runtime/types.ts</a></li></ul></li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="new-generic-type-registry-encoderdecoder">New generic type registry encoder/decoder<a href="#new-generic-type-registry-encoderdecoder" class="hash-link" aria-label="Direct link to New generic type registry encoder/decoder" title="Direct link to New generic type registry encoder/decoder">‚Äã</a></h5><p>The next step is to build a generic encoder/decoder that works for all discovered types based on underlaying primitive types.</p><p>In theory, once the types are loaded, and we built generic encoders for basic primitive types, we should be able to encode &amp; decode all types and events.</p><p><em>Challenges to solve:</em></p><ul><li><strong>Build generic encoder/decoder</strong> for any type loaded in the registry</li><li><strong>Support custom encoder/decoder</strong> for irregular struct serialization and deserialization</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="team-">Team üë•<a href="#team-" class="hash-link" aria-label="Direct link to Team üë•" title="Direct link to Team üë•">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-members">Team members<a href="#team-members" class="hash-link" aria-label="Direct link to Team members" title="Direct link to Team members">‚Äã</a></h3><ul><li><em>Team Lead &amp; Protocol Developer</em>: Miguel Hervas (mikiquantum)</li><li><em>Main Protocol Developer</em>: Cosmin Damian </li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="contact">Contact<a href="#contact" class="hash-link" aria-label="Direct link to Contact" title="Direct link to Contact">‚Äã</a></h3><ul><li><strong>Contact Name:</strong> Miguel Hervas </li><li><strong>Contact Email:</strong> <a href="mailto:miguel@k-f.co" target="_blank" rel="noopener noreferrer">miguel@k-f.co</a></li><li><strong>Website:</strong> <a href="https://k-f.co/" target="_blank" rel="noopener noreferrer">https://k-f.co/</a> (wip) (Protocol website: <a href="https://centrifuge.io/" target="_blank" rel="noopener noreferrer">https://centrifuge.io/</a>)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="legal-structure">Legal Structure<a href="#legal-structure" class="hash-link" aria-label="Direct link to Legal Structure" title="Direct link to Legal Structure">‚Äã</a></h3><ul><li><strong>Registered Address:</strong> k-f dev AG, Grafenauweg 8, 6300 ZUG SWITZERLAND</li><li><strong>Registered Legal Entity:</strong> k-f dev AG</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="teams-experience">Team&#x27;s experience<a href="#teams-experience" class="hash-link" aria-label="Direct link to Team&#x27;s experience" title="Direct link to Team&#x27;s experience">‚Äã</a></h3><p>The k/f team has built a decentralized platform for the financial supply chain (invoices, purchase orders, warehouse receipts) comprising of a P2P network and Ethereum smart contracts over the last 2 years.</p><p>The platform allows tokenization of any digital assets. A strong team in the DeFi movement, they are now building a Centrifuge-specific chain with Substrate, integrated their existing Go application with the Substrate chain.</p><p>The k/f team also developed the Go Substrate RPC client supported by a Web3 Foundation grant.</p><p>The k/f team also developed, alongside with ChainSafe, the ChainBridge supported by Web3 Foundation grant.</p><p>The k/f team has deep knowledge in distributed/decentralized applications, libp2p, Golang, Solidity and Ethereum overall, zkSNARKs, and tokenization of assets with NFTs and has been developing with Substrate since Summer 2019.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-code-repos">Team Code Repos<a href="#team-code-repos" class="hash-link" aria-label="Direct link to Team Code Repos" title="Direct link to Team Code Repos">‚Äã</a></h3><ul><li><a href="https://github.com/centrifuge/go-substrate-rpc-client" target="_blank" rel="noopener noreferrer">https://github.com/centrifuge/go-substrate-rpc-client</a></li><li><a href="https://github.com/centrifuge/centrifuge-chain" target="_blank" rel="noopener noreferrer">https://github.com/centrifuge/centrifuge-chain</a></li><li><a href="https://github.com/centrifuge/go-centrifuge" target="_blank" rel="noopener noreferrer">https://github.com/centrifuge/go-centrifuge</a></li><li><a href="https://github.com/centrifuge/fudge" target="_blank" rel="noopener noreferrer">https://github.com/centrifuge/fudge</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-linkedin-profiles-if-available">Team LinkedIn Profiles (if available)<a href="#team-linkedin-profiles-if-available" class="hash-link" aria-label="Direct link to Team LinkedIn Profiles (if available)" title="Direct link to Team LinkedIn Profiles (if available)">‚Äã</a></h3><ul><li><a href="https://www.linkedin.com/in/mhervas/" target="_blank" rel="noopener noreferrer">https://www.linkedin.com/in/mhervas/</a></li><li><a href="https://www.linkedin.com/in/cosmin-damian-a634b0166" target="_blank" rel="noopener noreferrer">https://www.linkedin.com/in/cosmin-damian-a634b0166</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="development-status-">Development Status üìñ<a href="#development-status-" class="hash-link" aria-label="Direct link to Development Status üìñ" title="Direct link to Development Status üìñ">‚Äã</a></h2><p>V1 version implemented at <a href="https://github.com/centrifuge/go-substrate-rpc-client" target="_blank" rel="noopener noreferrer">https://github.com/centrifuge/go-substrate-rpc-client</a></p><p>V2 will be implemented as part of this grant</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="development-roadmap-">Development Roadmap üî©<a href="#development-roadmap-" class="hash-link" aria-label="Direct link to Development Roadmap üî©" title="Direct link to Development Roadmap üî©">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-1---dynamic-type-loader-from-metadata">Milestone 1 - Dynamic Type Loader from metadata<a href="#milestone-1---dynamic-type-loader-from-metadata" class="hash-link" aria-label="Direct link to Milestone 1 - Dynamic Type Loader from metadata" title="Direct link to Milestone 1 - Dynamic Type Loader from metadata">‚Äã</a></h3><ul><li><strong>Estimated duration:</strong> 5 weeks (200 hours)</li><li><strong>FTE:</strong>  1</li><li><strong>Costs:</strong> 30,000 USD</li></ul><table><thead><tr><th align="right">Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td align="right"><strong>0a.</strong></td><td>License</td><td>Apache 2.0</td></tr><tr><td align="right"><strong>0b.</strong></td><td>Documentation</td><td>We will provide both <strong>inline documentation</strong> of the code and a basic <strong>tutorial</strong> on how to load any metadata into its own registry of chain types.</td></tr><tr><td align="right"><strong>0c.</strong></td><td>Testing and Testing Guide</td><td>Core functions will be fully covered by comprehensive unit tests to ensure functionality and robustness. In the guide, we will describe how to run these tests.</td></tr><tr><td align="right"><strong>0d.</strong></td><td>Docker</td><td>We will provide a Dockerfile(s) that can be used to test all the functionality delivered with this milestone.</td></tr><tr><td align="right"><strong>1.</strong></td><td>Metadata parsing logic into internal types</td><td>List of functions, types and structs to support parsing and internally representing any target chain Metadata</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-2---new-generic-type-registry-encoderdecoder">Milestone 2 - New generic type registry encoder/decoder<a href="#milestone-2---new-generic-type-registry-encoderdecoder" class="hash-link" aria-label="Direct link to Milestone 2 - New generic type registry encoder/decoder" title="Direct link to Milestone 2 - New generic type registry encoder/decoder">‚Äã</a></h3><ul><li><strong>Estimated duration:</strong> 4 weeks (160 hours)</li><li><strong>FTE:</strong>  1</li><li><strong>Costs:</strong> 24,000 USD</li></ul><table><thead><tr><th align="right">Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td align="right"><strong>0a.</strong></td><td>License</td><td>Apache 2.0</td></tr><tr><td align="right"><strong>0b.</strong></td><td>Documentation</td><td>We will provide both <strong>inline documentation</strong> of the code and a basic <strong>tutorial</strong> on how to parse any substrate event and type using the new version of the library.</td></tr><tr><td align="right"><strong>0c.</strong></td><td>Testing and Testing Guide</td><td>Core functions will be fully covered by comprehensive unit tests to ensure functionality and robustness. In the guide, we will describe how to run these tests.</td></tr><tr><td align="right"><strong>0d.</strong></td><td>Docker</td><td>We will provide a Dockerfile(s) that can be used to test all the functionality delivered with this milestone.</td></tr><tr><td align="right"><strong>1.</strong></td><td>In-Memory Registry</td><td>Target chain types are loaded and indexed properly</td></tr></tbody></table><p><strong>Further breakdown:</strong></p><ul><li>Use the registry for parsing simple and complex structs - 80h</li><li>Adapt current event &amp; storage processing to new model - 60h</li><li>Adapt current Types Test to decode events from the latest X blocks of popular chains - 20h</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="budget-summary">Budget Summary<a href="#budget-summary" class="hash-link" aria-label="Direct link to Budget Summary" title="Direct link to Budget Summary">‚Äã</a></h3><p>This table provides a cost breakdown based on the milestones and deliverables above.</p><table><thead><tr><th></th><th></th><th></th><th>Estimates</th></tr></thead><tbody><tr><td><strong>MS</strong></td><td><strong>Deliverable</strong></td><td><strong>Hours</strong></td><td><strong>Budget</strong></td></tr><tr><td>1</td><td>Dynamic Type Loader</td><td>200</td><td>$30,000</td></tr><tr><td></td><td><strong>Subtotal Milestone 1</strong></td><td><strong>200</strong></td><td><strong>$30,000</strong></td></tr><tr><td>2</td><td>Generic type registry Encoder/Decoder</td><td>160</td><td>$24,000</td></tr><tr><td></td><td><strong>Subtotal Milestone 2</strong></td><td><strong>160</strong></td><td><strong>$24,000</strong></td></tr><tr><td></td><td><strong>Totals</strong></td><td><strong>620</strong></td><td><strong>$54,000</strong></td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="future-plans">Future Plans<a href="#future-plans" class="hash-link" aria-label="Direct link to Future Plans" title="Direct link to Future Plans">‚Äã</a></h2><p>The Centrifuge Protocol is an active user of the GSRPC library and <strong>k/f</strong> is an active member maintaining it.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#project-overview-" class="table-of-contents__link toc-highlight">Project Overview üìÑ</a><ul><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#project-details" class="table-of-contents__link toc-highlight">Project Details</a></li></ul></li><li><a href="#team-" class="table-of-contents__link toc-highlight">Team üë•</a><ul><li><a href="#team-members" class="table-of-contents__link toc-highlight">Team members</a></li><li><a href="#contact" class="table-of-contents__link toc-highlight">Contact</a></li><li><a href="#legal-structure" class="table-of-contents__link toc-highlight">Legal Structure</a></li><li><a href="#teams-experience" class="table-of-contents__link toc-highlight">Team&#39;s experience</a></li><li><a href="#team-code-repos" class="table-of-contents__link toc-highlight">Team Code Repos</a></li><li><a href="#team-linkedin-profiles-if-available" class="table-of-contents__link toc-highlight">Team LinkedIn Profiles (if available)</a></li></ul></li><li><a href="#development-status-" class="table-of-contents__link toc-highlight">Development Status üìñ</a></li><li><a href="#development-roadmap-" class="table-of-contents__link toc-highlight">Development Roadmap üî©</a><ul><li><a href="#milestone-1---dynamic-type-loader-from-metadata" class="table-of-contents__link toc-highlight">Milestone 1 - Dynamic Type Loader from metadata</a></li><li><a href="#milestone-2---new-generic-type-registry-encoderdecoder" class="table-of-contents__link toc-highlight">Milestone 2 - New generic type registry encoder/decoder</a></li><li><a href="#budget-summary" class="table-of-contents__link toc-highlight">Budget Summary</a></li></ul></li><li><a href="#future-plans" class="table-of-contents__link toc-highlight">Future Plans</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More Info</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/w3f/Grants-Program" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://web3.foundation/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/Grants-Program/applications/Support Docs/privacy_policy">Privacy Policy</a></li></ul></div><div class="col footer__col"><div class="footer__title">Connect</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/Web3foundation" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://matrix.to/#/!XpynPDLusWUWfDpaqr:matrix.org?via=web3.foundation&amp;via=matrix.org&amp;via=matrix.parity.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Grants Community Matrix Channel<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">¬© 2023 Web3 Foundation</div></div></div></footer></div>
<script src="/Grants-Program/assets/js/runtime~main.1555cc09.js"></script>
<script src="/Grants-Program/assets/js/main.4ee8f2ce.js"></script>
</body>
</html>