# This is a basic workflow to help you get started with Actions

name: welcome

# Controls when the action will run. Triggers the workflow on push or pull request 
# events but only for the master branch
on:
  pull_request_target:
    types: [closed]

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  # This workflow contains a single job called "build"
  build:
    # The type of runner that the job will run on
    runs-on: ubuntu-latest

    # Steps represent a sequence of tasks that will be executed as part of the job
    steps:
      - name: Checkout
        if: github.event.pull_request.merged == true
        uses: actions/checkout@v1

      - name: Comment PR
        if: github.event.pull_request.merged == true
        uses: thollander/actions-comment-pull-request@master
        with:
          message: > 
            Congratulations and welcome to the Web3 Foundation's Grants Program! Please refer to our [Milestone Delivery repository](https://github.com/w3f/Grant-Milestone-Delivery/) 
            for instructions on how to submit milestones and invoices, our [FAQ doc](https://github.com/w3f/Grants-Program/blob/master/docs/faq.md) for frequently asked questions and 
            the [Help section of our README](https://github.com/w3f/Grants-Program/blob/master/README.md#bulb-help) for more ways to find answers to your questions. <br/><br/> 
            As part of the Grants Program, we want to help winning teams acknowledge their grants publicly. To that end, we have published 
            our announcement guidelines [here](https://github.com/w3f/Grants-Program/blob/master/docs/announcement-guidelines.md). Most importantly, please <b>don’t announce 
            the grant publicly before you've successfully submitted (meaning it's been submitted **and** approved) at least the first
            milestone of the project.</b> At that point, we will be happy to collaborate on an announcement about the work you’re doing. Please get in touch with us at grantspr@web3.foundation 
            in case you're interested (at least two weeks notice is preferred).
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
