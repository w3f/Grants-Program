"use strict";(self.webpackChunkgrants=self.webpackChunkgrants||[]).push([[7930],{5531:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>o,toc:()=>p});var n=a(87462),i=(a(67294),a(3905));a(16758);const r={},l="Yatima",o={unversionedId:"Applications/yatima",id:"Applications/yatima",title:"Yatima",description:"Team Name:* Yatima Inc.",source:"@site/docs/Applications/yatima.md",sourceDirName:"Applications",slug:"/Applications/yatima",permalink:"/Grants-Program/Applications/yatima",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"defaultSidebar",previous:{title:"xtokens - XCM Implementation for Fungible Assets",permalink:"/Grants-Program/Applications/xtokens"},next:{title:"Yiban Chen (General chain)",permalink:"/Grants-Program/Applications/yiban_chen1"}},s={},p=[{value:"Project Overview \ud83d\udcc4",id:"project-overview-",level:2},{value:"Overview",id:"overview",level:3},{value:"Project Details",id:"project-details",level:3},{value:"Deliverables",id:"deliverables",level:4},{value:"Ecosystem Fit",id:"ecosystem-fit",level:3},{value:"Team \ud83d\udc65",id:"team-",level:2},{value:"Team members",id:"team-members",level:3},{value:"Contact",id:"contact",level:3},{value:"Legal Structure",id:"legal-structure",level:3},{value:"Team&#39;s experience",id:"teams-experience",level:3},{value:"Team Code Repos",id:"team-code-repos",level:3},{value:"Team LinkedIn Profiles (if available)",id:"team-linkedin-profiles-if-available",level:3},{value:"Development Status \ud83d\udcd6",id:"development-status-",level:2},{value:"Yatima Rust implementation",id:"yatima-rust-implementation",level:3},{value:"Yatima Standard Library",id:"yatima-standard-library",level:3},{value:"Yatima Haskell prototype",id:"yatima-haskell-prototype",level:3},{value:"sp_ipld and sp_im",id:"sp_ipld-and-sp_im",level:3},{value:"Relevant Papers and prior art",id:"relevant-papers-and-prior-art",level:3},{value:"Development Roadmap \ud83d\udd29",id:"development-roadmap-",level:2},{value:"Overview",id:"overview-1",level:3},{value:"Milestone 1 - Implement sp_ipld: A Substrate Pallet compatible IPLD library",id:"milestone-1---implement-sp_ipld-a-substrate-pallet-compatible-ipld-library",level:3},{value:"Milestone 2 - Implement sp_im: A Substrate Pallet compatible immutable datastructures library",id:"milestone-2---implement-sp_im-a-substrate-pallet-compatible-immutable-datastructures-library",level:3},{value:"Milestone 3 - Implement sp_yatima: A Substrate Pallet Yatima module",id:"milestone-3---implement-sp_yatima-a-substrate-pallet-yatima-module",level:3},{value:"Future Plans",id:"future-plans",level:2},{value:"Additional Information \u2795",id:"additional-information-",level:2}],m={toc:p};function d(e){let{components:t,...a}=e;return(0,i.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"yatima"},"Yatima"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Team Name:")," ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/yatima-inc/yatima"},"Yatima Inc"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Payment Address:")," 3N2bLsFX6UtJ3MXdnVvm87dHaQTPutDiqA")),(0,i.kt)("h2",{id:"project-overview-"},"Project Overview \ud83d\udcc4"),(0,i.kt)("h3",{id:"overview"},"Overview"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Summary: A lambda-VM and programming language for Substrate chains, with\non-chain formal verification and IPFS package management.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Description: Yatima is a dependently typed functional programming language\nimplemented in Rust featuring substructural types, metaprogramming, and\ncontent addressing via IPFS.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Relevance to Substrate: The language core, including parsing, elaboration,\nserialization/deserialization, typechecking, evaluation, etc. can compile to\nSubstrate compatible WASM (",(0,i.kt)("inlineCode",{parentName:"p"},"no_std")," via Substrate's ",(0,i.kt)("a",{parentName:"p",href:"https://docs.rs/sp-std/3.0.0/sp_std/index.html"},(0,i.kt)("inlineCode",{parentName:"a"},"sp_std")," standard library"),"), and thus can be\nutilized within a Substrate Pallet.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Our interest: In order for decentralized technologies to gain widespread\nadoption, users have to trust that the infrastructure they are using is safe,\nand that they are not just replacing counterparty risk with technical risk. We\nbelieve that functional programming and formal proofs offer a possible path\ntowards increasing the safety and reliability of all software, not just in\nblockchain."))),(0,i.kt)("h3",{id:"project-details"},"Project Details"),(0,i.kt)("p",null,"Many blockchain projects are exploring strongly-typed functional programming as\na paradigm for writing smart contracts and DApps. Examples include ",(0,i.kt)("a",{parentName:"p",href:"https://developers.cardano.org/en/programming-languages/plutus/overview/"},"Cardano's\nPlutus"),", ",(0,i.kt)("a",{parentName:"p",href:"https://wiki.tezosagora.org/learn/smartcontracts/michelson"},"Tezos' Michelson"),", ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/kadena-io/pact"},"Kadena's Pact")," and ",(0,i.kt)("a",{parentName:"p",href:"https://daml.com/"},"Digital Asset's DAML"),". The type safety and\ncomposability of functional programs make them an exciting option for\nwriting high-assurance smart contracts."),(0,i.kt)("p",null,"Yatima aims to help develop the functional programming ecosystem on Substrate\nand the Polkadot ecosystem. We have developed a graph-based runtime for the Yatima language\nwith fully lazy evaluation, sharing, and whole program optimization. This runtime could also\nbe targeted by other functional languages. The Yatima runtime is\nsimilar in many respects to Haskell Core, or the ",(0,i.kt)("a",{parentName:"p",href:"https://grin-compiler.github.io/"},"GRIN\nIR")," but is implemented in deterministic\n",(0,i.kt)("inlineCode",{parentName:"p"},"no_std")," Rust, which allows it to run virtually anywhere, including the web,\nWASM blockchains, or even embedded systems (in theory)."),(0,i.kt)("p",null,"Yatima also implements a powerful dependent and substructural type-system,\nsimilar to Idris 2. This enables formal verification and theorem proving\n(although crucial features for practical proving such as inference and tactics\nare not yet implemented). Proofs allow for many useful optimizations in the area\nof smart contracts, such as static detection of arithmetic overflow or division\nby zero errors, or tracking of resources and permissions via an effect system.\nFurthermore, since Yatima can be implemented in itself, there is a possiblity of\nhaving on-chain trustless proof verification."),(0,i.kt)("p",null,"Lastly, Yatima implements content-addressing, allowing all programs and packages\nto be serialized into IPLD objects and shared over the peer-to-peer IPFS network\n(or via libp2p)."),(0,i.kt)("h4",{id:"deliverables"},"Deliverables"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"A ",(0,i.kt)("inlineCode",{parentName:"p"},"sp_ipld")," crate for interacting with IPFS CID, Multihash and IPLD based on\n",(0,i.kt)("a",{parentName:"p",href:"https://github.com/ipfs-rust/libipld"},(0,i.kt)("inlineCode",{parentName:"a"},"ipfs-rust/libipld")),", but which is\nSubstrate pallet compatible. This is a necessary dependency for Yatima Core,\nbut is an independent deliverable that could be useful for many other\nSubstrate projects.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"A ",(0,i.kt)("inlineCode",{parentName:"p"},"sp_im")," crate for creating immutable datastructures, based on\n",(0,i.kt)("a",{parentName:"p",href:"https://github.com/bodil/im-rs"},(0,i.kt)("inlineCode",{parentName:"a"},"bodil/im-rs")),", but which is\nSubstrate pallet compatible. This is a necessary dependency for Yatima Core,\nbut is an independent deliverable that could be useful for many other\nSubstrate projects.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"A ",(0,i.kt)("inlineCode",{parentName:"p"},"sp_yatima")," crate integrated with ",(0,i.kt)("inlineCode",{parentName:"p"},"sp_ipld"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"sp_im")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"sp_std")," that\npackages the ",(0,i.kt)("inlineCode",{parentName:"p"},"yatima_core"),"\n",(0,i.kt)("a",{parentName:"p",href:"https://github.com/yatima-inc/yatima/tree/main/core"},"crate")," and a\n",(0,i.kt)("inlineCode",{parentName:"p"},"yatima-node")," repository based on the\n",(0,i.kt)("a",{parentName:"p",href:"https://github.com/substrate-developer-hub/substrate-node-template"},(0,i.kt)("inlineCode",{parentName:"a"},"substrate-node-template")),"\nshowcasing how ",(0,i.kt)("inlineCode",{parentName:"p"},"sp_yatima")," can be imported into a Substrate Node as a pallet."))),(0,i.kt)("p",null,"This proposal does ",(0,i.kt)("em",{parentName:"p"},"not")," include in its scope:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Implementing a smart contract eDSL in Yatima."),(0,i.kt)("li",{parentName:"ul"},'Integrating "effectful" features like contract deployment, calling or\ncompatiblity with ',(0,i.kt)("inlineCode",{parentName:"li"},"pallet_contracts"),".")),(0,i.kt)("p",null,"We would plan to propose the above for follow-up work upon satisfactory\ncompletion of the above deliverables."),(0,i.kt)("h3",{id:"ecosystem-fit"},"Ecosystem Fit"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Where and how does your project fit into the ecosystem?")),(0,i.kt)("p",null,"Yatima fits into the Substrate ecosystem in a few ways:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"The runtime can be used like a functional VM that could potentially be targeted by a\nvariety of other functional programming languages, including Plutus, Pact,\nSimplicity, etc."),(0,i.kt)("li",{parentName:"ol"},"The Yatima language itself can be called from within Rust, and potentially\ncan integrate with ",(0,i.kt)("inlineCode",{parentName:"li"},"ink")," as a kind of lightweight functional evaluator or\ngarbage collector for pure expressions, with ",(0,i.kt)("inlineCode",{parentName:"li"},"ink")," or ",(0,i.kt)("inlineCode",{parentName:"li"},"pallet_contracts"),"\nhandling calling conventions and effects. This would be similar to the\nrelationship between JS and WASM on the web."),(0,i.kt)("li",{parentName:"ol"},"The Yatima typechecker can be embedded in a contract and exposed as an\non-chain verifier or prover."),(0,i.kt)("li",{parentName:"ol"},"In the future, Yatima could handle effects and contract calls itself,\nand can become a fully viable smart contract language."),(0,i.kt)("li",{parentName:"ol"},"Eventually there could be Yatima-based parachains with entirely different\nmodels for how smart contracts should interact.")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Who is your target audience (parachain/dapp/wallet/UI developers, designers, your own user base, some dapp's userbase, yourself)?")),(0,i.kt)("p",null,"Our target audience is smart contract and parachain developers."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"What need(s) does your project meet?")),(0,i.kt)("p",null,'One of the strengths of a heterogeneous blockchain ecosystem like Substrate /\nPolkadot / Kusama ecosystem is the ability for radically different approaches to\ncoexist and provide value to one another. Other systems have more of a\nrequirement for a single execution environment. So while in the long run we hope\nto execute on our ambition of "better living through FP", even in the short run\nthe existence of an interoperable FP option will showcase one of the key\nSubstrate innovations in this space.'),(0,i.kt)("p",null,"Additionally, Yatima is designed in a modular way, so that different components\nand dependencies can provide value to other projects, such as ",(0,i.kt)("inlineCode",{parentName:"p"},"sp_im"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"sp_ipld")," libraries,\nor the graph-reduction runtime."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Are there any other projects similar to yours in the Substrate / Polkadot / Kusama ecosystem?"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"If so, how is your project different?"),(0,i.kt)("li",{parentName:"ul"},"If not, are there similar projects in related ecosystems?")),(0,i.kt)("p",{parentName:"li"},"I am not aware of similar projects in the Substrate ecosystem but would be\nexcited to connect with anyone doing something related!"),(0,i.kt)("p",{parentName:"li"},"In other ecosystems projects with some degree of overlap are:"),(0,i.kt)("ol",{parentName:"li"},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"https://developers.cardano.org/en/programming-languages/plutus/overview/"},"Plutus")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/idris-lang/Idris2"},"Idris2")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/kadena-io/pact"},"Pact")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/uwu-tech/Kind"},"Kind")," (formerly Formality)"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"https://www.unisonweb.org/"},"Unison"))))),(0,i.kt)("h2",{id:"team-"},"Team \ud83d\udc65"),(0,i.kt)("h3",{id:"team-members"},"Team members"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Name of team leader: John Burnham"),(0,i.kt)("li",{parentName:"ul"},"Names of team members",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Gabriel Barreto"),(0,i.kt)("li",{parentName:"ul"},"Anders Sorby"),(0,i.kt)("li",{parentName:"ul"},"Sam Burnham"),(0,i.kt)("li",{parentName:"ul"},"Caden Haustein")))),(0,i.kt)("h3",{id:"contact"},"Contact"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Contact Name:")," John Burnham"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Contact Email:")," ",(0,i.kt)("a",{parentName:"li",href:"mailto:john@yatima.io"},"john@yatima.io")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Website:")," ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/yatima-inc/yatima"},"https://github.com/yatima-inc/yatima"))),(0,i.kt)("h3",{id:"legal-structure"},"Legal Structure"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Registered Address:")," 118 Parker St, Newton MA 02459, USA"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Registered Legal Entity:")," Yatima Inc.")),(0,i.kt)("h3",{id:"teams-experience"},"Team's experience"),(0,i.kt)("p",null,"John and Gabriel have been working on designing functional programming languages\ntogether for over 2 years and previously coauthored the Formality language,\nwhich was supported by an Ethereum Foundation Grant (which John presented on at ",(0,i.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=3XUKQX4nN8w"},"Devcon5"),")"),(0,i.kt)("p",null,"Prior to that, John worked on Tezos where he created and led initial development\nof the ",(0,i.kt)("a",{parentName:"p",href:"https://gitlab.com/morley-framework"},"Morley Framework"),", as well as\ncreating the ",(0,i.kt)("a",{parentName:"p",href:"https://gitlab.com/tzip/tzip/-/blob/master/proposals/tzip-1/tzip-1.md"},"TZIP standards process"),".\nBefore that, John cofounded tlon.io. He was a Thiel Fellow in 2011 and dropped out of\nDartmouth College."),(0,i.kt)("p",null,'Gabriel previously worked at the Ethereum Foundation and received his Master in\nMath at the Federal University of Bahia (Salvador, Brazil), where his\ndissertation was titled "On the Category of Deductive Systems".'),(0,i.kt)("p",null,"Anders is a full stack and machine learning engineer by background, and\nreceived his Masters in Applied Physics and Mathematics from the Norwegian\nInstitute of Science and Technology."),(0,i.kt)("p",null,"Sam recently graduated from the Rensselaer Polytechnic Institute with a degree\nin Computer Engineering. He has previously worked on embedded systems in Rust\nand C including industrial HVAC controllers at enverid.com."),(0,i.kt)("p",null,"Caden is the creator of the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/mlatu-lang/mlatu"},"mlatu functional concatenative programming\nlanguage"),". He is interning at Yatima Inc\nfor the summer."),(0,i.kt)("h3",{id:"team-code-repos"},"Team Code Repos"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/yatima-inc"},"https://github.com/yatima-inc")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/yatima-inc/yatima"},"https://github.com/yatima-inc/yatima")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/yatima-inc/introit"},"https://github.com/yatima-inc/introit")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/yatima-inc/sp-ipld"},"https://github.com/yatima-inc/sp-ipld")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/yatima-inc/yatima-haskell-prototype"},"https://github.com/yatima-inc/yatima-haskell-prototype"))),(0,i.kt)("p",null,"Please also provide the GitHub accounts of all team members. If they contain no activity, references to projects hosted elsewhere or live are also fine."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/johnchandlerburnham"},"https://github.com/johnchandlerburnham")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/gabriel-barrett"},"https://github.com/gabriel-barrett")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/Anderssorby"},"https://github.com/Anderssorby")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/samuelburnham"},"https://github.com/samuelburnham")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/brightly-salty"},"https://github.com/brightly-salty"))),(0,i.kt)("h3",{id:"team-linkedin-profiles-if-available"},"Team LinkedIn Profiles (if available)"),(0,i.kt)("p",null,"Please email ",(0,i.kt)("a",{parentName:"p",href:"mailto:john@yatima.io"},"john@yatima.io")," for team member CVs."),(0,i.kt)("h2",{id:"development-status-"},"Development Status \ud83d\udcd6"),(0,i.kt)("h3",{id:"yatima-rust-implementation"},"Yatima Rust implementation"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/yatima-inc/yatima"},"https://github.com/yatima-inc/yatima"))),(0,i.kt)("p",null,"The language is still pre-alpha, but is rapidly nearing it's first numbered\nalpha version. A brief overview of the current state of the implementation:"),(0,i.kt)("p",null,"The ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/yatima-inc/yatima/tree/main/core"},(0,i.kt)("inlineCode",{parentName:"a"},"core"))," subcrate\ncontains the deterministic ",(0,i.kt)("inlineCode",{parentName:"p"},"no_std")," language core:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"nom parsers for the core syntax")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"A Rust quasiquotation macro that allows yatima to be used as a functional\neDSL directly in Rust. We implement much of the type-system this way.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"a typedef syntax sugar for generating raw core self-type lambda-encoded\ndatatypes. The syntax:"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"type List (A: Type) {\n  Nil\n  Cons A (List A)\n}\n")),(0,i.kt)("p",{parentName:"li"},"Is actually non primitive and generates the raw terms:"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"def List : \u2200 (0 A: Type) -> Type\n  = \u03bb A => @List.self \u2200\n    (0 P: \u2200 (self: (List) A) -> Type)\n    (& Nil: P (data \u03bb P List.Nil List.Cons => List.Nil))\n    (& Cons: \u2200 (_: A) (_: (List) A)\n      -> P (data \u03bb P List.Nil List.Cons => List.Cons _ _))\n  -> P List.self\n\ndef List.Nil : \u2200 (0 A: Type) -> List A\n  = \u03bb A => data \u03bb P List.Nil List.Cons => List.Nil\n\ndef List.Cons : \u2200 (0 A: Type) (_: A) (_: List A) -> List A\n  = \u03bb A _ _ => data \u03bb P List.Nil List.Cons => List.Cons _ _\n")),(0,i.kt)("p",{parentName:"li"},"This lambda encoding construction is too arcane to be user-facing, even in\nthe core language, but it is extremely powerful on a theory level, and is\nwhat allows Yatima to implement dependent types in a fraction of the\ncode length of e.g. the language core of Idris2.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"the \u03bb-DAG based evaluator, with a typechecking version and a runtime\nversion (where non-runtime relevant type information is erased). This uses\nextensive ",(0,i.kt)("inlineCode",{parentName:"p"},"unsafe")," Rust due its heavy use of raw-pointers, doubly-linked-lists\n(",(0,i.kt)("a",{parentName:"p",href:"https://github.com/yatima-inc/yatima/blob/main/core/src/dll.rs"},(0,i.kt)("inlineCode",{parentName:"a"},"core/dll.rs")),").")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"The serialization system to embed Yatima terms, definitions and packages into\n",(0,i.kt)("a",{parentName:"p",href:"ipld.io"},"IPLD"),". The system is compatible with the ",(0,i.kt)("inlineCode",{parentName:"p"},"go-ipfs")," reference\nimplementation so that content-ids (CIDs) computed by the ",(0,i.kt)("inlineCode",{parentName:"p"},"core")," match the\nCIDs once an object is uploaded to ipfs")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Exposed Rust primitive and operations, such as signed and unsigned ints,\nBigInt, Text (from our fork of\n",(0,i.kt)("a",{parentName:"p",href:"https://docs.rs/ropey/1.3.0/ropey/index.html"},(0,i.kt)("inlineCode",{parentName:"a"},"ropey"))," rather than String)"))),(0,i.kt)("p",null,"The ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/yatima-inc/yatima/tree/main/utils/src"},(0,i.kt)("inlineCode",{parentName:"a"},"utils"))," subcrate\ncontains the REPL, the file parser, the ipfs client, and other pieces of\ninfrastructure that cannot be ",(0,i.kt)("inlineCode",{parentName:"p"},"no_std"),". Our vision is that different platforms\nwill have different implementations of this ",(0,i.kt)("inlineCode",{parentName:"p"},"utils")," crate."),(0,i.kt)("p",null,"We currently have ",(0,i.kt)("inlineCode",{parentName:"p"},"sp_im")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"sp_ipld")," subcrates for our ports of the ",(0,i.kt)("inlineCode",{parentName:"p"},"im"),"\nand ",(0,i.kt)("inlineCode",{parentName:"p"},"libipld")," libraries to a ",(0,i.kt)("inlineCode",{parentName:"p"},"no_std + sp_std")," setting. These are currently\nbeing factored out into their own repositories."),(0,i.kt)("p",null,"The ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/yatima-inc/yatima/tree/main/web"},(0,i.kt)("inlineCode",{parentName:"a"},"web"))," subcrate\ncontains a very rough prototype of a web repl."),(0,i.kt)("h3",{id:"yatima-standard-library"},"Yatima Standard Library"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/yatima-inc/introit"},"https://github.com/yatima-inc/introit"))),(0,i.kt)("p",null,"The Yatima standard library is in its early stages, but contains definitions for\na variety of different datatypes, such as ",(0,i.kt)("inlineCode",{parentName:"p"},"vector"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"b_tree"),", preliminary work\non theorem proving structures like a propositional equality type\n(",(0,i.kt)("a",{parentName:"p",href:"https://github.com/yatima-inc/introit/blob/main/equal.ya"},"equal.ya"),"), as well\nas a bare-bones port of the Haskell ",(0,i.kt)("inlineCode",{parentName:"p"},"megaparsec")," parser combinator library\n(",(0,i.kt)("a",{parentName:"p",href:"https://github.com/yatima-inc/introit/blob/main/parsec.ya"},"parsec.ya"),")."),(0,i.kt)("p",null,"In ",(0,i.kt)("inlineCode",{parentName:"p"},"vector.ya")," we can see an example of using proofs to show that we can always\ntake the head of a non-empty ",(0,i.kt)("inlineCode",{parentName:"p"},"Vector"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"type Vector (A: Type): \u2200 (\u03c9 k: Natural) -> Type {\n   Nil: Vector A Natural.Z,\n   Cons (0 k: Natural) (x: A) (xs: Vector A k): Vector A (Natural.S k),\n}\n\ndef Vector.head (0 A: Type) (k: Natural) (a : Vector A (Natural.S k)): A\n  = ((case a) (\u03bb k' self => \u2200 (Equal Natural (Natural.S k) k') -> A)\n    (\u03bb e => Empty.absurd A (Natural.Z_isnt_S k e))\n    (\u03bb k x xs e => x))\n    (Equal.Refl Natural (Natural.S k))\n")),(0,i.kt)("p",null,"The parser library is particulary interesting due the combination of dependent\ntypes with parsers allowing for lifting of parse errors to type errors, and thus\nallowing for metaprogramming constructs or macros to be defined directly in the\nYatima base language:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"\u2144 Parser.parsed Char (Parser.char 'f') \"f\"\n'f'\n: Parsed Char (Parser.run Char (Parser.char 'f') (State.init \"f\"))\n\u2144 Char.eql 'f' (Parser.parsed Char (Parser.char 'f') \"f\")\n#Bool.true\n: Bool\n\u2144 Char.eql 'f' (Parser.parsed Char (Parser.char 'f') \"a\")\nType Error: Type Mismatch from 1:15 to 1:55 in bafk2bzacectxsdnlokzhsmqxklxxc2qmhhz4hro2wh7dmsx6lwmqdv4xwwq4m\n\u2022 Expected: #Char\n\u2022 Detected: ...\n")),(0,i.kt)("h3",{id:"yatima-haskell-prototype"},"Yatima Haskell prototype"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/yatima-inc/yatima-haskell-prototype"},"https://github.com/yatima-inc/yatima-haskell-prototype"))),(0,i.kt)("p",null,"This is an early experimental version of the language built to test ideas\naround combining self-types with Quantitative Type Theory, and whether the\ncontent addressing with IPFS was viable in that context. We include it here to\nillustrate how a language like Yatima can be built in an existing functional\nlanguage (with its own runtime), using higher-order abstract syntax (HOAS).\nThis is how we plan to implement Yatima in itself once the language is more\nmature."),(0,i.kt)("h3",{id:"sp_ipld-and-sp_im"},"sp_ipld and sp_im"),(0,i.kt)("p",null,"We have prototypes of the ",(0,i.kt)("inlineCode",{parentName:"p"},"sp_ipld")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"sp_im")," repositories here:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/yatima-inc/sp-ipld"},"https://github.com/yatima-inc/sp-ipld")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/yatima-inc/sp-im"},"https://github.com/yatima-inc/sp-im"))),(0,i.kt)("p",null,"These have some initial functionality, but are lacking significant features,\ntest-coverage, and documentation. However, what exists is sufficient to\ndemonstrate that these libraries can be built in a ",(0,i.kt)("inlineCode",{parentName:"p"},"no_std")," context using the\n",(0,i.kt)("inlineCode",{parentName:"p"},"sp_std")," library."),(0,i.kt)("h3",{id:"relevant-papers-and-prior-art"},"Relevant Papers and prior art"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Yatima's core reduction machine is based on the \u03bb-DAG technique described in\n",(0,i.kt)("a",{parentName:"li",href:"https://www.ccs.neu.edu/home/wand/papers/shivers-wand-10.pdf"},"Bottom-up \u03b2-reduction"),".")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Yatima's approach to inductive datatypes is based on ",(0,i.kt)("a",{parentName:"li",href:"https://homepage.divms.uiowa.edu/~astump/papers/fu-stump-rta-tlca-14.pdf"},"Self Types for Dependently Typed Lambda Encodings"),"."),(0,i.kt)("li",{parentName:"ul"},"Yatima's quantitative types are based on ",(0,i.kt)("a",{parentName:"li",href:"https://bentnib.org/quantitative-type-theory.pdf"},"Syntax and Semantics of Quantitative Type Theory"),"."),(0,i.kt)("li",{parentName:"ul"},"Many aspects of the language, particularly its libraries and type-equality\nalgorithm, are adapted from the authors' previous work on ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/moonad/Formality-tmp"},"The Formality proof language"),".")),(0,i.kt)("h2",{id:"development-roadmap-"},"Development Roadmap \ud83d\udd29"),(0,i.kt)("h3",{id:"overview-1"},"Overview"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Total Estimated Duration:")," 3 months"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Full-Time Equivalent (FTE):")," 4"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Total Costs:")," 29,999 USD")),(0,i.kt)("h3",{id:"milestone-1---implement-sp_ipld-a-substrate-pallet-compatible-ipld-library"},"Milestone 1 - Implement sp_ipld: A Substrate Pallet compatible IPLD library"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Estimated duration:")," 3 weeks"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"FTE:"),"  2"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Costs:")," 7,500 USD")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Number"),(0,i.kt)("th",{parentName:"tr",align:null},"Deliverable"),(0,i.kt)("th",{parentName:"tr",align:null},"Specification"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"0a."),(0,i.kt)("td",{parentName:"tr",align:null},"License"),(0,i.kt)("td",{parentName:"tr",align:null},"MIT")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"0b."),(0,i.kt)("td",{parentName:"tr",align:null},"Documentation"),(0,i.kt)("td",{parentName:"tr",align:null},"We will enhance inline documentation, and write a tutorial on how to import and use ",(0,i.kt)("inlineCode",{parentName:"td"},"sp_ipld")," in Substrate.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"0c."),(0,i.kt)("td",{parentName:"tr",align:null},"Testing Guide"),(0,i.kt)("td",{parentName:"tr",align:null},"We will extend existing ",(0,i.kt)("inlineCode",{parentName:"td"},"libipld")," unit tests with more coverage, add ",(0,i.kt)("inlineCode",{parentName:"td"},"quickcheck")," property tests and integration tests with ",(0,i.kt)("inlineCode",{parentName:"td"},"go-ipfs")," for ensuring CID compatibility")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"0d."),(0,i.kt)("td",{parentName:"tr",align:null},"Nix"),(0,i.kt)("td",{parentName:"tr",align:null},"We will provide a .nix expression which can immutably build this crate and all tests")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"1a."),(0,i.kt)("td",{parentName:"tr",align:null},"Substrate module: ",(0,i.kt)("inlineCode",{parentName:"td"},"sp_ipld")),(0,i.kt)("td",{parentName:"tr",align:null},"We will create a Substrate module based on ",(0,i.kt)("inlineCode",{parentName:"td"},"ipfs-rust/ipld")," that will allow for serializing and deserializing IPLD objects via the ",(0,i.kt)("inlineCode",{parentName:"td"},"dag-cbor")," codec and computing IPFS CIDs which are compatible with ",(0,i.kt)("inlineCode",{parentName:"td"},"go-ipfs"),".")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"1b."),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"dag-json")," feature"),(0,i.kt)("td",{parentName:"tr",align:null},"We will implement the ",(0,i.kt)("inlineCode",{parentName:"td"},"dag-json")," codec for the ",(0,i.kt)("inlineCode",{parentName:"td"},"sp_ipld")," module, as well as a textual JSON format")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"1c."),(0,i.kt)("td",{parentName:"tr",align:null},"Substrate module: ",(0,i.kt)("inlineCode",{parentName:"td"},"sp_cid")),(0,i.kt)("td",{parentName:"tr",align:null},"We will implement a documented ",(0,i.kt)("inlineCode",{parentName:"td"},"no_std")," version of the ",(0,i.kt)("inlineCode",{parentName:"td"},"ipfs-rust/ipld")," dependency ",(0,i.kt)("inlineCode",{parentName:"td"},"multiformats/cid"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"1d."),(0,i.kt)("td",{parentName:"tr",align:null},"Substrate module: ",(0,i.kt)("inlineCode",{parentName:"td"},"sp_multihash")),(0,i.kt)("td",{parentName:"tr",align:null},"We will implement a documented ",(0,i.kt)("inlineCode",{parentName:"td"},"no_std")," version of the ",(0,i.kt)("inlineCode",{parentName:"td"},"ipfs-rust/ipld")," dependency ",(0,i.kt)("inlineCode",{parentName:"td"},"multiformats/rust-multihash"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"1e."),(0,i.kt)("td",{parentName:"tr",align:null},"Substrate module: ",(0,i.kt)("inlineCode",{parentName:"td"},"bytecursor")),(0,i.kt)("td",{parentName:"tr",align:null},"We will implement a documented ",(0,i.kt)("inlineCode",{parentName:"td"},"no_std")," drop-in replacement library for the ",(0,i.kt)("inlineCode",{parentName:"td"},"std::io::Read")," ",(0,i.kt)("inlineCode",{parentName:"td"},"std::io::Write")," based serialization/deserialization functions used by ",(0,i.kt)("inlineCode",{parentName:"td"},"ipfs-rust/ipld"))))),(0,i.kt)("h3",{id:"milestone-2---implement-sp_im-a-substrate-pallet-compatible-immutable-datastructures-library"},"Milestone 2 - Implement sp_im: A Substrate Pallet compatible immutable datastructures library"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Estimated duration:")," 3 weeks"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"FTE:"),"  2"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Costs:")," 7,500 USD")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Number"),(0,i.kt)("th",{parentName:"tr",align:null},"Deliverable"),(0,i.kt)("th",{parentName:"tr",align:null},"Specification"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"0a."),(0,i.kt)("td",{parentName:"tr",align:null},"License"),(0,i.kt)("td",{parentName:"tr",align:null},"MIT")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"0b."),(0,i.kt)("td",{parentName:"tr",align:null},"Documentation"),(0,i.kt)("td",{parentName:"tr",align:null},"We will enhance inline documentation, and write a tutorial on how to import and use ",(0,i.kt)("inlineCode",{parentName:"td"},"sp_im")," in Substrate.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"0c."),(0,i.kt)("td",{parentName:"tr",align:null},"Testing Guide"),(0,i.kt)("td",{parentName:"tr",align:null},"We will port existing ",(0,i.kt)("inlineCode",{parentName:"td"},"im")," tests to ",(0,i.kt)("inlineCode",{parentName:"td"},"quickcheck"),", and add additional unit tests where appropriate")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"0d."),(0,i.kt)("td",{parentName:"tr",align:null},"Nix"),(0,i.kt)("td",{parentName:"tr",align:null},"We will provide a .nix expression which can immutably build this crate and all tests")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"1."),(0,i.kt)("td",{parentName:"tr",align:null},"Substrate module: ",(0,i.kt)("inlineCode",{parentName:"td"},"sp_im")),(0,i.kt)("td",{parentName:"tr",align:null},"We will create a Substrate module that will allow for creating and manipulating performant immutable datastructures such as cons-lists, vectors based on rrb trees and maps/sets based on btrees")))),(0,i.kt)("h3",{id:"milestone-3---implement-sp_yatima-a-substrate-pallet-yatima-module"},"Milestone 3 - Implement sp_yatima: A Substrate Pallet Yatima module"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Estimated Duration:")," 6 weeks"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"FTE:"),"  2"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Costs:")," 14,999 USD")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Number"),(0,i.kt)("th",{parentName:"tr",align:null},"Deliverable"),(0,i.kt)("th",{parentName:"tr",align:null},"Specification"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"0a."),(0,i.kt)("td",{parentName:"tr",align:null},"License"),(0,i.kt)("td",{parentName:"tr",align:null},"MIT")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"0b."),(0,i.kt)("td",{parentName:"tr",align:null},"Documentation"),(0,i.kt)("td",{parentName:"tr",align:null},"We will provide inline documentation, write a tutorial on the language itself, and a tutorial to import and use ",(0,i.kt)("inlineCode",{parentName:"td"},"sp_yatima")," in Substrate.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"0c."),(0,i.kt)("td",{parentName:"tr",align:null},"Testing Guide"),(0,i.kt)("td",{parentName:"tr",align:null},"We will extend existing unit, property and integration tests where appropriate.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"0d."),(0,i.kt)("td",{parentName:"tr",align:null},"Nix"),(0,i.kt)("td",{parentName:"tr",align:null},"We will provide a .nix expression which can immutably build this crate and all tests")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"1."),(0,i.kt)("td",{parentName:"tr",align:null},"Substrate module: ",(0,i.kt)("inlineCode",{parentName:"td"},"sp_yatima")),(0,i.kt)("td",{parentName:"tr",align:null},"We will create a Substrate module that will allow for parsing, typechecking and evaluating Yatima language expressions")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"2."),(0,i.kt)("td",{parentName:"tr",align:null},"Repository: ",(0,i.kt)("inlineCode",{parentName:"td"},"yatima-node")),(0,i.kt)("td",{parentName:"tr",align:null},"We will create a fork of the ",(0,i.kt)("inlineCode",{parentName:"td"},"substrate-node-template")," that imports ",(0,i.kt)("inlineCode",{parentName:"td"},"sp_yatima"))))),(0,i.kt)("h2",{id:"future-plans"},"Future Plans"),(0,i.kt)("p",null,"If this initial project is successful, we plan to apply for a follow-up grant to\nadd side-effects and smart contract eDSL features to Yatima. We would like\nYatima to be an option for developers who wish to use functional programming to\ndevelop smart contracts."),(0,i.kt)("p",null,"We also intend to implement a Substrate chain using the Yatima runtime, and to\nexplore the possibility of integrating with Kusama and Polkadot via a bridge,\nparathread or parachain."),(0,i.kt)("p",null,"Additionally, we would like to explore other applications of Yatima, including\ndeveloping the web environment further, and exploring frontend application\ndevelopment, possibly via a model like ",(0,i.kt)("a",{parentName:"p",href:"https://seed-rs.org/"},"https://seed-rs.org/"),". Another possible\narea of exploration would be to integrate with the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/lunatic-solutions/lunatic"},"lunatic\nruntime"),", which uses WASM modules\nto provide Erlang style lightweight processes (green threads). There is some\nindication that content addressing is a good fit for this, given the work Unison\nhas done on distributed systems."),(0,i.kt)("h2",{id:"additional-information-"},"Additional Information \u2795"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"How did you hear about the Grants Program?")," Web3 Foundation Website"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Whether there are any other teams who have already contributed (financially) to the project.")),(0,i.kt)("p",null,"Previous work on Yatima and predecessor projects has been supported by grants\nfrom the Ethereum Foundation and the IOTA Foundation."))}d.isMDXComponent=!0}}]);