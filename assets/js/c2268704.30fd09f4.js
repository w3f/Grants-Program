"use strict";(self.webpackChunkgrants=self.webpackChunkgrants||[]).push([[827],{32033:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>c});var n=i(74848),s=i(28453);const r={},l="KMIR: the K semantics of MIR",o={id:"applications/rv-kmir",title:"KMIR: the K semantics of MIR",description:"- Team Name: Runtime Verification, Inc.",source:"@site/applications/rv-kmir.md",sourceDirName:"applications",slug:"/applications/rv-kmir",permalink:"/applications/rv-kmir",draft:!1,unlisted:!1,editUrl:"https://github.com/w3f/Grants-Program/edit/master/applications/rv-kmir.md",tags:[],version:"current",frontMatter:{}},a={},c=[{value:"Project Overview \ud83d\udcc4",id:"project-overview-page_facing_up",level:2},{value:"Overview",id:"overview",level:3},{value:"Project Details",id:"project-details",level:3},{value:"Ecosystem Fit",id:"ecosystem-fit",level:3},{value:"Team \ud83d\udc65",id:"team-busts_in_silhouette",level:2},{value:"Team members",id:"team-members",level:3},{value:"Contact",id:"contact",level:3},{value:"Legal Structure",id:"legal-structure",level:3},{value:"Team&#39;s experience",id:"teams-experience",level:3},{value:"Team Code Repos",id:"team-code-repos",level:3},{value:"Team LinkedIn Profiles (if available)",id:"team-linkedin-profiles-if-available",level:3},{value:"Development Status \ud83d\udcd6",id:"development-status-open_book",level:2},{value:"Development Roadmap \ud83d\udd29",id:"development-roadmap-nut_and_bolt",level:2},{value:"Overview",id:"overview-1",level:3},{value:"Milestone 1 - KMIR Tests",id:"milestone-1---kmir-tests",level:3},{value:"Milestone 2 - KMIR Syntax",id:"milestone-2---kmir-syntax",level:3},{value:"Milestone 3 - KMIR Semantics",id:"milestone-3---kmir-semantics",level:3},{value:"Milestone 4 - Documentation/Packaging/Announcement",id:"milestone-4---documentationpackagingannouncement",level:3},{value:"Future Plans",id:"future-plans",level:2},{value:"Finish Semantics",id:"finish-semantics",level:3},{value:"\u201cExpert-mode\u201d Verification Capabilities",id:"expert-mode-verification-capabilities",level:3},{value:"\u201cDeveloper-mode\u201d Verification Capabilities",id:"developer-mode-verification-capabilities",level:3},{value:"Additional Information \u2795",id:"additional-information-heavy_plus_sign",level:2}];function d(e){const t={a:"a",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"kmir-the-k-semantics-of-mir",children:"KMIR: the K semantics of MIR"})}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Team Name:"})," Runtime Verification, Inc."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Payment Address:"})," 0xA3250Ab6292F2aAe7DE2DE5dC46Ba0D24dcf699E (USDC or DAI)"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsxs)(t.strong,{children:[(0,n.jsx)(t.a,{href:"https://github.com/w3f/Grants-Program/tree/master#level_slider-levels",children:"Level"}),":"]})," 3"]}),"\n"]}),"\n",(0,n.jsxs)(t.h2,{id:"project-overview-page_facing_up",children:["Project Overview ","\ud83d\udcc4"]}),"\n",(0,n.jsx)(t.h3,{id:"overview",children:"Overview"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.em,{children:"Overview:"})}),"\n",(0,n.jsxs)(t.p,{children:["There are many approaches towards (property) testing of Rust programs, such as ",(0,n.jsx)(t.a,{href:"https://docs.rs/proptest/latest/proptest/",children:"proptest"})," or ",(0,n.jsx)(t.a,{href:"https://docs.rs/quickcheck/latest/quickcheck/",children:"quickcheck"})," or ",(0,n.jsx)(t.a,{href:"https://docs.rs/arbitrary/latest/arbitrary/",children:"arbitrary"}),".\nThey are quite effective, and most likely sound, but certainly not complete due to the very notion of a test as opposed to a formal proof.\nWe would like to build out formal verification capabilities for Rust developers."]}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.a,{href:"https://kframework.org/",children:"K Framework"})," is a language-agnostic semantic framework, quite suitable for the definition of programming language semantics, from which many compiler and verification related tools can be automatically generated."]}),"\n",(0,n.jsxs)(t.p,{children:["We seek to develop ",(0,n.jsxs)(t.strong,{children:["KMIR: the ",(0,n.jsx)(t.a,{href:"http://github.com/kframework",children:"K"})," semantics of the ",(0,n.jsx)(t.a,{href:"https://rustc-dev-guide.rust-lang.org/mir/index.html",children:"MIR language"})]}),", which is an ",(0,n.jsx)(t.a,{href:"https://blog.rust-lang.org/2016/04/19/MIR.html",children:"internal representation for the Rust compiler"}),".\nThis will enable more scalable verification for the Rust programming language.\nA robust commitment to security and assurance does not end with a completed security audit (which we have experience doing for various Rust-based projects).\nRather, it requires that all available tools and techniques are used, including rigorous proof-based formal verification (among others).\nSupporting the development of the KMIR semantics will enable verification at scale for smart contract developers targeting the Polkadot (and related) ecosystem."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.em,{children:"Background:"})}),"\n",(0,n.jsxs)(t.p,{children:["Runtime Verification ",(0,n.jsx)(t.a,{href:"https://github.com/runtimeverification/polkadot-verification",children:"has attempted verification of Rust programs"})," in the past.\nOur past approach relied on compiling to WebAssembly and then using our KWasm semantics for verification.\nThis suffered from two problems:"]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"The generated WebAssembly was large, making verification less tractable, and"}),"\n",(0,n.jsx)(t.li,{children:"We could not handle Rust code compiled to a non-WebAssembly target."}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"In the WebAssembly setting, even simple Rust programs (just a few hundred lines) were compiled to WebAssembly programs that were ~100 kLOC.\nMuch of the generated code is boilerplate inserted by the compiler, which is uninteresting when verifying program correctness, but slows the verification process down significantly."}),"\n",(0,n.jsx)(t.p,{children:"KMIR solves both problems.\nThe Rust compiler goes through MIR before compiling to any target language, and MIR is much closer to Rust than (the generated) WebAssembly.\nBecause of this, verification of MIR should be more tractable as we\u2019ll be dealing with code-sizes that are closer to the original Rust source code size.\nThis allows the difficulty of verification to be bounded by the complexity of the application rather than the complexity of the compiler toolchain."}),"\n",(0,n.jsx)(t.h3,{id:"project-details",children:"Project Details"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.em,{children:"Goals:"})}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Develop the KMIR semantics."}),"\n",(0,n.jsx)(t.li,{children:"Understand and document how to use KMIR to do verification."}),"\n",(0,n.jsx)(t.li,{children:"Initial integration of KMIR into Rust development workflow."}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.em,{children:"Deliverables:"})}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"A first draft of the MIR semantics in K."}),"\n",(0,n.jsx)(t.li,{children:"Corpus of tests which exercise the feature set of MIR."}),"\n",(0,n.jsx)(t.li,{children:"Timeboxed initial KMIR semantics, which makes progress towards passing the tests."}),"\n",(0,n.jsxs)(t.li,{children:["The ",(0,n.jsx)(t.strong,{children:"kmir"})," command-line tool, which allows users to try out the initial semantics on the test-suite and other examples."]}),"\n",(0,n.jsxs)(t.li,{children:["Integration with the ",(0,n.jsxs)(t.a,{href:"https://github.com/runtimeverification/kup/",children:[(0,n.jsx)(t.strong,{children:"kup"})," tool"]}),", for one-command installation of K semantics and tooling."]}),"\n",(0,n.jsx)(t.li,{children:"Blog post describing the progress made, and instructing people how they can try out the semantics themselves."}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"ecosystem-fit",children:"Ecosystem Fit"}),"\n",(0,n.jsxs)(t.p,{children:["Our project fits into the ecosystem as ",(0,n.jsx)(t.strong,{children:"developer tooling"}),".\nThis tool will help Rust smart contract developers to improve their quality assurance pipeline and to move towards formal verification on their own."]}),"\n",(0,n.jsxs)(t.p,{children:["The initial version delivered in this workplan will be focused on providing ",(0,n.jsx)(t.strong,{children:"expert developer tooling"}),".\nIn particular, only developers who spend extra time learning K will be able to be effective with the tool.\nThe next version delivered (seeking funding elsewhere) will be focused on providing ",(0,n.jsx)(t.strong,{children:"developer tooling"}),"; typical Rust smart contract developers should be able to use it."]}),"\n",(0,n.jsxs)(t.h2,{id:"team-busts_in_silhouette",children:["Team ","\ud83d\udc65"]}),"\n",(0,n.jsx)(t.h3,{id:"team-members",children:"Team members"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Team Lead: Yan Liu"}),"\n",(0,n.jsx)(t.li,{children:"Team Members: Christiano Braga, Everett Hildenbrandt"}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"contact",children:"Contact"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Contact Name:"})," Patrick MacKay"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Contact Email:"})," ",(0,n.jsx)(t.a,{href:"mailto:patrick.mackay@runtimeverification.com",children:"patrick.mackay@runtimeverification.com"})]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Website:"})," ",(0,n.jsx)(t.a,{href:"https://runtimeverification.com",children:"https://runtimeverification.com"})]}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"legal-structure",children:"Legal Structure"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Registered Address:"})," 1807 South Neil Street, Champaign, IL 61820"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Registered Legal Entity:"})," Runtime Verification, Inc."]}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"teams-experience",children:"Team's experience"}),"\n",(0,n.jsx)(t.p,{children:"Runtime Verification has significant past experience doing program verification for a variety of programming languages.\nIn particular, KEVM has been used for verifying Ethereum smart contracts, and KPlutus has been used for verifying Plutus smart contracts."}),"\n",(0,n.jsx)(t.h3,{id:"team-code-repos",children:"Team Code Repos"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://github.com/runtimeverification",children:"https://github.com/runtimeverification"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://github.com/runtimeverification/evm-semantics",children:"https://github.com/runtimeverification/evm-semantics"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://github.com/runtimeverification/beacon-chain-verification",children:"https://github.com/runtimeverification/beacon-chain-verification"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://github.com/runtimeverification/deposit-contract-verification",children:"https://github.com/runtimeverification/deposit-contract-verification"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://github.com/runtimeverification/deposit-contract-verification",children:"https://github.com/runtimeverification/deposit-contract-verification"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://github.com/runtimeverification/plutus-core-semantics",children:"https://github.com/runtimeverification/plutus-core-semantics"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://github.com/runtimeverification/avm-semantics",children:"https://github.com/runtimeverification/avm-semantics"})}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"Please also provide the GitHub accounts of all team members. If they contain no activity, references to projects hosted elsewhere or live are also fine."}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://github.com/yanliu18",children:"https://github.com/yanliu18"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://github.com/ChristianoBraga",children:"https://github.com/ChristianoBraga"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://github.com/ehildenb",children:"https://github.com/ehildenb"})}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"team-linkedin-profiles-if-available",children:"Team LinkedIn Profiles (if available)"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.em,{children:"N/A"})}),"\n",(0,n.jsxs)(t.h2,{id:"development-status-open_book",children:["Development Status ","\ud83d\udcd6"]}),"\n",(0,n.jsx)(t.p,{children:"Work scheduled to start January 2023."}),"\n",(0,n.jsxs)(t.h2,{id:"development-roadmap-nut_and_bolt",children:["Development Roadmap ","\ud83d\udd29"]}),"\n",(0,n.jsx)(t.h3,{id:"overview-1",children:"Overview"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Total Estimated Duration:"}),": 14 weeks"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Full-Time Equivalent (FTE):"})," 1.5"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Total Costs:"})," 100000 USD"]}),"\n",(0,n.jsxs)(t.li,{children:["*",(0,n.jsx)(t.strong,{children:"License:"})," BSD-3"]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"This is the workplan submitted for the Web3 Foundation\u2019s consideration.\nIt is focused on delivering a prototype that can be easily installed, tested, and used by the community.\nThis prototype will not be a complete semantics for MIR given the proposed timeframe, but it will be thoroughly tested and have a clear path to completion."}),"\n",(0,n.jsx)(t.h3,{id:"milestone-1---kmir-tests",children:"Milestone 1 - KMIR Tests"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Estimated duration:"})," 3 weeks"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"FTE:"}),"  1.5"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Costs:"})," 21000 USD"]}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["Developing a language semantics requires a test suite to exercise the semantics.\nThe tests should try to cover all of the language features, while being small and targeted for each individual language feature.\nNote that to fit into the 100000 USD budget, the initial ",(0,n.jsx)(t.strong,{children:"miri"})," investigation phase has been cut, which may cause delays in this phase as we have to investigate this tool."]}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"right"},children:"Number"}),(0,n.jsx)(t.th,{children:"Deliverable"}),(0,n.jsx)(t.th,{children:"Specification"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"right"},children:(0,n.jsx)(t.strong,{children:"0a."})}),(0,n.jsx)(t.td,{children:"License"}),(0,n.jsx)(t.td,{children:"BSD-3"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"right"},children:(0,n.jsx)(t.strong,{children:"0b."})}),(0,n.jsx)(t.td,{children:"Documentation"}),(0,n.jsx)(t.td,{children:"A short README will be provided describing how to interperet the tests."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"right"},children:(0,n.jsx)(t.strong,{children:"0c."})}),(0,n.jsx)(t.td,{children:"Testing and Testing Guide"}),(0,n.jsxs)(t.td,{children:["CI will be set up with K and ",(0,n.jsx)(t.strong,{children:"miri"})," pre-installed."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"right"},children:(0,n.jsx)(t.strong,{children:"0d."})}),(0,n.jsx)(t.td,{children:"Docker"}),(0,n.jsx)(t.td,{children:"Our CI setup relies on Dockerfiles for reproducibility, so a Dockerfile will be supplied."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"right"},children:"1."}),(0,n.jsx)(t.td,{children:"MIR code snippets"}),(0,n.jsx)(t.td,{children:"For each syntactic/semantic feature of MIR language, write a targeted test and the expected execution result."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"right"},children:"2."}),(0,n.jsxs)(t.td,{children:["Generate output from ",(0,n.jsx)(t.strong,{children:"miri"})]}),(0,n.jsxs)(t.td,{children:["Use ",(0,n.jsx)(t.strong,{children:"miri"})," (or another suitable tool, if this proves to not work), to confirm the expected output for each test."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"right"},children:"3."}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)(t.strong,{children:"kmir"})," executable stub"]}),(0,n.jsxs)(t.td,{children:["Initial no-op ",(0,n.jsx)(t.strong,{children:"kmir"})," executable which fails all the input test, but can be called on CI in parallel to ",(0,n.jsx)(t.strong,{children:"miri"})," for conformance testing."]})]})]})]}),"\n",(0,n.jsx)(t.h3,{id:"milestone-2---kmir-syntax",children:"Milestone 2 - KMIR Syntax"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Estimated duration:"})," 3 weeks"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"FTE:"}),"  1.5"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Costs:"})," 22000 USD"]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"Specify the syntax of MIR programs in K.\nEnsure we can parse all the conformance tests developed in the previous step."}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"right"},children:"Number"}),(0,n.jsx)(t.th,{children:"Deliverable"}),(0,n.jsx)(t.th,{children:"Specification"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"right"},children:(0,n.jsx)(t.strong,{children:"0a."})}),(0,n.jsx)(t.td,{children:"License"}),(0,n.jsx)(t.td,{children:"BSD-3"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"right"},children:(0,n.jsx)(t.strong,{children:"0b."})}),(0,n.jsx)(t.td,{children:"Documentation"}),(0,n.jsx)(t.td,{children:"The README will be augmented with instructions on calling the parser."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"right"},children:(0,n.jsx)(t.strong,{children:"0c."})}),(0,n.jsx)(t.td,{children:"Testing and Testing Guide"}),(0,n.jsx)(t.td,{children:"Tests from the previous step will be parsed on CI to ensure we can parse valid MIR programs."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"right"},children:(0,n.jsx)(t.strong,{children:"0d."})}),(0,n.jsx)(t.td,{children:"Docker"}),(0,n.jsx)(t.td,{children:"Our CI setup relies on Dockerfiles for reproducibility, so a Dockerfile will be supplied."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"right"},children:"1."}),(0,n.jsx)(t.td,{children:"KMIR syntax"}),(0,n.jsx)(t.td,{children:"Develop the syntactic constructs of KMIR needed to parse the supplied conformance tests."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"right"},children:"2."}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)(t.strong,{children:"kmir"})," executable extension"]}),(0,n.jsxs)(t.td,{children:["Provide subcommand ",(0,n.jsx)(t.strong,{children:"kmir parse"})," which can be used on CI or on CLI to parse MIR programs."]})]})]})]}),"\n",(0,n.jsx)(t.h3,{id:"milestone-3---kmir-semantics",children:"Milestone 3 - KMIR Semantics"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Estimated duration:"})," 6 weeks (timeboxed)"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"FTE:"}),"  1.5"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Costs:"})," 50000 USD"]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"Specify the semantics of MIR programs in K.\nProgressively pass more of the conformance test-suite developed prior.\nThis step is timeboxed because finishing the semantics is unlikely given the timeframe.\nWe expect significant progress will be made in this timeframe."}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"right"},children:"Number"}),(0,n.jsx)(t.th,{children:"Deliverable"}),(0,n.jsx)(t.th,{children:"Specification"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"right"},children:(0,n.jsx)(t.strong,{children:"0a."})}),(0,n.jsx)(t.td,{children:"License"}),(0,n.jsx)(t.td,{children:"BSD-3"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"right"},children:(0,n.jsx)(t.strong,{children:"0b."})}),(0,n.jsx)(t.td,{children:"Documentation"}),(0,n.jsx)(t.td,{children:"The README will be augmented with instructions on calling the interpreter."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"right"},children:(0,n.jsx)(t.strong,{children:"0c."})}),(0,n.jsx)(t.td,{children:"Testing and Testing Guide"}),(0,n.jsxs)(t.td,{children:["Tests from the previous step will be executed on CI to ensure conformance with ",(0,n.jsx)(t.strong,{children:"miri"}),"."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"right"},children:(0,n.jsx)(t.strong,{children:"0d."})}),(0,n.jsx)(t.td,{children:"Docker"}),(0,n.jsx)(t.td,{children:"Our CI setup relies on Dockerfiles for reproducibility, so a Dockerfile will be supplied."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"right"},children:"1."}),(0,n.jsx)(t.td,{children:"KMIR semantics"}),(0,n.jsx)(t.td,{children:"Develop the semantic constructs of KMIR needed to execute the supplied conformance tests (timeboxed to 8 weeks)."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"right"},children:"2."}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)(t.strong,{children:"kmir"})," executable extension"]}),(0,n.jsxs)(t.td,{children:["Provide subcommand ",(0,n.jsx)(t.strong,{children:"kmir run"})," which can be used on CI or on CLI to run MIR programs."]})]})]})]}),"\n",(0,n.jsx)(t.h3,{id:"milestone-4---documentationpackagingannouncement",children:"Milestone 4 - Documentation/Packaging/Announcement"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Estimated duration:"})," 2 weeks"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"FTE:"}),"  1.5"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Costs:"})," 6000 USD"]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"Write a blog post which outlines:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Progress on the semantics,"}),"\n",(0,n.jsxs)(t.li,{children:["How to install ",(0,n.jsx)(t.strong,{children:"kmir"})," and try it, and"]}),"\n",(0,n.jsxs)(t.li,{children:["Future plans for ",(0,n.jsx)(t.strong,{children:"kmir"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"right"},children:"Number"}),(0,n.jsx)(t.th,{children:"Deliverable"}),(0,n.jsx)(t.th,{children:"Specification"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"right"},children:(0,n.jsx)(t.strong,{children:"0a."})}),(0,n.jsx)(t.td,{children:"License"}),(0,n.jsx)(t.td,{children:"BSD-3"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"right"},children:(0,n.jsx)(t.strong,{children:"0b."})}),(0,n.jsx)(t.td,{children:"Documentation"}),(0,n.jsx)(t.td,{children:"README augmented with more instructions on using the developed interpreter."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"right"},children:(0,n.jsx)(t.strong,{children:"0c."})}),(0,n.jsx)(t.td,{children:"Testing and Testing Guide"}),(0,n.jsxs)(t.td,{children:["Tests from the previous step will be executed on CI to ensure conformance with ",(0,n.jsx)(t.strong,{children:"miri"}),"."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"right"},children:(0,n.jsx)(t.strong,{children:"0d."})}),(0,n.jsx)(t.td,{children:"Docker"}),(0,n.jsx)(t.td,{children:"Our CI setup relies on Dockerfiles for reproducibility, so a Dockerfile will be supplied."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"right"},children:"1."}),(0,n.jsx)(t.td,{children:"KMIR documentation"}),(0,n.jsx)(t.td,{children:"Ensure that new users can follow instructions in the README to build the project from source."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"right"},children:"2."}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)(t.strong,{children:"kup"})," integration"]}),(0,n.jsxs)(t.td,{children:["Ensure that ",(0,n.jsxs)(t.a,{href:"https://github.com/runtimeverification/kup",children:[(0,n.jsx)(t.strong,{children:"kup"}),", the K package manager"]}),", can be used to install the semantics and run MIR programs."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"right"},children:"2."}),(0,n.jsx)(t.td,{children:"Blog post"}),(0,n.jsxs)(t.td,{children:["A short annuoncement of the progress on the project, including instructions on how to install and use it via ",(0,n.jsx)(t.strong,{children:"kup"}),"."]})]})]})]}),"\n",(0,n.jsx)(t.h2,{id:"future-plans",children:"Future Plans"}),"\n",(0,n.jsx)(t.p,{children:"Given the target scope of the project, these tasks have been pushed to future work.\nThese can be funded in whole or part by the Web3 Foundation at the conclusion of the first phase."}),"\n",(0,n.jsx)(t.p,{children:"Future Deliverables (to be submitted as part of future proposal to Web3 Foundation or to additional funding entity):"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Completion of the KMIR semantics, together with measurement of semantic coverage of the developed conformance test suite."}),"\n",(0,n.jsx)(t.li,{children:"Low-level \u201cexpert-mode\u201d verification capabilities added to the kmir tool."}),"\n",(0,n.jsx)(t.li,{children:"High-level \u201cdeveloper-mode\u201d verification capabilities added to the kmir tool, via connection to Rust property testing."}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"finish-semantics",children:"Finish Semantics"}),"\n",(0,n.jsx)(t.p,{children:"At the end of this step, we should have high confidence that we have an accurate model of the MIR language which can be used to faithfully execute Rust programs using our semantics-derived interpreter.\nThis groundwork ensures that the verification capabilities developed later will actually be relevant to real Rust programs."}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.em,{children:"Finish existing tests"}),":\nMake sure that there are no existing tests in the developed conformance test-suite that are not parsing or passing."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.em,{children:"Testing coverage"}),":\nSet up semantics coverage measurement on CI.","\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Automate measuring semantic (rule and branch) coverage of the K definition of the conformance test-suite."}),"\n",(0,n.jsx)(t.li,{children:"Publish the coverage reports on CI."}),"\n",(0,n.jsx)(t.li,{children:"Extend the test-suite to reach 100% (or close to) coverage."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"expert-mode-verification-capabilities",children:"\u201cExpert-mode\u201d Verification Capabilities"}),"\n",(0,n.jsx)(t.p,{children:"First, we develop the K expert verification tool, because developer-level tools will build directly on this foundation.\nThis is similar to how our Foundry integration builds on KEVM which allows programmers to write property tests in Solidity that are discharged via symbolic execution with K with no extra manual steps."}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.em,{children:"Simple verification challenges"}),":\nTry out simple hand-written MIR verification on this semantics.\nCommon verification challenges for this step are functional correctness of simple arithmetic functions (integer maximum, fixed point multiplication, sum of list, sum to N, etc\u2026)."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.em,{children:"Manual real-world verification"}),":\nTimeboxed verification of chosen real-world Rust smart contract.\nThis first verification will uncover many inefficiencies we can address in the semantics, as well as giving people a sense of the scale/difficulty of attempting verification using this tool.\nBlog post describing:","\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"How much progress was made on the verification in the given timeframe."}),"\n",(0,n.jsx)(t.li,{children:"How the verification was accomplished (for reproducibility)."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"developer-mode-verification-capabilities",children:"\u201cDeveloper-mode\u201d Verification Capabilities"}),"\n",(0,n.jsx)(t.p,{children:"The goal for this part is to provide an interface to KMIR-based verification that is intuitive to Rust developers.\nThis requires bridging the gap between KMIR and the Rust source language, and property testing has proven to be an effective way to do that.\nHere we\u2019ll follow the same approach as KEVM\u2019s Foundry integration mentioned above:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.em,{children:"Write Rust property tests"}),":\nDevelop a corpus of Rust property tests in one of the frameworks mentioned above which attempts to encompass a wide range of the Rust language.\nThey should be small tests focused on exploring each of Rust\u2019s features as independently as possible."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.em,{children:"Rust-level verification"}),":\nDevelop the needed infrastructure so that users can write property tests in Rust and discharge them using KMIR symbolic execution (instead of fuzzing or other testing methods for Rust programs).\nStart by manually doing so for several simple property tests from the previous step and documenting the steps.\nThis will involve compiling the property test to MIR, and constructing the appropriate K prover query using the MIR as input."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.em,{children:"Real-world verification"}),":\nSelect a project to attempt verification on (a DeFi app).\nWe\u2019ll develop (or extend) the property testing for that app.\nWe\u2019ll also do a best-effort (timeboxed) attempt to discharge the generated verification conditions, improving the semantics (and adding lemmas) to make it possible.\nWrite blog post describing the outcome, including answers to the following questions:","\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"How much progress was made in the given timeframe?"}),"\n",(0,n.jsx)(t.li,{children:"How was the verification accomplished (how to reproduce our work)?"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(t.h2,{id:"additional-information-heavy_plus_sign",children:["Additional Information ","\u2795"]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"How did you hear about the Grants Program?"})," Direct contact with grants committee."]}),"\n",(0,n.jsx)(t.p,{children:'There is a large body of testing tools for Rust, e.g. proptest, quickcheck, arbitrary, or creusot, to name a few.\nThese lack the completeness that "ships for free" with program verification tools such as the K Framework.\nRuntime Verification has successfully applied the techniques presented in this proposal to several projects, including other blockchain language semantics such as EVM, Plutus, and AVM.\nWe are confident that the tooling resulting from this project, should it be financed, will be an important contribution to the Rust community, being a sound, complete and effective approach to Rust program verification.'})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},28453:(e,t,i)=>{i.d(t,{R:()=>l,x:()=>o});var n=i(96540);const s={},r=n.createContext(s);function l(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);