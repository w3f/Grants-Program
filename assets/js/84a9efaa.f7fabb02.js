"use strict";(self.webpackChunkgrants=self.webpackChunkgrants||[]).push([[89046],{79658:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>a,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"applications/maintenance/wasm-opt-for-rust","title":"wasm-opt for Rust Maintenance","description":"- Team Name: Common Orbit LLC","source":"@site/applications/maintenance/wasm-opt-for-rust.md","sourceDirName":"applications/maintenance","slug":"/applications/maintenance/wasm-opt-for-rust","permalink":"/applications/maintenance/wasm-opt-for-rust","draft":false,"unlisted":false,"editUrl":"https://github.com/w3f/Grants-Program/edit/master/applications/maintenance/wasm-opt-for-rust.md","tags":[],"version":"current","frontMatter":{}}');var i=s(74848),r=s(28453);const a={},o="wasm-opt for Rust Maintenance",l={},h=[{value:"Project Overview \ud83d\udcc4",id:"project-overview-page_facing_up",level:2},{value:"Overview",id:"overview",level:3},{value:"Maintenance list",id:"maintenance-list",level:3},{value:"Team \ud83d\udc65",id:"team-busts_in_silhouette",level:2},{value:"Team members",id:"team-members",level:3},{value:"Contact",id:"contact",level:3},{value:"Legal Structure",id:"legal-structure",level:3},{value:"Team&#39;s experience",id:"teams-experience",level:3},{value:"Team Code Repos",id:"team-code-repos",level:3},{value:"Team LinkedIn Profiles (if available)",id:"team-linkedin-profiles-if-available",level:3},{value:"Development Status \ud83d\udcd6",id:"development-status-open_book",level:2},{value:"Maintenance Responsibilities \ud83d\udd29",id:"maintenance-responsibilities-nut_and_bolt",level:2},{value:"Overview",id:"overview-1",level:3},{value:"Future Plans",id:"future-plans",level:2},{value:"Additional Information \u2795",id:"additional-information-heavy_plus_sign",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsxs)(n.h1,{id:"wasm-opt-for-rust-maintenance",children:[(0,i.jsx)(n.code,{children:"wasm-opt"})," for Rust Maintenance"]})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Team Name:"})," Common Orbit LLC"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Payment Address:"})," (Ethereum DAI) 0x2de31E52E24Df0588C64B27657D4F75e5462adEf"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.strong,{children:[(0,i.jsx)(n.a,{href:"https://github.com/w3f/Grants-Program/tree/master#level_slider-levels",children:"Level"}),":"]})," 3"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"project-overview-page_facing_up",children:["Project Overview ","\ud83d\udcc4"]}),"\n",(0,i.jsxs)(n.p,{children:["This is a followup to the ",(0,i.jsxs)(n.a,{href:"https://github.com/w3f/Grants-Program/pull/1070",children:[(0,i.jsx)(n.code,{children:"wasm-opt"})," for Rust grant"]}),",\nwhich ",(0,i.jsx)(n.a,{href:"https://github.com/w3f/Grant-Milestone-Delivery/pull/611",children:"completed successfully"})," on November 11."]}),"\n",(0,i.jsx)(n.h3,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"wasm-opt"})," for Rust is a project to create Rust bindings to ",(0,i.jsxs)(n.a,{href:"https://github.com/WebAssembly/binaryen",children:["Binaryen's\n",(0,i.jsx)(n.code,{children:"wasm-opt"})]})," tool. It allows creators of WebAssemly toolchains\nwritten in Rust to directly optimize their WebAssembly output instead of\ncalling a 3rd-party non-Rust binary."]}),"\n",(0,i.jsx)(n.p,{children:"It has been integrated into"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Ink!'s ",(0,i.jsx)(n.a,{href:"https://github.com/paritytech/cargo-contract/pull/766",children:(0,i.jsx)(n.code,{children:"cargo-contract"})})]}),"\n",(0,i.jsxs)(n.li,{children:["Substrate's ",(0,i.jsx)(n.a,{href:"https://github.com/paritytech/substrate/pull/12280#issuecomment-1295079049",children:(0,i.jsx)(n.code,{children:"wasm-builder"})})]}),"\n",(0,i.jsxs)(n.li,{children:["Stellar's ",(0,i.jsx)(n.a,{href:"https://github.com/stellar/soroban-cli/pull/236",children:"Soroban CLI"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["This grant will primarily provide funding to update the ",(0,i.jsx)(n.code,{children:"wasm-opt"})," crate\nfollowing new releases of Binaryen, after which we will also upgrade\n",(0,i.jsx)(n.code,{children:"cargo-contract"})," and ",(0,i.jsx)(n.code,{children:"wasm-builder"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"We will also fix some outstanding issues that were out of scope for the previous\ngrant, and respond to new bug reports and feature requests as they arrive."}),"\n",(0,i.jsxs)(n.p,{children:["This project should continue to be supported because it is part of the Substrate\nand Ink! toolchains; the underlying Binaryen code receives approximately six new\nreleases yearly; and it will take effort to maintain the ",(0,i.jsx)(n.code,{children:"wasm-opt"})," bindings as\nthe Binaryen code changes."]}),"\n",(0,i.jsx)(n.h3,{id:"maintenance-list",children:"Maintenance list"}),"\n",(0,i.jsx)(n.p,{children:"Please provide a list of the repo(s) that need maintenance and further development:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/brson/wasm-opt-rs",children:"https://github.com/brson/wasm-opt-rs"})}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"team-busts_in_silhouette",children:["Team ","\ud83d\udc65"]}),"\n",(0,i.jsx)(n.h3,{id:"team-members",children:"Team members"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Team lead:"})," ",(0,i.jsx)(n.a,{href:"https://github.com/brson",children:"Brian Anderson"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Team member:"})," ",(0,i.jsx)(n.a,{href:"https://github.com/aimeedeer",children:"Aimee Zhu"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"contact",children:"Contact"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Contact Name:"})," Brian Anderson"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Contact Email:"})," ",(0,i.jsx)(n.a,{href:"mailto:andersrb@gmail.com",children:"andersrb@gmail.com"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Website:"})," ",(0,i.jsx)(n.a,{href:"https://brson.github.io",children:"https://brson.github.io"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"legal-structure",children:"Legal Structure"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Registered Address:"})," 16192 Coastal Highway, Lewes, Delaware 19958"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Registered Legal Entity:"})," Common Orbit LLC"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"teams-experience",children:"Team's experience"}),"\n",(0,i.jsxs)(n.p,{children:["The team lead is one of the original authors of the Rust programming language,\nwith 12 years of Rust experience.\nThey have performed Rust work for Mozilla, Reddit, PingCAP, Solana, MobileCoin, Parity, Nervos, and the Web3 Foundation.\nBoth team members are maintainers of the ",(0,i.jsx)(n.a,{href:"https://rustinblockchain.org/",children:"Rust in Blockchain"})," newsletter."]}),"\n",(0,i.jsxs)(n.p,{children:["The team has previously completed the ",(0,i.jsxs)(n.a,{href:"https://github.com/w3f/Grants-Program/pull/1070",children:[(0,i.jsx)(n.code,{children:"wasm-opt"})," for Rust"]})," grant under the same legal entity."]}),"\n",(0,i.jsx)(n.h3,{id:"team-code-repos",children:"Team Code Repos"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/brson/wasm-opt-rs",children:"https://github.com/brson/wasm-opt-rs"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/brson",children:"https://github.com/brson"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/aimeedeer",children:"https://github.com/aimeedeer"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"team-linkedin-profiles-if-available",children:"Team LinkedIn Profiles (if available)"}),"\n",(0,i.jsx)(n.p,{children:"N/A"}),"\n",(0,i.jsxs)(n.h2,{id:"development-status-open_book",children:["Development Status ","\ud83d\udcd6"]}),"\n",(0,i.jsxs)(n.p,{children:["The project is functionally complete\nand is expected to continue in maintenance-mode.\nIts development was documented in a ",(0,i.jsx)(n.a,{href:"https://brson.github.io/2022/10/26/creating-wasm-opt-rust-bindings-with-cxx",children:"blog post"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Progress is tracked on the ",(0,i.jsx)(n.a,{href:"https://github.com/brson/wasm-opt-rs/issues",children:"issue tracker"}),"."]}),"\n",(0,i.jsxs)(n.h2,{id:"maintenance-responsibilities-nut_and_bolt",children:["Maintenance Responsibilities ","\ud83d\udd29"]}),"\n",(0,i.jsx)(n.p,{children:"The primary need for a maintenance grant is to update the crate\nfollowing new releases of Binaryen."}),"\n",(0,i.jsx)(n.p,{children:"In both 2021 and 2022 there were six releases of Binaryen.\nWe already have experience with one upgrade that required approximately 10 hours of work."}),"\n",(0,i.jsx)(n.p,{children:"Note that there has been a new release of Binaryen since the completion of the\nprevious grant. Upgrading to that release will be performed under this\nmaintenance grant."}),"\n",(0,i.jsx)(n.p,{children:"Our responsibilities:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Update and publish new versions of the ",(0,i.jsx)(n.code,{children:"wasm-opt"})," crate when new versions of\nBinaryen are released."]}),"\n",(0,i.jsxs)(n.li,{children:["Submit PRs to upgrade ",(0,i.jsx)(n.code,{children:"wasm-opt"})," in ",(0,i.jsx)(n.code,{children:"cargo-contract"})," and ",(0,i.jsx)(n.code,{children:"wasm-builder"}),"\nwhen new versions are published."]}),"\n",(0,i.jsx)(n.li,{children:"Fix reported bugs if possible and within budget."}),"\n",(0,i.jsx)(n.li,{children:"Implement minor feature requests if disirable and within budget."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Issues we want to fix:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://github.com/brson/wasm-opt-rs/issues/40",children:"Fix Unicode paths on Windows"}),".\nThis is the major outstanding bug, but it is a bug in upstream Binaryen.\nThe maintainers of that project are open to patches fixing it.\nIt is a major task, perhaps 20+ hours."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://github.com/brson/wasm-opt-rs/issues/116",children:"Unable to delete build-time symlink on Windows"}),".\nThis has been reported by the maintainer of a substrate chain.\nIt requires investigation and possible upstream work in the ",(0,i.jsx)(n.code,{children:"cxx"})," crate to fix."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://github.com/brson/wasm-opt-rs/milestone/2",children:'Minor issues collected in milestone "M3"'}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"overview-1",children:"Overview"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Start Date:"})," 2022/12/01"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Sprint/Period Duration:"})," 4 weeks"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Total Duration:"})," 1 year"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Full-Time Equivalent (FTE):"}),"  0.1"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Max budget per sprint/period:"})," 6000 USD"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Hourly rate:"})," 300 USD"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"We expect this project to require light maintenance,\nthat most months the full budget will not be required,\nthat some months may require no work.\nThe first few months will likely have above-average\nactivity as we resolve outstanding issues."}),"\n",(0,i.jsx)(n.p,{children:"The monthly budget is calculated based on the following:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"10 hours to upgrade Binaryen"}),"\n",(0,i.jsx)(n.li,{children:"300 USD / hour"}),"\n",(0,i.jsx)(n.li,{children:"x2 for unforseen obstacles"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This implies that a particularly difficult upgrade could exceed the monthly budget.\nIn such a case the work would spill over across multiple months,\nand we might forego other maintenance work."}),"\n",(0,i.jsx)(n.h2,{id:"future-plans",children:"Future Plans"}),"\n",(0,i.jsxs)(n.p,{children:["We intend to upgrade the ",(0,i.jsx)(n.code,{children:"wasm-opt"})," crate following new releases of Binaryen\nfor as long as the project remains funded."]}),"\n",(0,i.jsx)(n.p,{children:"We expect minor bug reports and feature requests,\nbut do not intend to make major changes to the project,\nor introduce major new features."}),"\n",(0,i.jsx)(n.p,{children:"We expect to continue to be involved in the Substrate / Ink! ecosystems, and to\nmake additional grant proposals related to WebAssembly, Ink!, and Substrate in\nthe future."}),"\n",(0,i.jsxs)(n.h2,{id:"additional-information-heavy_plus_sign",children:["Additional Information ","\u2795"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"How did you hear about the Maintenance Grants Program?"})," personal recommendation"]})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>o});var t=s(96540);const i={},r=t.createContext(i);function a(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);