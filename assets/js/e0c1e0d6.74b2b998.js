"use strict";(self.webpackChunkgrants=self.webpackChunkgrants||[]).push([[36765],{38094:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>c,toc:()=>d});var i=n(74848),s=n(28453);const r={},l="Subscript",c={id:"applications/subscript_lang",title:"Subscript",description:"Subscript: Substrate smart contact written in AssemblyScript",source:"@site/applications/subscript_lang.md",sourceDirName:"applications",slug:"/applications/subscript_lang",permalink:"/applications/subscript_lang",draft:!1,unlisted:!1,editUrl:"https://github.com/w3f/Grants-Program/edit/master/applications/subscript_lang.md",tags:[],version:"current",frontMatter:{}},a={},d=[{value:"Project Overview \ud83d\udcc4",id:"project-overview-page_facing_up",level:2},{value:"Overview",id:"overview",level:3},{value:"Project Details",id:"project-details",level:3},{value:"Ecosystem Fit",id:"ecosystem-fit",level:3},{value:"Team \ud83d\udc65",id:"team-busts_in_silhouette",level:2},{value:"Team members",id:"team-members",level:3},{value:"Team Website",id:"team-website",level:3},{value:"Team&#39;s experience",id:"teams-experience",level:3},{value:"Team Code Repos",id:"team-code-repos",level:3},{value:"Development Roadmap \ud83d\udd29",id:"development-roadmap-nut_and_bolt",level:2},{value:"Overview",id:"overview-1",level:3},{value:"Milestone 1  \u2014 Implement smart contract low level api",id:"milestone-1---implement-smart-contract-low-level-api",level:3},{value:"Future Plans",id:"future-plans",level:2},{value:"Additional Information",id:"additional-information",level:2}];function o(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"subscript",children:"Subscript"}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Subscript:"})," Substrate smart contact written in ",(0,i.jsx)(t.code,{children:"AssemblyScript"})]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Proposer:"})," ",(0,i.jsx)(t.a,{href:"https://github.com/synote",children:"synote"})]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Payment Address:"}),"  bc1qzv5ljrt0sngjjnn25s4jzsu7qtts5d74cq8tz5"]}),"\n"]}),"\n",(0,i.jsxs)(t.h2,{id:"project-overview-page_facing_up",children:["Project Overview ","\ud83d\udcc4"]}),"\n",(0,i.jsxs)(t.p,{children:["We are intergrating AssemblyScript into substrate smart contract which is similar to parity's ink. It involve buillding substrate contract runtime api, builtin modules, and development sdk. we name the language and sdk as ",(0,i.jsx)(t.code,{children:"Subscript"}),"."]}),"\n",(0,i.jsx)(t.h3,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Subscript"})," is a smart contract language written in AssemblyScript for substrate based chain. We will provide essential substrate api and builtin tools to support contract development."]}),"\n",(0,i.jsxs)(t.p,{children:["Similar to parity ink, ",(0,i.jsx)(t.code,{children:"Subscript"})," is built on top of  AssemblyScript and follow all AssemblyScript syntax. Subscript is more like a development kit with some builtin module and tools. As assemblyscript is easy to interact with TypeScript and JavaScript, ",(0,i.jsx)(t.code,{children:"Subscript"})," is much more friendly for dapp developers."]}),"\n",(0,i.jsx)(t.h3,{id:"project-details",children:"Project Details"}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Subscript"})," is designed as standard AssemblyScript with builtin contract api. First of all, ",(0,i.jsx)(t.code,{children:"Subscript"})," libray  will provide  basic ",(0,i.jsx)(t.code,{children:"contract"})," pallet runtime api access."]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"contract runtime envionment"}),"\n",(0,i.jsxs)(t.li,{children:["contract ",(0,i.jsx)(t.code,{children:"memory"})," management"]}),"\n",(0,i.jsx)(t.li,{children:"state storage access, set and get value by key."}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"event"})," data generation and storage"]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"Subscript"})," library also add support for contract interaction utilties, including:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"contract metadata generator"}),"\n",(0,i.jsx)(t.li,{children:"basic data structure: dynimic array, map, list,"}),"\n",(0,i.jsx)(t.li,{children:"user struct storage layout"}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"account"})," and  ",(0,i.jsx)(t.code,{children:"balance"})," interface"]}),"\n",(0,i.jsx)(t.li,{children:"contract call abstraction"}),"\n",(0,i.jsx)(t.li,{children:"builtin utility fuctions"}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"The package will provide contract template and intergation tool with substrate node."}),"\n",(0,i.jsxs)(t.p,{children:["There is no plan for ",(0,i.jsx)(t.code,{children:"EVM Pallet"})," support."]}),"\n",(0,i.jsx)(t.h3,{id:"ecosystem-fit",children:"Ecosystem Fit"}),"\n",(0,i.jsxs)(t.p,{children:["Some of the function of ",(0,i.jsx)(t.code,{children:"Subscript"})," are similar to LimeChain's work of AssemblyScript Runtime, but they are  made for different scenario. LimeChain AssemblyScript Runtime focus on building substrate runtime with wasm compiled from AssemblyScript. It involves building all the substrate runtime environment entry with AssemblyScript and other basic library. ",(0,i.jsx)(t.code,{children:"Subscript"})," aims to implement all the substrate smart contract low level interface with AssemblyScript. ",(0,i.jsx)(t.code,{children:"Subscript"})," also add support for basic contract lib and project template for easy development.  We may benefit  previous work from LimeChain such as ",(0,i.jsx)(t.code,{children:"SCALE"}),"codec, runtime entry implemention."]}),"\n",(0,i.jsxs)(t.h2,{id:"team-busts_in_silhouette",children:["Team ","\ud83d\udc65"]}),"\n",(0,i.jsx)(t.h3,{id:"team-members",children:"Team members"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Symon Ho: Fullstack developer Leading consensus R&D and engineering in multichain system. Prior to that, developer of openstack project,  engaged in performance tools and  monitoring  system for cloud platform."}),"\n",(0,i.jsx)(t.li,{children:"Ice Min: 10+ years experience in c/c++ development, real time database products and digital currency transaction platform products expert. Developer of BitCoin and Ethereum wallet."}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"team-website",children:"Team Website"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://github.com/slickup",children:"https://github.com/slickup"})}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"teams-experience",children:"Team's experience"}),"\n",(0,i.jsx)(t.p,{children:"We implemented the fruitchain consensus integrated with ethereum, and used pbft to provide finalization in blockchain system.  Fruitchain mainnet launched in 2019 and privide 500+ TPS for transaction validation."}),"\n",(0,i.jsx)(t.p,{children:"We alse engaged in smart contract tools interaged with vyper for contract audit and testing."}),"\n",(0,i.jsx)(t.h3,{id:"team-code-repos",children:"Team Code Repos"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://github.com/slickup/subscript",children:"https://github.com/slickup/subscript"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://github.com/ascontract/subscript",children:"https://github.com/ascontract/subscript"})}),"\n"]}),"\n",(0,i.jsxs)(t.h2,{id:"development-roadmap-nut_and_bolt",children:["Development Roadmap ","\ud83d\udd29"]}),"\n",(0,i.jsxs)(t.p,{children:["We only provide ",(0,i.jsx)(t.strong,{children:"milestone1"}),"  here for contract runtime api implementation. Full milestones are list in the ",(0,i.jsx)(t.a,{href:"https://github.com/slickup/General-Grants-Program/blob/master/grants/speculative/subscript_lang.md",children:"general grant repo"})]}),"\n",(0,i.jsx)(t.h3,{id:"overview-1",children:"Overview"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Total Estimated Duration:"})," 2 month"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Full-time equivalent (FTE):"}),"  2"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Total Costs:"})," 2 btc"]}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"milestone-1---implement-smart-contract-low-level-api",children:"Milestone 1  \u2014 Implement smart contract low level api"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Estimated Duration:"})," 2 month"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"FTE:"}),"  2"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Costs:"})," 2 btc"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"In this milestone, all the basic substrate contract runtime api will be implemented in AssemblyScript. This stage will deliver a AssemblyScript package which provide encapsulation of current substrate contract api. With the AS api, contracts can be compiled to wasm and deployed on substrate contract node. We may benefit from the reference implemention of parity Ink and provide similar api."}),"\n",(0,i.jsx)(t.p,{children:"The AS package will cover the following substrate contract api:"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Number"}),(0,i.jsx)(t.th,{children:"Deliverable"}),(0,i.jsx)(t.th,{children:"Specification"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"0a."}),(0,i.jsx)(t.td,{children:"License"}),(0,i.jsx)(t.td,{children:"Apache 2.0"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"0b."}),(0,i.jsx)(t.td,{children:"Testing"}),(0,i.jsx)(t.td,{children:"This milestone will have unit-test for all the following runtime api impemented. We will mock most of the contract runtime api to simulate host functions. Integration test will be delivered in next milestone."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"0c."}),(0,i.jsx)(t.td,{children:"Documentation"}),(0,i.jsx)(t.td,{children:"We will provide both inline documentation of all the sdk api and  basic code example that show how developers use the api."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"1."}),(0,i.jsx)(t.td,{children:"contract runtime environment"}),(0,i.jsx)(t.td,{children:"contract builder and execution to initailize the contract code"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"2."}),(0,i.jsx)(t.td,{children:"core types"}),(0,i.jsx)(t.td,{children:"add core component: AccountId, Balance, Hash, Block"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"2."}),(0,i.jsx)(t.td,{children:"storage access"}),(0,i.jsx)(t.td,{children:"contract low level storage read and write with key"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"3."}),(0,i.jsx)(t.td,{children:"object packing utilty"}),(0,i.jsx)(t.td,{children:"Provide user-defined data structure packing and unpacking method to storage access."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"4."}),(0,i.jsx)(t.td,{children:"memory manipulation"}),(0,i.jsx)(t.td,{children:"Implement memory make and getter, setter"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"5."}),(0,i.jsx)(t.td,{children:"contract event generation"}),(0,i.jsx)(t.td,{children:"Generate event from contract call"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"6."}),(0,i.jsx)(t.td,{children:"contract call method"}),(0,i.jsx)(t.td,{children:"Provide method for make contract call."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"7."}),(0,i.jsx)(t.td,{children:"hash utility"}),(0,i.jsx)(t.td,{children:"Make digest of encoded input to generate hash image"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"8."}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"SCALE"})," codec"]}),(0,i.jsxs)(t.td,{children:["Builtin codec functions to serialize and deserialize input. We may directly use LimeChain ",(0,i.jsx)(t.code,{children:"as-scale-codec"})," implementation."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"9."}),(0,i.jsx)(t.td,{children:"example for demonstration"}),(0,i.jsx)(t.td,{children:"Provide  ERC20 contract example to test on substrate node"})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"future-plans",children:"Future Plans"}),"\n",(0,i.jsxs)(t.p,{children:["After the ",(0,i.jsx)(t.code,{children:"Subscript"})," presentation , we may make our effort to bring more  tool for contract development."]}),"\n",(0,i.jsx)(t.p,{children:"A simulated contract sandbox similar to ganache is needed to debug and test contract."}),"\n",(0,i.jsx)(t.p,{children:"We may add more intergated tool and IDE packge for contract developer."}),"\n",(0,i.jsx)(t.h2,{id:"additional-information",children:"Additional Information"}),"\n",(0,i.jsx)(t.p,{children:"We expect any developer who is interested in AssemblyScript smart contract join us and build efficient framework."})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>c});var i=n(96540);const s={},r=i.createContext(s);function l(e){const t=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);